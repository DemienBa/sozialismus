<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Das Wesen des linken Denkens</title>
  
  <!-- Open Graph / Social Media -->
  <meta property="og:title" content="Das Wesen des linken Denkens">
  <meta property="og:description" content="Interaktive Kartografie linker Ideen, Positionen und Debatten. Erkunde das lebendige Netzwerk politischer Theorie.">
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://example.com/wesen-preview.png">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Das Wesen des linken Denkens">
  <meta name="twitter:description" content="Interaktive Kartografie linker Ideen, Positionen und Debatten.">
  
  <!-- Theme Color -->
  <meta name="theme-color" content="#E53935">
  <style>
    /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       THEME-SYSTEM: CSS-Variablen
       ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
    
    :root {
      --bg-primary: #1a1a1a;
      --bg-secondary: #222;
      --bg-tertiary: #2a2a2a;
      --text-primary: #f5f5f5;
      --text-secondary: #aaa;
      --text-muted: #666;
      --accent: #E53935;
      --accent-secondary: #4CAF50;
      --accent-tertiary: #2196F3;
      --border: #333;
      --border-light: #444;
      --glow: rgba(229, 57, 53, 0.3);
      --font-main: 'Helvetica Neue', Arial, sans-serif;
      --font-display: 'Helvetica Neue', Arial, sans-serif;
      --font-mono: 'Courier New', monospace;
      --radius: 0px;
      --transition: 0.3s;
    }
    
    /* üåø MYZEL - Organisch, wachsend, pilzartig */
    body.theme-myzel {
      --bg-primary: #0a1208;
      --bg-secondary: #0f1a0d;
      --bg-tertiary: #152211;
      --text-primary: #c8d4c0;
      --text-secondary: #8a9a7a;
      --text-muted: #566046;
      --accent: #7cb342;
      --accent-secondary: #ab47bc;
      --accent-tertiary: #5d99c6;
      --border: #2a3a22;
      --border-light: #3a4a32;
      --glow: rgba(124, 179, 66, 0.4);
      --font-main: 'Georgia', 'Times New Roman', serif;
      --font-display: 'Georgia', serif;
      --radius: 20px;
    }
    
    body.theme-myzel::before {
      content: '';
      position: fixed;
      inset: 0;
      background: 
        radial-gradient(ellipse at 20% 80%, rgba(124, 179, 66, 0.05) 0%, transparent 50%),
        radial-gradient(ellipse at 80% 20%, rgba(171, 71, 188, 0.05) 0%, transparent 50%),
        radial-gradient(ellipse at 50% 50%, rgba(93, 153, 198, 0.03) 0%, transparent 70%);
      pointer-events: none;
      z-index: 0;
    }
    
    /* üî• BARRIKADE - Agitprop, revolution√§r, plakatartig */
    body.theme-barrikade {
      --bg-primary: #1a0a0a;
      --bg-secondary: #220808;
      --bg-tertiary: #2a0c0c;
      --text-primary: #fff;
      --text-secondary: #ffcccc;
      --text-muted: #aa6666;
      --accent: #ff1744;
      --accent-secondary: #ffd600;
      --accent-tertiary: #000;
      --border: #440000;
      --border-light: #660000;
      --glow: rgba(255, 23, 68, 0.5);
      --font-main: 'Impact', 'Arial Black', sans-serif;
      --font-display: 'Impact', 'Arial Black', sans-serif;
      --radius: 0px;
    }
    
    body.theme-barrikade h1,
    body.theme-barrikade h2,
    body.theme-barrikade h3 {
      text-transform: uppercase;
      letter-spacing: 0.1em;
    }
    
    /* üíª TERMINAL - Hacker, CLI, Retro-Computer */
    body.theme-terminal {
      --bg-primary: #0a0a0a;
      --bg-secondary: #0f0f0f;
      --bg-tertiary: #141414;
      --text-primary: #00ff00;
      --text-secondary: #00cc00;
      --text-muted: #006600;
      --accent: #00ff00;
      --accent-secondary: #ffff00;
      --accent-tertiary: #00ffff;
      --border: #003300;
      --border-light: #004400;
      --glow: rgba(0, 255, 0, 0.3);
      --font-main: 'Courier New', 'Monaco', monospace;
      --font-display: 'Courier New', monospace;
      --radius: 0px;
    }
    
    body.theme-terminal * {
      text-shadow: 0 0 5px var(--glow);
    }
    
    body.theme-terminal::before {
      content: '';
      position: fixed;
      inset: 0;
      background: repeating-linear-gradient(
        0deg,
        rgba(0, 0, 0, 0.1) 0px,
        rgba(0, 0, 0, 0.1) 1px,
        transparent 1px,
        transparent 2px
      );
      pointer-events: none;
      z-index: 9999;
    }
    
    /* üåå KOSMOS - Kosmisch, Sterne, unendlich */
    body.theme-kosmos {
      --bg-primary: #050510;
      --bg-secondary: #0a0a1a;
      --bg-tertiary: #101025;
      --text-primary: #e0e0ff;
      --text-secondary: #a0a0cc;
      --text-muted: #606088;
      --accent: #7c4dff;
      --accent-secondary: #00e5ff;
      --accent-tertiary: #ff4081;
      --border: #1a1a3a;
      --border-light: #2a2a4a;
      --glow: rgba(124, 77, 255, 0.4);
      --font-main: 'Segoe UI', 'Roboto', sans-serif;
      --font-display: 'Segoe UI', sans-serif;
      --radius: 8px;
    }
    
    body.theme-kosmos::before {
      content: '';
      position: fixed;
      inset: 0;
      background: 
        radial-gradient(2px 2px at 20% 30%, white, transparent),
        radial-gradient(2px 2px at 40% 70%, rgba(255,255,255,0.8), transparent),
        radial-gradient(1px 1px at 90% 40%, white, transparent),
        radial-gradient(2px 2px at 60% 80%, rgba(255,255,255,0.6), transparent),
        radial-gradient(1px 1px at 30% 50%, white, transparent),
        radial-gradient(1px 1px at 70% 20%, rgba(255,255,255,0.7), transparent),
        radial-gradient(2px 2px at 80% 90%, white, transparent),
        radial-gradient(1px 1px at 10% 60%, rgba(255,255,255,0.5), transparent);
      pointer-events: none;
      z-index: 0;
    }
    
    /* üèöÔ∏è RUINE - Verfallen, arch√§ologisch, fragmentiert */
    body.theme-ruine {
      --bg-primary: #1a1815;
      --bg-secondary: #22201a;
      --bg-tertiary: #2a2820;
      --text-primary: #d4cfc0;
      --text-secondary: #a09080;
      --text-muted: #706050;
      --accent: #c49a6c;
      --accent-secondary: #8b7355;
      --accent-tertiary: #6b8e23;
      --border: #3a3530;
      --border-light: #4a4540;
      --glow: rgba(196, 154, 108, 0.3);
      --font-main: 'Palatino', 'Book Antiqua', serif;
      --font-display: 'Palatino', serif;
      --radius: 2px;
    }
    
    /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
    
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      font-family: var(--font-main);
      background: var(--bg-primary);
      color: var(--text-primary);
      min-height: 100vh;
      transition: background var(--transition), color var(--transition);
    }
    
    header {
      padding: 0.75rem 1.5rem;
      border-bottom: 1px solid var(--border);
      background: var(--bg-secondary);
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 1rem;
      position: relative;
      z-index: 10;
      margin-left: 56px;
      height: 50px;
      transition: margin-left 0.3s;
    }
    
    body.palette-expanded header {
      margin-left: 180px;
    }
    
    h1 {
      font-family: var(--font-display);
      font-size: 1.1rem;
      font-weight: 400;
      letter-spacing: 0.05em;
      color: var(--text-primary);
    }
    
    .stats {
      font-size: 0.75rem;
      color: var(--text-muted);
    }
    
    .linsen {
      display: flex;
      gap: 0.4rem;
      flex-wrap: wrap;
      align-items: center;
    }
    
    /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       LINSEN-PALETTE: Spielerisches Interface
       ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
    
    /* Palette am linken Rand */
    .linsen-palette {
      position: fixed;
      left: 0;
      top: 0;
      bottom: 0;
      width: 56px;
      background: var(--bg-secondary);
      border-right: 1px solid var(--border);
      padding: 0.5rem;
      z-index: 100;
      display: flex;
      flex-direction: column;
      gap: 0.3rem;
      overflow-y: auto;
      transition: width 0.3s ease;
    }
    
    .linsen-palette.expanded {
      width: 180px;
      padding: 0.75rem;
    }
    
    .palette-toggle {
      background: var(--bg-tertiary);
      border: 1px solid var(--border);
      color: var(--text-secondary);
      width: 36px;
      height: 36px;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1rem;
      transition: all 0.2s;
    }
    
    .palette-toggle:hover {
      background: var(--accent);
      color: #fff;
      border-color: var(--accent);
    }
    
    .palette-section {
      display: flex;
      flex-direction: column;
      gap: 0.3rem;
      padding: 0.5rem 0;
      border-bottom: 1px solid var(--border);
    }
    
    .palette-section:last-child {
      border-bottom: none;
    }
    
    .palette-section-label {
      font-size: 0.6rem;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.1em;
      padding: 0 0.25rem;
      display: none;
    }
    
    .linsen-palette.expanded .palette-section-label {
      display: block;
    }
    
    /* Einzelne Linse */
    .linse {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--bg-tertiary);
      border: 2px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
      cursor: grab;
      transition: all 0.2s ease;
      position: relative;
    }
    
    .linse:hover {
      transform: scale(1.1);
      border-color: var(--accent);
      box-shadow: 0 0 15px var(--glow);
    }
    
    .linse.active {
      background: var(--accent);
      border-color: var(--accent);
      box-shadow: 0 0 20px var(--glow);
    }
    
    .linse.ansicht { border-color: #E53935; }
    .linse.ansicht:hover, .linse.ansicht.active { background: rgba(229, 57, 53, 0.3); }
    
    .linse.filter { border-color: #FF9800; border-style: dashed; }
    .linse.filter:hover, .linse.filter.active { background: rgba(255, 152, 0, 0.3); }
    
    .linse.werkzeug { border-color: #9C27B0; }
    .linse.werkzeug:hover, .linse.werkzeug.active { background: rgba(156, 39, 176, 0.3); }
    
    /* Kombinierbare Linsen - entfernt */
    
    .linse-label {
      position: absolute;
      left: 50px;
      top: 50%;
      transform: translateY(-50%);
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      padding: 0.3rem 0.6rem;
      border-radius: 4px;
      font-size: 0.75rem;
      color: var(--text-primary);
      white-space: nowrap;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.2s;
    }
    
    .linse:hover .linse-label {
      opacity: 1;
    }
    
    .linsen-palette.expanded .linse-label {
      position: static;
      transform: none;
      opacity: 1;
      margin-left: 0.5rem;
      background: none;
      border: none;
      padding: 0;
    }
    
    .linsen-palette.expanded .linse-wrapper {
      display: flex;
      align-items: center;
    }
    
    /* Schwebende Linse (folgt Cursor) */
    .floating-linse {
      display: none !important;
      position: fixed;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: var(--bg-secondary);
      border: 3px solid var(--accent);
      display: none;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      pointer-events: none;
      z-index: 1000;
      box-shadow: 0 0 30px var(--glow), 0 5px 20px rgba(0,0,0,0.5);
      animation: float-pulse 1.5s ease-in-out infinite;
    }
    
    .floating-linse.visible {
      display: flex;
    }
    
    .floating-linse.filter {
      border-color: #FF9800;
      box-shadow: 0 0 30px rgba(255, 152, 0, 0.5), 0 5px 20px rgba(0,0,0,0.5);
    }
    
    .floating-linse.werkzeug {
      border-color: #9C27B0;
      box-shadow: 0 0 30px rgba(156, 39, 176, 0.5), 0 5px 20px rgba(0,0,0,0.5);
    }
    
    @keyframes float-pulse {
      0%, 100% { transform: translate(-50%, -50%) scale(1); }
      50% { transform: translate(-50%, -50%) scale(1.05); }
    }
    
    /* Aktive Linsen-Anzeige (unten) - deaktiviert */
    .active-linsen {
      display: none !important;
    }
    
    body.palette-expanded .active-linsen {
      display: none !important;
    }
    
    .active-linsen:empty {
      display: none;
    }
    
    .active-chip {
      display: flex;
      align-items: center;
      gap: 0.3rem;
      background: var(--bg-tertiary);
      border-radius: 20px;
      padding: 0.3rem 0.6rem;
      font-size: 0.8rem;
    }
    
    .active-chip.ansicht { border-left: 3px solid #E53935; }
    .active-chip.filter { border-left: 3px solid #FF9800; }
    
    .active-chip .remove {
      cursor: pointer;
      opacity: 0.6;
      font-size: 0.9rem;
    }
    
    .active-chip .remove:hover {
      opacity: 1;
    }
    
    .active-linsen .separator {
      color: var(--text-muted);
      font-size: 1.2rem;
    }
    
    /* Hinweis-Box beim Aufnehmen */
    .linse-hint {
      display: none !important;
      position: fixed;
      top: 1rem;
      left: 50%;
      transform: translateX(-50%);
      background: var(--bg-secondary);
      border: 1px solid var(--accent);
      padding: 0.75rem 1.5rem;
      border-radius: 8px;
      font-size: 0.85rem;
      color: var(--text-primary);
      z-index: 1001;
      display: none;
      animation: hint-appear 0.3s ease;
    }
    
    .linse-hint.visible {
      display: block;
    }
    
    @keyframes hint-appear {
      from { opacity: 0; transform: translateX(-50%) translateY(-10px); }
      to { opacity: 1; transform: translateX(-50%) translateY(0); }
    }
    
    /* Anwende-Animation */
    .viewport-glow {
      display: none !important;
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 98;
      opacity: 0;
      transition: opacity 0.3s;
    }
    
    .viewport-glow.active {
      opacity: 1;
      animation: glow-ripple 0.6s ease-out;
    }
    
    @keyframes glow-ripple {
      0% { 
        box-shadow: inset 0 0 0 0 var(--glow);
        opacity: 1;
      }
      100% { 
        box-shadow: inset 0 0 100px 50px transparent;
        opacity: 0;
      }
    }
    
    /* Epoche-Slider in der Palette */
    .epoche-slider-vertical {
      display: none;
      flex-direction: column;
      align-items: center;
      padding: 0.5rem 0;
    }
    
    .epoche-slider-vertical.visible {
      display: flex;
    }
    
    .epoche-slider-vertical input[type="range"] {
      writing-mode: vertical-lr;
      direction: rtl;
      height: 100px;
      width: 20px;
      accent-color: #FF9800;
    }
    
    .epoche-slider-vertical .epoche-value {
      font-size: 0.7rem;
      color: #FF9800;
      margin-top: 0.3rem;
    }
    
    /* Extras (Theme, Share) am unteren Rand der Palette */
    .palette-extras {
      display: flex;
      flex-direction: column;
      gap: 0.3rem;
      margin-top: auto;
      padding-top: 0.5rem;
      border-top: 1px solid var(--border);
    }
    
    .extra-btn {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: var(--bg-tertiary);
      border: 1px solid var(--border);
      color: var(--text-secondary);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .extra-btn:hover {
      border-color: var(--accent);
      color: var(--accent);
    }
    
    /* Alte Navigation verstecken */
    .linsen-nav {
      display: none !important;
    }
    
    .filter-bar {
      display: none !important;
    }
    
    /* Theme-Modal */
    .theme-modal {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.8);
      z-index: 1000;
      align-items: center;
      justify-content: center;
    }
    
    .theme-modal.open {
      display: flex;
    }
    
    .theme-modal-content {
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 2rem;
      max-width: 600px;
      width: 90%;
      max-height: 90vh;
      overflow-y: auto;
    }
    
    .theme-modal h2 {
      margin-bottom: 1.5rem;
      color: var(--text-primary);
    }
    
    .theme-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      gap: 1rem;
    }
    
    .theme-option {
      background: var(--bg-tertiary);
      border: 2px solid var(--border);
      border-radius: 8px;
      padding: 1rem;
      cursor: pointer;
      text-align: center;
      transition: all 0.2s;
    }
    
    .theme-option:hover {
      border-color: var(--accent);
    }
    
    .theme-option.active {
      border-color: var(--accent);
      background: rgba(229, 57, 53, 0.1);
    }
    
    .theme-option .icon {
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }
    
    .theme-option .name {
      font-weight: bold;
      color: var(--text-primary);
    }
    
    .theme-option .desc {
      font-size: 0.75rem;
      color: var(--text-muted);
      margin-top: 0.3rem;
    }
    
    /* Social Media Buttons */
    .social-btn {
      padding: 0.5rem 1rem;
      border: none;
      color: #fff;
      cursor: pointer;
      border-radius: 4px;
      font-size: 0.8rem;
      transition: opacity 0.2s;
    }
    
    .social-btn:hover {
      opacity: 0.8;
    }
    
    .share-section {
      padding: 1rem;
      background: var(--bg-tertiary);
      border-radius: 8px;
      margin-bottom: 1rem;
    }
    
    /* Filter-Bar (zeigt aktive Filter) */
    .filter-bar {
      display: none;
      align-items: center;
      gap: 1rem;
      padding: 0.5rem 2rem;
      background: rgba(255, 152, 0, 0.05);
      border-bottom: 1px solid #333;
    }
    
    .filter-bar.visible {
      display: flex;
    }
    
    .filter-bar-label {
      font-size: 0.7rem;
      color: #888;
    }
    
    .filter-chips {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
    }
    
    .filter-chip {
      display: flex;
      align-items: center;
      gap: 0.3rem;
      background: rgba(255, 152, 0, 0.2);
      border: 1px solid #FF9800;
      color: #FF9800;
      padding: 0.2rem 0.5rem;
      border-radius: 3px;
      font-size: 0.7rem;
    }
    
    .filter-chip .remove {
      cursor: pointer;
      opacity: 0.7;
      font-size: 0.8rem;
    }
    
    .filter-chip .remove:hover {
      opacity: 1;
    }
    
    .epoche-control {
      display: none;
      align-items: center;
      gap: 0.5rem;
      margin-left: auto;
    }
    
    .epoche-control.visible {
      display: flex;
    }
    
    .epoche-control input[type="range"] {
      width: 150px;
      accent-color: #FF9800;
    }
    
    #epoche-wert {
      font-size: 0.75rem;
      color: #FF9800;
      min-width: 60px;
    }
    
    /* Linsen-Trenner entfernen (nicht mehr n√∂tig) */
    .linsen-trenner {
      display: none;
    }
    
    /* Alte Linsen-Buttons verstecken falls noch vorhanden */
    .linse-btn {
      display: none;
    }
    
    /* Wesen-Container (Startbildschirm) */
    #wesen-container {
      flex: 1;
      position: relative;
      overflow: hidden;
      display: block;
    }
    
    #wesen-container.hidden {
      display: none;
    }
    
    #wesen-canvas {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
    
    .wesen-overlay {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 10;
      text-align: center;
      pointer-events: none;
      opacity: 0.6;
      transition: opacity 0.3s;
    }
    
    .wesen-overlay h2 {
      font-weight: 300;
      font-size: 1.5rem;
      color: rgba(255,255,255,0.5);
      margin-bottom: 0.5rem;
    }
    
    .wesen-overlay p {
      font-size: 0.9rem;
      color: rgba(255,255,255,0.3);
    }
    
    #wesen-container.drag-active .wesen-overlay {
      opacity: 1;
    }
    
    #wesen-container.drag-active .wesen-overlay h2 {
      color: #E53935;
    }
    
    /* Linsen als draggable */
    .linse-btn {
      cursor: grab;
    }
    
    .linse-btn:active {
      cursor: grabbing;
    }
    
    .linse-btn.dragging {
      opacity: 0.5;
    }

    main {
      display: flex;
      height: calc(100vh - 50px);
      margin-left: 56px; /* Platz f√ºr Palette */
      transition: margin-left 0.3s;
    }
    
    body.palette-expanded main {
      margin-left: 180px;
    }
    
    #netzwerk-container {
      flex: 1;
      position: relative;
      overflow: hidden;
      min-height: 500px;
      height: calc(100vh - 50px);
      display: block;
      background: var(--bg-primary);
    }
    
    #netzwerk-container.hidden {
      display: none !important;
    }
    
    #netzwerk3d {
      width: 100%;
      height: 100%;
      display: block;
      position: relative;
      z-index: 1;
    }
    
    #detail-panel {
      width: 420px;
      background: #222;
      border-left: 1px solid #333;
      overflow-y: auto;
      padding: 1.5rem;
      display: none;
      position: relative;
    }
    
    #detail-panel.open {
      display: block;
    }
    
    #detail-panel h2 {
      font-size: 1.4rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: #E53935;
    }
    
    .achse-tag {
      display: inline-block;
      background: #333;
      padding: 0.2rem 0.5rem;
      font-size: 0.7rem;
      border-radius: 3px;
      margin-bottom: 1rem;
    }
    
    .beschreibung {
      font-size: 0.95rem;
      line-height: 1.6;
      color: #ccc;
      margin-bottom: 1.5rem;
    }
    
    #detail-panel h3 {
      font-size: 0.75rem;
      font-weight: 600;
      letter-spacing: 0.05em;
      color: #888;
      margin: 1.5rem 0 0.75rem;
      text-transform: uppercase;
    }
    
    .zitat {
      background: #2a2a2a;
      padding: 1rem;
      border-left: 3px solid #E53935;
      margin-bottom: 0.75rem;
      font-style: italic;
      font-size: 0.95rem;
      line-height: 1.5;
    }
    
    .zitat-autor {
      font-size: 0.8rem;
      color: #888;
      margin-top: 0.5rem;
      font-style: normal;
    }
    
    .bewohner {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
    }
    
    .bewohner span {
      background: #333;
      padding: 0.3rem 0.6rem;
      font-size: 0.8rem;
      border-radius: 3px;
    }
    
    .person-link {
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .person-link:hover {
      color: var(--accent);
      text-decoration: underline;
    }
    
    .bewohner .person-link {
      display: inline-block;
      background: #333;
      padding: 0.3rem 0.6rem;
      font-size: 0.8rem;
      border-radius: 3px;
    }
    
    .bewohner .person-link:hover {
      background: #444;
    }
    
    .literatur-item {
      background: #2a2a2a;
      padding: 0.75rem;
      margin-bottom: 0.5rem;
      border-radius: 4px;
    }
    
    .literatur-item .titel {
      font-weight: 600;
      color: #fff;
    }
    
    .literatur-item .autor {
      font-size: 0.85rem;
      color: #888;
    }
    
    .frei-tag {
      display: inline-block;
      background: #4CAF50;
      color: #fff;
      font-size: 0.65rem;
      padding: 0.1rem 0.4rem;
      border-radius: 2px;
      margin-left: 0.5rem;
    }
    
    .literatur-item a {
      color: #E53935;
      font-size: 0.8rem;
      text-decoration: none;
    }
    
    .literatur-item a:hover {
      text-decoration: underline;
    }
    
    .verbindungen {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
    }
    
    .verbindung {
      background: #333;
      padding: 0.3rem 0.6rem;
      font-size: 0.8rem;
      border-radius: 3px;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .verbindung:hover {
      background: #E53935;
    }
    
    .verbindung.stark {
      border: 1px solid #4CAF50;
    }
    
    .verbindung.debatte {
      border: 1px solid #FF9800;
    }
    
    .close-btn {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: none;
      border: none;
      color: #888;
      font-size: 1.5rem;
      cursor: pointer;
    }
    
    .close-btn:hover {
      color: #fff;
    }
    
    .atmosphaere {
      background: #1a1a1a;
      padding: 1rem;
      border-radius: 4px;
      font-size: 0.85rem;
      color: #888;
      line-height: 1.6;
    }
    
    #debatten-container {
      flex: 1;
      display: none;
      padding: 2rem;
      overflow-y: auto;
    }
    
    #debatten-container.active {
      display: block;
    }
    
    .debatte-card {
      background: #222;
      border: 1px solid #333;
      border-radius: 8px;
      padding: 1.5rem;
      margin-bottom: 1.5rem;
      max-width: 900px;
      margin-left: auto;
      margin-right: auto;
    }
    
    .debatte-card h2 {
      font-size: 1.2rem;
      color: #FF9800;
      margin-bottom: 0.5rem;
    }
    
    .debatte-card .frage {
      font-style: italic;
      color: #aaa;
      margin-bottom: 1.5rem;
    }
    
    .debatte-seiten {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1.5rem;
    }
    
    @media (max-width: 600px) {
      .debatte-seiten {
        grid-template-columns: 1fr;
      }
      #detail-panel {
        width: 100%;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: 100;
      }
    }
    
    .debatte-seite {
      background: #2a2a2a;
      padding: 1rem;
      border-radius: 4px;
    }
    
    .debatte-seite.a {
      border-left: 3px solid #E53935;
    }
    
    .debatte-seite.b {
      border-left: 3px solid #2196F3;
    }
    
    .debatte-seite h4 {
      font-size: 0.9rem;
      margin-bottom: 0.75rem;
      color: #fff;
    }
    
    .debatte-seite ul {
      list-style: none;
      font-size: 0.85rem;
      color: #bbb;
    }
    
    .debatte-seite li {
      margin-bottom: 0.5rem;
      padding-left: 1rem;
      position: relative;
    }
    
    .debatte-seite li::before {
      content: "‚Üí";
      position: absolute;
      left: 0;
      color: #666;
    }
    
    .debatte-historisch {
      margin-top: 1rem;
      padding-top: 1rem;
      border-top: 1px solid #333;
      font-size: 0.85rem;
      color: #888;
    }
    
    .debatte-texte {
      margin-top: 1rem;
      padding-top: 1rem;
      border-top: 1px solid #333;
    }
    
    .debatte-texte a {
      display: inline-block;
      color: #E53935;
      font-size: 0.85rem;
      margin-right: 1rem;
      text-decoration: none;
    }
    
    .debatte-texte a:hover {
      text-decoration: underline;
    }
    
    .legende {
      position: absolute;
      bottom: 1rem;
      left: 1rem;
      background: #222;
      padding: 0.75rem 1rem;
      border-radius: 4px;
      font-size: 0.75rem;
      color: #888;
    }
    
    .legende-item {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 0.3rem;
    }
    
    .legende-item:last-child {
      margin-bottom: 0;
    }
    
    .legende-linie {
      width: 20px;
      height: 3px;
    }
    
    .legende-linie.gruen { background: #4CAF50; }
    .legende-linie.orange { background: #FF9800; }
    .legende-linie.grau { background: #555; }

    /* Liste */
    #liste-container {
      flex: 1;
      display: none;
      padding: 2rem;
      overflow-y: auto;
    }
    
    #liste-container.active {
      display: block;
    }
    
    .liste-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 1rem;
      max-width: 1200px;
      margin: 0 auto;
    }
    
    .liste-item {
      background: #222;
      border: 1px solid #333;
      padding: 1rem;
      border-radius: 4px;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .liste-item:hover {
      border-color: #E53935;
      background: #2a2a2a;
    }
    
    .liste-item .name {
      font-weight: 600;
      color: #fff;
      margin-bottom: 0.25rem;
    }
    
    .liste-item .achse {
      font-size: 0.7rem;
      color: #E53935;
      margin-bottom: 0.5rem;
    }
    
    .liste-item .beschreibung {
      font-size: 0.8rem;
      color: #888;
      line-height: 1.4;
      margin: 0;
    }

    /* Karte */
    #karte-container {
      flex: 1;
      display: none;
      padding: 2rem;
      overflow: auto;
    }
    #karte-container.active { display: block; }
    
    .karte-wrapper {
      max-width: 1000px;
      margin: 0 auto;
    }
    
    .karte-header {
      text-align: center;
      margin-bottom: 1rem;
      color: #666;
      font-size: 0.8rem;
    }
    
    .karte-grid {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 2px;
      background: #333;
      border: 1px solid #333;
    }
    
    .karte-cell {
      background: #222;
      padding: 0.5rem;
      min-height: 60px;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
    }
    
    .karte-cell:hover {
      background: #2a2a2a;
      transform: scale(1.05);
      z-index: 10;
    }
    
    .karte-cell .name {
      font-size: 0.7rem;
      font-weight: 500;
      color: #fff;
    }
    
    .karte-cell .id {
      font-size: 0.6rem;
      color: #666;
    }
    
    .karte-achse-label {
      background: #E53935;
      color: #fff;
      font-size: 0.7rem;
      font-weight: 600;
      padding: 0.5rem;
      text-align: center;
    }

    /* Zeitleiste */
    #zeitleiste-container {
      flex: 1;
      display: none;
      padding: 2rem;
      overflow-y: auto;
    }
    #zeitleiste-container.active { display: block; }
    
    /* Stammbaum */
    #stammbaum-container {
      flex: 1;
      display: none;
      padding: 1rem;
      overflow: auto;
      background: linear-gradient(180deg, #1a1a2e 0%, #16213e 50%, #1a1a2e 100%);
    }
    #stammbaum-container.active { display: block; }
    
    .stammbaum-wrapper {
      min-width: 1200px;
      padding: 2rem;
    }
    
    .stammbaum-svg {
      width: 100%;
      height: auto;
      min-height: 800px;
    }
    
    .stammbaum-epoche {
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .stammbaum-epoche:hover {
      filter: brightness(1.2);
    }
    
    .stammbaum-epoche rect {
      rx: 8;
      ry: 8;
    }
    
    .stammbaum-person {
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .stammbaum-person:hover {
      transform: scale(1.1);
    }
    
    .stammbaum-person circle {
      stroke-width: 2;
      stroke: #fff;
    }
    
    .stammbaum-linie {
      stroke: #555;
      stroke-width: 2;
      fill: none;
      opacity: 0.6;
    }
    
    .stammbaum-linie.einfluss {
      stroke: #4CAF50;
      stroke-dasharray: 5,5;
    }
    
    .stammbaum-linie.konflikt {
      stroke: #f44336;
      stroke-dasharray: 3,3;
    }
    
    .stammbaum-label {
      fill: #fff;
      font-size: 11px;
      text-anchor: middle;
      pointer-events: none;
    }
    
    .stammbaum-epoche-label {
      fill: #fff;
      font-size: 14px;
      font-weight: 600;
      text-anchor: middle;
    }
    
    .stammbaum-zeit-label {
      fill: #888;
      font-size: 10px;
      text-anchor: middle;
    }
    
    .stammbaum-legende {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      background: rgba(0,0,0,0.8);
      padding: 1rem;
      border-radius: 8px;
      font-size: 0.8rem;
      z-index: 100;
    }
    
    .stammbaum-legende-item {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 0.5rem;
    }
    
    .stammbaum-legende-linie {
      width: 30px;
      height: 3px;
    }
    
    .zeitleiste-wrapper {
      max-width: 800px;
      margin: 0 auto;
    }
    
    .zeitleiste-item {
      display: flex;
      gap: 1.5rem;
      margin-bottom: 1.5rem;
      padding-bottom: 1.5rem;
      border-bottom: 1px solid #333;
    }
    
    .zeitleiste-jahr {
      min-width: 80px;
      font-size: 1.2rem;
      font-weight: 600;
      color: #E53935;
    }
    
    .zeitleiste-content h3 {
      font-size: 1rem;
      color: #fff;
      margin-bottom: 0.3rem;
    }
    
    .zeitleiste-content p {
      font-size: 0.85rem;
      color: #888;
      margin-bottom: 0.5rem;
    }
    
    .zeitleiste-content .personen {
      font-size: 0.75rem;
      color: #666;
    }

    /* Bibliothek */
    #bibliothek-container {
      flex: 1;
      display: none;
      padding: 2rem;
      overflow-y: auto;
    }
    #bibliothek-container.active { display: block; }
    
    .bibliothek-wrapper {
      max-width: 900px;
      margin: 0 auto;
    }
    
    .bibliothek-section {
      margin-bottom: 2rem;
    }
    
    .bibliothek-section h2 {
      font-size: 1rem;
      color: #E53935;
      margin-bottom: 1rem;
      padding-bottom: 0.5rem;
      border-bottom: 1px solid #333;
    }
    
    .buch-item {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      padding: 0.75rem;
      background: #222;
      margin-bottom: 0.5rem;
      border-radius: 4px;
    }
    
    .buch-item:hover {
      background: #2a2a2a;
    }
    
    .buch-info .titel {
      font-weight: 600;
      color: #fff;
    }
    
    .buch-info .autor {
      font-size: 0.85rem;
      color: #888;
    }
    
    .buch-info .kontext {
      font-size: 0.75rem;
      color: #666;
      margin-top: 0.25rem;
    }
    
    .buch-meta {
      text-align: right;
      font-size: 0.75rem;
    }
    
    .buch-meta a {
      color: #E53935;
      text-decoration: none;
    }

    /* Praxis */
    #praxis-container {
      flex: 1;
      display: none;
      padding: 2rem;
      overflow-y: auto;
    }
    #praxis-container.active { display: block; }
    
    .praxis-wrapper {
      max-width: 900px;
      margin: 0 auto;
    }
    
    .praxis-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 1rem;
    }
    
    .praxis-card {
      background: #222;
      border: 1px solid #333;
      border-radius: 4px;
      padding: 1rem;
    }
    
    .praxis-card h3 {
      font-size: 1rem;
      color: #4CAF50;
      margin-bottom: 0.25rem;
    }
    
    .praxis-card .meta {
      font-size: 0.8rem;
      color: #888;
      margin-bottom: 0.5rem;
    }
    
    .praxis-card .beschreibung {
      font-size: 0.85rem;
      color: #aaa;
      margin-bottom: 0.5rem;
    }
    
    .praxis-card .kontext {
      font-size: 0.7rem;
      color: #666;
    }

    /* Fragen */
    #fragen-container {
      flex: 1;
      display: none;
      padding: 2rem;
      overflow-y: auto;
    }
    #fragen-container.active { display: block; }
    
    .fragen-wrapper {
      max-width: 800px;
      margin: 0 auto;
    }
    
    .frage-item {
      background: #222;
      padding: 1rem;
      margin-bottom: 0.75rem;
      border-radius: 4px;
      border-left: 3px solid #FF9800;
      cursor: pointer;
    }
    
    .frage-item:hover {
      background: #2a2a2a;
    }
    
    .frage-item .frage {
      color: #fff;
      font-size: 0.95rem;
      margin-bottom: 0.3rem;
    }
    
    .frage-item .kontext {
      font-size: 0.75rem;
      color: #666;
    }

    /* Zufall */
    #zufall-container {
      flex: 1;
      display: none;
      padding: 2rem;
      justify-content: center;
      align-items: center;
    }
    #zufall-container.active { display: flex; }
    
    .zufall-card {
      max-width: 500px;
      background: #222;
      border: 2px solid #E53935;
      border-radius: 8px;
      padding: 2rem;
      text-align: center;
    }
    
    .zufall-card h2 {
      font-size: 1.5rem;
      color: #E53935;
      margin-bottom: 0.5rem;
    }
    
    .zufall-card .achse {
      font-size: 0.8rem;
      color: #888;
      margin-bottom: 1rem;
    }
    
    .zufall-card .beschreibung {
      font-size: 1rem;
      color: #ccc;
      line-height: 1.6;
      margin-bottom: 1.5rem;
    }
    
    .zufall-card .zitat {
      background: #1a1a1a;
      padding: 1rem;
      border-left: 3px solid #E53935;
      font-style: italic;
      margin-bottom: 1.5rem;
      text-align: left;
    }
    
    .zufall-btn {
      background: #E53935;
      border: none;
      color: #fff;
      padding: 0.75rem 1.5rem;
      font-size: 1rem;
      cursor: pointer;
      border-radius: 4px;
      margin-right: 0.5rem;
    }
    
    .zufall-btn:hover {
      background: #c62828;
    }
    
    .zufall-btn.secondary {
      background: #333;
    }
    
    .zufall-btn.secondary:hover {
      background: #444;
    }

    /* Mein Kosmos */
    #kosmos-container {
      flex: 1;
      display: none;
      padding: 2rem;
      overflow-y: auto;
    }
    #kosmos-container.active { display: block; }
    
    .kosmos-wrapper {
      max-width: 700px;
      margin: 0 auto;
    }
    
    .kosmos-intro {
      text-align: center;
      margin-bottom: 2rem;
    }
    
    .kosmos-intro h2 {
      color: #E53935;
      margin-bottom: 0.5rem;
    }
    
    .kosmos-intro p {
      color: #888;
      font-size: 0.9rem;
    }
    
    .kosmos-slider-group {
      background: #222;
      padding: 1rem;
      margin-bottom: 0.75rem;
      border-radius: 4px;
    }
    
    .kosmos-slider-group label {
      display: flex;
      justify-content: space-between;
      font-size: 0.85rem;
      color: #fff;
      margin-bottom: 0.5rem;
    }
    
    .kosmos-slider-group .achse-name {
      color: #888;
      font-size: 0.75rem;
    }
    
    .kosmos-slider-group input[type="range"] {
      width: 100%;
      margin-bottom: 0.25rem;
    }
    
    .kosmos-slider-group .labels {
      display: flex;
      justify-content: space-between;
      font-size: 0.65rem;
      color: #666;
    }
    
    .kosmos-result {
      margin-top: 2rem;
      padding: 1.5rem;
      background: #222;
      border-radius: 8px;
      border: 1px solid #E53935;
    }
    
    .kosmos-result h3 {
      color: #E53935;
      margin-bottom: 1rem;
    }
    
    .kosmos-nachbarn {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
    }
    
    .kosmos-nachbar {
      background: #333;
      padding: 0.4rem 0.8rem;
      border-radius: 4px;
      font-size: 0.85rem;
      cursor: pointer;
    }
    
    .kosmos-nachbar:hover {
      background: #E53935;
    }
    
    .kosmos-nachbar .distanz {
      font-size: 0.7rem;
      color: #888;
      margin-left: 0.3rem;
    }

    /* Reaktor */
    #reaktor-panel {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: #1a1a1a;
      border-top: 2px solid #E53935;
      padding: 1.5rem 2rem;
      display: none;
      z-index: 200;
      max-height: 50vh;
      overflow-y: auto;
    }
    
    #reaktor-panel.open {
      display: block;
    }
    
    .reaktor-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 1rem;
    }
    
    .reaktor-titel {
      display: flex;
      align-items: center;
      gap: 1rem;
    }
    
    .reaktor-titel h2 {
      font-size: 1.1rem;
      color: #fff;
      font-weight: 400;
    }
    
    .reaktor-titel .vs {
      color: #E53935;
      font-size: 1.5rem;
    }
    
    .reaktor-close {
      background: none;
      border: none;
      color: #888;
      font-size: 1.5rem;
      cursor: pointer;
    }
    
    .reaktor-body {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 1.5rem;
    }
    
    @media (max-width: 800px) {
      .reaktor-body {
        grid-template-columns: 1fr;
      }
    }
    
    .reaktor-section h3 {
      font-size: 0.75rem;
      color: #888;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      margin-bottom: 0.75rem;
    }
    
    .reaktor-verbindung {
      background: #222;
      padding: 1rem;
      border-radius: 4px;
    }
    
    .reaktor-verbindung.direkt {
      border-left: 3px solid #4CAF50;
    }
    
    .reaktor-verbindung.debatte {
      border-left: 3px solid #FF9800;
    }
    
    .reaktor-verbindung.keine {
      border-left: 3px solid #666;
    }
    
    .reaktor-distanz {
      font-size: 2rem;
      font-weight: 600;
      color: #E53935;
    }
    
    .reaktor-distanz-label {
      font-size: 0.8rem;
      color: #888;
    }
    
    .reaktor-nachbarn {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
    }
    
    .reaktor-nachbar {
      background: #333;
      padding: 0.3rem 0.6rem;
      font-size: 0.75rem;
      border-radius: 3px;
      cursor: pointer;
    }
    
    .reaktor-nachbar:hover {
      background: #E53935;
    }
    
    .reaktor-synthese {
      background: #222;
      padding: 1rem;
      border-radius: 4px;
      font-size: 0.9rem;
      line-height: 1.5;
      color: #ccc;
    }
    
    .reaktor-frage {
      background: #2a2a2a;
      padding: 0.75rem;
      border-left: 3px solid #FF9800;
      font-style: italic;
      color: #aaa;
      margin-top: 0.75rem;
    }
    
    .reaktor-hint {
      position: fixed;
      bottom: 1rem;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0,0,0,0.8);
      color: #888;
      padding: 0.5rem 1rem;
      border-radius: 4px;
      font-size: 0.75rem;
      pointer-events: none;
      z-index: 50;
    }
    
    .node-dragging {
      opacity: 0.5;
    }
    
    .node-drop-target circle {
      stroke: #4CAF50 !important;
      stroke-width: 4px !important;
    }
    
    /* Such-System */
    .suche-wrapper {
      position: relative;
    }
    
    .suche-ergebnisse {
      display: none;
      position: absolute;
      top: 100%;
      right: 0;
      width: 350px;
      max-height: 400px;
      overflow-y: auto;
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      border-radius: 8px;
      margin-top: 0.5rem;
      box-shadow: 0 4px 20px rgba(0,0,0,0.4);
      z-index: 1000;
    }
    
    .suche-kategorie {
      padding: 0.5rem;
      border-bottom: 1px solid var(--border);
    }
    
    .suche-kategorie:last-child {
      border-bottom: none;
    }
    
    .suche-kategorie-titel {
      font-size: 0.75rem;
      color: var(--text-secondary);
      padding: 0.3rem 0.5rem;
      font-weight: 600;
    }
    
    .suche-item {
      padding: 0.5rem;
      border-radius: 4px;
      cursor: pointer;
      transition: background 0.2s;
    }
    
    .suche-item:hover {
      background: rgba(255,255,255,0.1);
    }
    
    .suche-item-name {
      display: block;
      color: var(--text-primary);
      font-size: 0.9rem;
    }
    
    .suche-item-meta {
      display: block;
      color: var(--text-secondary);
      font-size: 0.75rem;
      margin-top: 0.2rem;
    }
    
    .suche-item-zitat {
      display: block;
      color: var(--text-primary);
      font-size: 0.85rem;
      font-style: italic;
    }
    
    .suche-leer {
      padding: 1rem;
      text-align: center;
      color: var(--text-secondary);
    }
    
    /* Konzept-Box */
    .info-toggle {
      background: transparent;
      border: 1px solid #555;
      color: #aaa;
      padding: 0.4rem 0.8rem;
      font-size: 0.75rem;
      cursor: pointer;
      border-radius: 3px;
    }
    .info-toggle:hover { background: #333; color: #fff; }
    
    .konzept-box {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0.9);
      background: #222;
      border: 1px solid #444;
      border-radius: 8px;
      padding: 2rem;
      max-width: 700px;
      max-height: 80vh;
      overflow-y: auto;
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }
    .konzept-box.open {
      opacity: 1;
      visibility: visible;
      transform: translate(-50%, -50%) scale(1);
    }
    .konzept-box h2 { color: #E53935; margin-bottom: 1rem; }
    .konzept-box h3 { color: #aaa; margin: 1.5rem 0 0.5rem; font-size: 1rem; }
    .konzept-box p { line-height: 1.6; margin-bottom: 0.75rem; color: #ccc; }
    .konzept-box ul { margin-left: 1.5rem; margin-bottom: 1rem; }
    .konzept-box li { margin-bottom: 0.5rem; color: #aaa; }
    .konzept-box li strong { color: #fff; }
    .konzept-box em { color: #FF9800; font-style: normal; }
    
    /* WG-Container */
    #wg-container {
      display: none;
      flex: 1;
      flex-direction: column;
      padding: 2rem;
      overflow-y: auto;
    }
    .wg-haus {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1rem;
      max-width: 1200px;
      margin: 0 auto;
    }
    .wg-stockwerk {
      grid-column: 1 / -1;
      background: linear-gradient(to right, #2a2a2a, #333, #2a2a2a);
      padding: 0.5rem 1rem;
      border-radius: 4px;
      font-size: 0.9rem;
      color: #888;
      margin: 0.5rem 0;
    }
    .wg-zimmer {
      background: #252525;
      border: 1px solid #333;
      border-radius: 8px;
      padding: 1rem;
      cursor: pointer;
      transition: all 0.2s;
    }
    .wg-zimmer:hover {
      border-color: #555;
      transform: translateY(-2px);
    }
    .wg-zimmer h3 { font-size: 0.9rem; color: #fff; margin-bottom: 0.5rem; }
    .wg-zimmer .bewohner { font-size: 0.75rem; color: #888; }
    .wg-zimmer .atmosphaere { 
      font-size: 0.7rem; 
      color: #666; 
      margin-top: 0.5rem;
      padding-top: 0.5rem;
      border-top: 1px solid #333;
      font-style: italic;
    }
    
    /* √ñkosystem-Container */
    #oekosystem-container {
      display: none;
      flex: 1;
      flex-direction: column;
      padding: 2rem;
      overflow-y: auto;
    }
    .oeko-zone {
      margin-bottom: 2rem;
    }
    .oeko-zone h3 {
      color: #4CAF50;
      margin-bottom: 1rem;
      padding-bottom: 0.5rem;
      border-bottom: 1px solid #333;
    }
    .oeko-arten {
      display: flex;
      flex-wrap: wrap;
      gap: 0.75rem;
    }
    .oeko-art {
      background: #252525;
      border: 1px solid #333;
      border-radius: 4px;
      padding: 0.5rem 0.75rem;
      font-size: 0.8rem;
      cursor: pointer;
    }
    .oeko-art:hover { border-color: #4CAF50; }
    .oeko-art.dominant { border-color: #4CAF50; background: #2a3a2a; }
    .oeko-art.pioneer { border-color: #FF9800; background: #3a3020; }
    .oeko-art.symbiont { border-color: #2196F3; background: #202a3a; }
    .oeko-art.endangered { border-color: #f44336; background: #3a2020; opacity: 0.7; }
    
    /* Labor-Container */
    #labor-container {
      display: none;
      flex: 1;
      flex-direction: column;
      padding: 2rem;
      overflow-y: auto;
    }
    .periodensystem {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
      gap: 0.5rem;
      max-width: 1200px;
      margin: 0 auto;
    }
    .element {
      background: #252525;
      border: 1px solid #444;
      border-radius: 4px;
      padding: 0.5rem;
      text-align: center;
      cursor: pointer;
      transition: all 0.2s;
    }
    .element:hover { transform: scale(1.1); z-index: 10; }
    .element .symbol { font-size: 1.2rem; font-weight: bold; }
    .element .name { font-size: 0.6rem; color: #888; margin-top: 0.25rem; }
    .element.edelgas { border-color: #9C27B0; background: #2a202a; }
    .element.alkali { border-color: #f44336; background: #3a2020; }
    .element.katalysator { border-color: #FF9800; background: #3a3020; }
    .element.stabil { border-color: #4CAF50; background: #2a3a2a; }
    
    .reaktionsgleichung {
      background: #1a1a1a;
      border: 1px solid #333;
      border-radius: 8px;
      padding: 1.5rem;
      margin-top: 2rem;
      font-family: monospace;
    }
    .reaktionsgleichung h3 { color: #FF9800; margin-bottom: 1rem; }
    .reaktion { margin-bottom: 1rem; color: #aaa; }
    .reaktion .formel { font-size: 1.1rem; color: #fff; }
    .reaktion .ergebnis { color: #666; font-size: 0.85rem; }
    
    /* Epochen-Container */
    #zeit-container {
      display: none;
      flex: 1;
      flex-direction: column;
      padding: 2rem;
      overflow-y: auto;
    }
    .epochen-nav {
      display: flex;
      gap: 0.5rem;
      margin-bottom: 2rem;
      flex-wrap: wrap;
    }
    .epoche-btn {
      background: #252525;
      border: 1px solid #444;
      color: #aaa;
      padding: 0.75rem 1.5rem;
      cursor: pointer;
      border-radius: 4px;
      font-size: 0.85rem;
    }
    .epoche-btn:hover { border-color: #666; }
    .epoche-btn.active { border-color: #E53935; color: #fff; background: #2a2020; }
    .epochen-inhalt {
      background: #222;
      border-radius: 8px;
      padding: 2rem;
    }
    .epochen-inhalt h3 { color: #E53935; margin-bottom: 1rem; }
    .epochen-inhalt p { color: #aaa; line-height: 1.6; margin-bottom: 1rem; }
    .epochen-knoten {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-top: 1rem;
    }
    .epochen-knoten span {
      background: #333;
      padding: 0.3rem 0.6rem;
      border-radius: 3px;
      font-size: 0.8rem;
      cursor: pointer;
    }
    .epochen-knoten span:hover { background: #444; }
    .epochen-knoten span.geboren { border-left: 3px solid #4CAF50; }
    .epochen-knoten span.aktiv { border-left: 3px solid #FF9800; }
    .epochen-knoten span.tot { border-left: 3px solid #666; opacity: 0.5; }
    
    /* Stammbaum-Container */
    #stammbaum-container {
      display: none;
      flex: 1;
      flex-direction: column;
      padding: 2rem;
      overflow-y: auto;
    }
    .stammbaum-generation {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 2rem;
      flex-wrap: wrap;
    }
    .stammbaum-knoten {
      background: #252525;
      border: 1px solid #444;
      border-radius: 8px;
      padding: 0.75rem 1rem;
      text-align: center;
      cursor: pointer;
      min-width: 120px;
    }
    .stammbaum-knoten:hover { border-color: #E53935; }
    .stammbaum-knoten .name { font-weight: 500; }
    .stammbaum-knoten .zeit { font-size: 0.75rem; color: #666; }
    .stammbaum-linie {
      width: 2px;
      height: 30px;
      background: #444;
      margin: 0 auto;
    }
    
    /* Dialoge-Container */
    #dialoge-container {
      display: none;
      flex: 1;
      flex-direction: column;
      padding: 2rem;
      overflow-y: auto;
    }
    .dialog-box {
      max-width: 800px;
      margin: 0 auto 2rem;
      background: #222;
      border-radius: 8px;
      padding: 1.5rem;
    }
    .dialog-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid #333;
    }
    .dialog-sprecher {
      padding: 0.3rem 0.6rem;
      border-radius: 4px;
      font-size: 0.85rem;
      cursor: pointer;
    }
    .dialog-sprecher.links { background: #E53935; color: #fff; }
    .dialog-sprecher.rechts { background: #2196F3; color: #fff; }
    .dialog-zeile {
      margin-bottom: 1rem;
      padding: 1rem;
      border-radius: 8px;
    }
    .dialog-zeile.links { background: #2a2020; border-left: 3px solid #E53935; margin-right: 20%; }
    .dialog-zeile.rechts { background: #202a30; border-left: 3px solid #2196F3; margin-left: 20%; }
    .dialog-zeile .autor { font-weight: 500; color: #aaa; margin-bottom: 0.5rem; }
    .dialog-zeile .text { line-height: 1.6; }
    
    /* Zitate-Container */
    #zitate-container {
      display: none;
      flex: 1;
      flex-direction: column;
      padding: 2rem;
      overflow-y: auto;
    }
    .zitat-card {
      background: #222;
      border-left: 3px solid #E53935;
      padding: 1.5rem;
      margin-bottom: 1.5rem;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
    }
    .zitat-text {
      font-size: 1.1rem;
      line-height: 1.6;
      font-style: italic;
      color: #ddd;
      margin-bottom: 1rem;
    }
    .zitat-quelle {
      display: flex;
      justify-content: space-between;
      color: #888;
      font-size: 0.85rem;
    }
    .zitat-autor { cursor: pointer; }
    .zitat-autor:hover { color: #E53935; }
    
    /* Konfigurator-Container */
    #konfigurator-container {
      display: none;
      flex: 1;
      flex-direction: column;
      padding: 2rem;
      overflow-y: auto;
    }
    .konfig-achse {
      margin-bottom: 2rem;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
    }
    .konfig-achse h3 {
      color: #aaa;
      font-size: 0.9rem;
      margin-bottom: 0.75rem;
    }
    .konfig-slider {
      display: flex;
      gap: 0.5rem;
    }
    .konfig-option {
      flex: 1;
      background: #252525;
      border: 1px solid #333;
      padding: 0.5rem;
      text-align: center;
      cursor: pointer;
      font-size: 0.8rem;
      border-radius: 4px;
      transition: all 0.2s;
    }
    .konfig-option:hover { border-color: #666; }
    .konfig-option.selected { background: #E53935; border-color: #E53935; color: #fff; }
    .konfig-result {
      background: #1a1a1a;
      border: 1px solid #333;
      border-radius: 8px;
      padding: 2rem;
      margin-top: 2rem;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
    }
    
    /* Fieber-Container */
    #fieber-container {
      display: none;
      flex: 1;
      flex-direction: column;
      padding: 2rem;
      overflow-y: auto;
    }
    .fieber-skala {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      max-width: 900px;
      margin: 0 auto;
    }
    .fieber-zeile {
      display: flex;
      align-items: center;
      gap: 1rem;
    }
    .fieber-label {
      width: 150px;
      font-size: 0.85rem;
      text-align: right;
      cursor: pointer;
    }
    .fieber-label:hover { color: #E53935; }
    .fieber-bar {
      flex: 1;
      height: 24px;
      background: #252525;
      border-radius: 4px;
      overflow: hidden;
    }
    .fieber-fill {
      height: 100%;
      border-radius: 4px;
      transition: width 0.3s;
    }
    .fieber-fill.heiss { background: linear-gradient(to right, #FF9800, #f44336); }
    .fieber-fill.warm { background: linear-gradient(to right, #4CAF50, #FF9800); }
    .fieber-fill.kalt { background: linear-gradient(to right, #2196F3, #4CAF50); }
    .fieber-fill.tot { background: #444; }
    
    /* Personen-Container */
    #personen-container {
      display: none;
      flex: 1;
      flex-direction: column;
      padding: 2rem;
      overflow-y: auto;
    }
    .personen-filter {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
      margin-bottom: 1.5rem;
      max-width: 1000px;
      margin-left: auto;
      margin-right: auto;
    }
    .personen-filter button {
      background: #252525;
      border: 1px solid #333;
      color: #aaa;
      padding: 0.4rem 0.8rem;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.8rem;
    }
    .personen-filter button:hover { border-color: #666; }
    .personen-filter button.active { background: #E53935; border-color: #E53935; color: #fff; }
    .personen-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 1rem;
      max-width: 1200px;
      margin: 0 auto;
    }
    .person-card {
      background: #222;
      border: 1px solid #333;
      border-radius: 8px;
      padding: 1rem;
      cursor: pointer;
      transition: all 0.2s;
    }
    .person-card:hover { border-color: #E53935; transform: translateY(-2px); }
    .person-card .header {
      display: flex;
      gap: 1rem;
      margin-bottom: 0.75rem;
    }
    .person-card .avatar {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: #333;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      flex-shrink: 0;
    }
    .person-card .info { flex: 1; }
    .person-card .name { font-weight: 600; color: #fff; }
    .person-card .leben { font-size: 0.8rem; color: #666; }
    .person-card .bio { font-size: 0.85rem; color: #aaa; line-height: 1.4; margin-bottom: 0.75rem; }
    .person-card .positionen {
      display: flex;
      flex-wrap: wrap;
      gap: 0.3rem;
    }
    .person-card .pos-tag {
      background: rgba(229, 57, 53, 0.2);
      color: #E53935;
      padding: 0.2rem 0.5rem;
      border-radius: 3px;
      font-size: 0.7rem;
    }
    .person-detail {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #1a1a1a;
      border: 1px solid #333;
      border-radius: 12px;
      padding: 2rem;
      max-width: 600px;
      width: 90%;
      max-height: 80vh;
      overflow-y: auto;
      z-index: 1000;
    }
    .person-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.8);
      z-index: 999;
    }
    
    /* Animation f√ºr Willkommens-Banner */
    @keyframes fadeInDown {
      from {
        opacity: 0;
        transform: translateX(-50%) translateY(-20px);
      }
      to {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
      }
    }
    
    /* Highlight f√ºr Generator-Knoten */
    .generator-highlight {
      animation: pulseHighlight 2s infinite;
    }
    
    @keyframes pulseHighlight {
      0%, 100% { box-shadow: 0 0 10px rgba(198,40,40,0.5); }
      50% { box-shadow: 0 0 25px rgba(198,40,40,0.9); }
    }
  </style>
</head>
<body>
  <header>
    <div>
      <h1>DAS WESEN DES LINKEN DENKENS</h1>
      <div class="stats" id="stats"></div>
    </div>
    <div style="display: flex; gap: 0.5rem; align-items: center;">
      <div class="suche-wrapper">
        <input type="text" id="suche-input" placeholder="üîç Suchen..." 
               style="background: var(--bg-secondary); border: 1px solid var(--border); color: var(--text-primary); padding: 0.4rem 0.8rem; border-radius: 20px; width: 200px; font-size: 0.85rem;">
        <div class="suche-ergebnisse" id="suche-ergebnisse"></div>
      </div>
      <button class="info-toggle" onclick="document.getElementById('konzept-box').classList.toggle('open')">‚ÑπÔ∏è Was ist das?</button>
    </div>
  </header>
  
  <!-- NEUE LINSEN-PALETTE -->
  <aside class="linsen-palette" id="linsen-palette">
    <button class="palette-toggle" onclick="togglePalette()" title="Palette ein-/ausklappen">‚ò∞</button>
    
    <!-- Ansichten -->
    <div class="palette-section">
      <span class="palette-section-label">Ansicht</span>
      <div class="linse-wrapper">
        <div class="linse ansicht active" data-typ="ansicht" data-id="netzwerk" onclick="setAnsicht('netzwerk')" title="Netzwerk">
          üï∏Ô∏è
          <span class="linse-label">Netzwerk</span>
        </div>
      </div>
      <div class="linse-wrapper">
        <div class="linse ansicht" data-typ="ansicht" data-id="karte" onclick="setAnsicht('karte')" title="Karte">
          üó∫Ô∏è
          <span class="linse-label">Karte</span>
        </div>
      </div>
      <div class="linse-wrapper">
        <div class="linse ansicht" data-typ="ansicht" data-id="liste" onclick="setAnsicht('liste')" title="Liste">
          üìã
          <span class="linse-label">Liste</span>
        </div>
      </div>
      <div class="linse-wrapper">
        <div class="linse ansicht" data-typ="ansicht" data-id="wg" onclick="setAnsicht('wg')" title="WG">
          üè†
          <span class="linse-label">WG</span>
        </div>
      </div>
      <div class="linse-wrapper">
        <div class="linse ansicht" data-typ="ansicht" data-id="oekosystem" onclick="setAnsicht('oekosystem')" title="√ñkosystem">
          üåø
          <span class="linse-label">√ñkosystem</span>
        </div>
      </div>
      <div class="linse-wrapper">
        <div class="linse ansicht" data-typ="ansicht" data-id="zeitleiste" onclick="setAnsicht('zeitleiste')" title="Zeit">
          ‚è≥
          <span class="linse-label">Zeit</span>
        </div>
      </div>
      <div class="linse-wrapper">
        <div class="linse ansicht" data-typ="ansicht" data-id="stammbaum" onclick="setAnsicht('stammbaum')" title="Stammbaum">
          üå≥
          <span class="linse-label">Stammbaum</span>
        </div>
      </div>
    </div>
    
    <!-- Filter -->
    <div class="palette-section">
      <span class="palette-section-label">+ Filter</span>
      <div class="linse-wrapper">
        <div class="linse filter" data-typ="filter" data-id="personen" onclick="toggleFilter('personen')" title="Personen">
          üë§
          <span class="linse-label">Personen</span>
        </div>
      </div>
      <div class="linse-wrapper">
        <div class="linse filter" data-typ="filter" data-id="fieber" onclick="toggleFilter('fieber')" title="Fieber">
          üå°Ô∏è
          <span class="linse-label">Fieber</span>
        </div>
      </div>
      <div class="linse-wrapper">
        <div class="linse filter" data-typ="filter" data-id="debatten" onclick="toggleFilter('debatten')" title="Konflikte">
          ‚öîÔ∏è
          <span class="linse-label">Konflikte</span>
        </div>
      </div>
      <div class="linse-wrapper">
        <div class="linse filter" data-typ="filter" data-id="epoche" onclick="toggleFilter('epoche')" title="Epoche">
          üåÄ
          <span class="linse-label">Epoche</span>
        </div>
      </div>
      
      <!-- Epoche-Slider -->
      <div class="epoche-slider-vertical" id="epoche-slider-vertical">
        <input type="range" min="1840" max="2025" value="2025" id="epoche-range-v" oninput="updateEpocheV(this.value)">
        <span class="epoche-value" id="epoche-value-v">2025</span>
      </div>
    </div>
    
    <!-- Werkzeuge -->
    <div class="palette-section">
      <span class="palette-section-label">Werkzeuge</span>
      <div class="linse-wrapper">
        <div class="linse werkzeug" data-typ="werkzeug" data-id="zufall" onclick="openWerkzeug('zufall')" title="Zufall">
          üé≤
          <span class="linse-label">Zufall</span>
        </div>
      </div>
      <div class="linse-wrapper">
        <div class="linse werkzeug" data-typ="werkzeug" data-id="konfigurator" onclick="openWerkzeug('konfigurator')" title="Wo stehe ich?">
          üéõÔ∏è
          <span class="linse-label">Wo stehe ich?</span>
        </div>
      </div>
      <div class="linse-wrapper">
        <div class="linse werkzeug" data-typ="werkzeug" data-id="labor" onclick="openWerkzeug('labor')" title="Labor">
          ‚öóÔ∏è
          <span class="linse-label">Labor</span>
        </div>
      </div>
      <div class="linse-wrapper">
        <div class="linse werkzeug" data-typ="werkzeug" data-id="fragen" onclick="openWerkzeug('fragen')" title="Fragen">
          ‚ùì
          <span class="linse-label">Fragen</span>
        </div>
      </div>
      <div class="linse-wrapper">
        <div class="linse werkzeug" data-typ="werkzeug" data-id="wesen" onclick="openWerkzeug('wesen')" title="Das Wesen">
          ü´Ä
          <span class="linse-label">Das Wesen</span>
        </div>
      </div>
    </div>
    
    <!-- Extras -->
    <div class="palette-extras">
      <button class="extra-btn" onclick="openThemeModal()" title="√Ñsthetik">üé®</button>
      <button class="extra-btn" onclick="openShareModal()" title="Teilen">üì§</button>
    </div>
  </aside>
  
  <!-- Schwebende Linse -->
  <div class="floating-linse" id="floating-linse">
    <span id="floating-icon">üï∏Ô∏è</span>
  </div>
  
  <!-- Hinweis beim Aufnehmen -->
  <div class="linse-hint" id="linse-hint">
    Klicke auf die Ansicht um die Linse anzuwenden ‚Ä¢ <kbd>ESC</kbd> zum Abbrechen
  </div>
  
  <!-- Glow-Effekt beim Anwenden -->
  <div class="viewport-glow" id="viewport-glow"></div>
  
  <!-- Aktive Linsen unten -->
  <div class="active-linsen" id="active-linsen"></div>
  
  <!-- Alte Navigation (versteckt, f√ºr Kompatibilit√§t) -->
  <nav class="linsen-nav" style="display:none !important;"></nav>
  
  <!-- Theme-Modal -->
  <div class="theme-modal" id="theme-modal" onclick="if(event.target === this) closeThemeModal()">
    <div class="theme-modal-content">
      <h2>üé® √Ñsthetik w√§hlen</h2>
      <p style="color: var(--text-secondary); margin-bottom: 1.5rem;">Wie soll das Wesen erscheinen?</p>
      <div class="theme-grid">
        <div class="theme-option active" data-theme="default" onclick="setTheme('default')">
          <div class="icon">üèõÔ∏è</div>
          <div class="name">Monument</div>
          <div class="desc">Klassisch, dokumentarisch</div>
        </div>
        <div class="theme-option" data-theme="myzel" onclick="setTheme('myzel')">
          <div class="icon">üåø</div>
          <div class="name">Myzel</div>
          <div class="desc">Organisch, wachsend</div>
        </div>
        <div class="theme-option" data-theme="barrikade" onclick="setTheme('barrikade')">
          <div class="icon">üî•</div>
          <div class="name">Barrikade</div>
          <div class="desc">Agitprop, revolution√§r</div>
        </div>
        <div class="theme-option" data-theme="terminal" onclick="setTheme('terminal')">
          <div class="icon">üíª</div>
          <div class="name">Terminal</div>
          <div class="desc">Hacker, CLI</div>
        </div>
        <div class="theme-option" data-theme="kosmos" onclick="setTheme('kosmos')">
          <div class="icon">üåå</div>
          <div class="name">Kosmos</div>
          <div class="desc">Kosmisch, unendlich</div>
        </div>
        <div class="theme-option" data-theme="ruine" onclick="setTheme('ruine')">
          <div class="icon">üèöÔ∏è</div>
          <div class="name">Ruine</div>
          <div class="desc">Verfallen, arch√§ologisch</div>
        </div>
      </div>
      <button onclick="closeThemeModal()" style="margin-top: 1.5rem; padding: 0.5rem 1rem; background: var(--accent); border: none; color: #fff; cursor: pointer; border-radius: var(--radius);">Schlie√üen</button>
    </div>
  </div>
  
  <!-- Share-Modal -->
  <div class="theme-modal" id="share-modal" onclick="if(event.target === this) closeShareModal()">
    <div class="theme-modal-content">
      <h2>üì§ Teilen</h2>
      <p style="color: var(--text-secondary); margin-bottom: 1.5rem;">Teile das Wesen des linken Denkens</p>
      
      <div class="share-section">
        <h3 style="margin-bottom: 0.5rem; font-size: 0.9rem;">üîó Link kopieren</h3>
        <div style="display: flex; gap: 0.5rem;">
          <input type="text" id="share-url" readonly style="flex: 1; padding: 0.5rem; background: var(--bg-tertiary); border: 1px solid var(--border); color: var(--text-primary); font-family: var(--font-mono); font-size: 0.8rem; border-radius: var(--radius);">
          <button onclick="copyShareUrl()" style="padding: 0.5rem 1rem; background: var(--accent); border: none; color: #fff; cursor: pointer; border-radius: var(--radius);">Kopieren</button>
        </div>
        <p id="copy-feedback" style="color: var(--accent-secondary); font-size: 0.8rem; margin-top: 0.5rem; display: none;">‚úì Link kopiert!</p>
      </div>
      
      <div class="share-section" style="margin-top: 1.5rem;">
        <h3 style="margin-bottom: 0.5rem; font-size: 0.9rem;">üì± Social Media</h3>
        <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
          <button onclick="shareToMastodon()" class="social-btn" style="background: #6364FF;">üêò Mastodon</button>
          <button onclick="shareToTelegram()" class="social-btn" style="background: #0088cc;">‚úàÔ∏è Telegram</button>
          <button onclick="shareToWhatsApp()" class="social-btn" style="background: #25D366;">üí¨ WhatsApp</button>
          <button onclick="shareToEmail()" class="social-btn" style="background: #666;">üìß E-Mail</button>
        </div>
      </div>
      
      <div class="share-section" style="margin-top: 1.5rem;">
        <h3 style="margin-bottom: 0.5rem; font-size: 0.9rem;">üì∏ Bild erstellen</h3>
        <p style="color: var(--text-muted); font-size: 0.8rem; margin-bottom: 0.5rem;">Erstelle ein Bild deiner aktuellen Ansicht</p>
        <button onclick="createShareImage()" style="padding: 0.5rem 1rem; background: var(--bg-tertiary); border: 1px solid var(--border); color: var(--text-primary); cursor: pointer; border-radius: var(--radius);">üñºÔ∏è Screenshot erstellen</button>
      </div>
      
      <button onclick="closeShareModal()" style="margin-top: 1.5rem; padding: 0.5rem 1rem; background: var(--accent); border: none; color: #fff; cursor: pointer; border-radius: var(--radius);">Schlie√üen</button>
    </div>
  </div>
  
  <!-- Aktive Filter-Anzeige -->
  <div class="filter-bar" id="filter-bar">
    <span class="filter-bar-label">Aktive Filter:</span>
    <div class="filter-chips" id="filter-chips"></div>
    <div class="epoche-control" id="epoche-control">
      <input type="range" min="1840" max="2025" value="2025" id="epoche-range" oninput="updateEpoche(this.value)">
      <span id="epoche-wert">bis 2025</span>
    </div>
  </div>
  
  <div id="konzept-box" class="konzept-box">
    <button class="close-btn" onclick="this.parentElement.classList.remove('open')">√ó</button>
    <h2>Was ist das hier?</h2>
    
    <p><strong>Dies ist kein Lehrwerk.</strong> Es gibt nicht <em>den</em> Sozialismus, so wie es nicht <em>das</em> Leben gibt. Was du hier siehst, ist ein Versuch, die Vielfalt linken Denkens als das darzustellen, was sie ist: ein lebendiges, widerspr√ºchliches, atmendes Gewebe von Ideen, Strategien und Visionen.</p>
    
    <h3>Warum verschiedene Linsen?</h3>
    <p>Jede Perspektive zeigt etwas anderes ‚Äî und verbirgt etwas anderes:</p>
    <ul>
      <li><strong>üï∏Ô∏è Netzwerk:</strong> Das Wesen als Ganzes, seine Verbindungen und Cluster</li>
      <li><strong>üó∫Ô∏è Karte:</strong> Das Terrain, die Achsen, die Vollst√§ndigkeit</li>
      <li><strong>‚è≥ Geschichte:</strong> Wie die Ideen in der Zeit entstanden</li>
      <li><strong>‚úä Praxis:</strong> Wo Ideen Wirklichkeit wurden</li>
      <li><strong>‚ùì Fragen:</strong> Was noch offen ist, was niemand endg√ºltig beantwortet hat</li>
      <li><strong>üß≠ Mein Ort:</strong> Wo stehst du in diesem Raum?</li>
      <li><strong>üè† WG:</strong> Das Haus als bewohnter Raum mit Zimmern und Atmosph√§ren</li>
      <li><strong>üåø √ñkosystem:</strong> Positionen als Arten ‚Äî wer gedeiht, wer verdr√§ngt, wer kooperiert</li>
      <li><strong>‚öóÔ∏è Labor:</strong> Ideen als chemische Elemente ‚Äî was reagiert, was explodiert</li>
      <li><strong>üåÄ Epochen:</strong> Dasselbe Haus in verschiedenen historischen Momenten</li>
      <li><strong>üå≥ Genealogie:</strong> Die Ahnenreihen ‚Äî wer beeinflusste wen</li>
      <li><strong>üó£Ô∏è Dialoge:</strong> Imagin√§re Gespr√§che zwischen den Denkern</li>
      <li><strong>üí¨ Zitate:</strong> Die Stimmen selbst ‚Äî thematisch sortiert</li>
      <li><strong>üéõÔ∏è Konfigurator:</strong> Baue deine eigene Position und finde Nachbarn</li>
      <li><strong>üå°Ô∏è Fieberkurve:</strong> Was ist gerade hei√ü, was kalt?</li>
    </ul>
    <p>Keine dieser Sichten ist "richtig" oder "vollst√§ndig". Zusammen ergeben sie ein Bild, das mehr ist als seine Teile.</p>
    
    <h3>Wissenschaftlicher Sozialismus?</h3>
    <p>Marx wollte den Sozialismus von der Utopie zur Wissenschaft machen. Aber Wissenschaft bedeutet nicht Dogma ‚Äî es bedeutet: <em>Hypothesen, Experimente, Revisionen, Debatten</em>. Dieses Werkzeug bildet genau das ab: offene Fragen statt geschlossene Antworten, Spannungen statt Harmonien, Prozesse statt Zust√§nde.</p>
    
    <h3>Wie benutzen?</h3>
    <p>Wechsle zwischen den Linsen. Ziehe Knoten aufeinander, um ihre Beziehung zu erkunden. Finde deinen eigenen Ort. Folge den Fragen, nicht den Antworten. Dieses Wesen ist nicht fertig ‚Äî es w√§chst mit jedem, der es benutzt.</p>
  </div>
  
  <main>
    <!-- WESEN: Animierter Einstieg -->
    <div id="wesen-container" style="display: none;">
      <canvas id="wesen-canvas"></canvas>
    </div>
    
    <div id="netzwerk-container">
      <canvas id="netzwerk3d"></canvas>
      <div class="legende">
        <div class="legende-item"><div class="legende-linie gruen"></div> Hohe Affinit√§t</div>
        <div class="legende-item"><div class="legende-linie orange" style="border-style: dashed;"></div> Debatte/Konflikt</div>
        <div class="legende-item"><div class="legende-linie grau"></div> Verbindung</div>
        <div style="margin-top: 0.75rem; padding-top: 0.5rem; border-top: 1px solid #444; font-size: 0.65rem;">
          üñ±Ô∏è Drag = Drehen<br>
          Scroll = Zoom<br>
          üéØ Knoten ‚Üí Knoten = Verbinden
        </div>
      </div>
    </div>
    
    <div id="liste-container">
      <div class="liste-grid" id="liste-grid"></div>
    </div>
    
    <div id="debatten-container"></div>
    
    <div id="karte-container"></div>
    
    <div id="zeitleiste-container"></div>
    
    <!-- Stammbaum: Genealogie der Ideen -->
    <div id="stammbaum-container"></div>
    
    <div id="bibliothek-container"></div>
    
    <div id="praxis-container"></div>
    
    <div id="fragen-container"></div>
    
    <div id="zufall-container"></div>
    
    <div id="kosmos-container"></div>
    
    <!-- WG: Das Haus als bewohnter Raum -->
    <div id="wg-container"></div>
    
    <!-- √ñkosystem: Positionen als Arten -->
    <div id="oekosystem-container"></div>
    
    <!-- Labor: Chemische Reaktionen -->
    <div id="labor-container"></div>
    
    <!-- Epochen: Zeitschichten -->
    <div id="zeit-container"></div>
    
    <!-- Stammbaum: Genealogie der Ideen -->
    <div id="stammbaum-container"></div>
    
    <!-- Dialoge: Imagin√§re Gespr√§che -->
    <div id="dialoge-container"></div>
    
    <!-- Zitate: Thematisch sortiert -->
    <div id="zitate-container"></div>
    
    <!-- Konfigurator: Baue deine Position -->
    <div id="konfigurator-container"></div>
    
    <!-- Fieberkurve: Was ist hei√ü? -->
    <div id="fieber-container"></div>
    
    <!-- Personen: Alle Bewohner*innen -->
    <div id="personen-container"></div>
    
    <div id="reaktor-panel">
      <div class="reaktor-header">
        <div class="reaktor-titel">
          <h2 id="reaktor-a"></h2>
          <span class="vs">‚ü∑</span>
          <h2 id="reaktor-b"></h2>
        </div>
        <button class="reaktor-close" onclick="closeReaktor()">√ó</button>
      </div>
      <div class="reaktor-body" id="reaktor-body"></div>
    </div>
    
    <div class="reaktor-hint" id="reaktor-hint" style="display: none;">
      Ziehe einen Knoten auf einen anderen, um ihre Beziehung zu sehen
    </div>
    
    <div id="detail-panel">
      <button class="close-btn" onclick="closePanel()">√ó</button>
      <div id="detail-content"></div>
    </div>
  </main>

  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script>
// ERROR HANDLER
window.onerror = function(msg, url, line, col, error) {
  alert('FEHLER in Zeile ' + line + ':\n' + msg);
  console.error('Fehler:', msg, 'Zeile:', line);
  return false;
};
console.log('=== SCRIPT START ===');
console.log('D3:', typeof d3 !== 'undefined' ? 'OK' : 'FEHLT');
console.log('THREE:', typeof THREE !== 'undefined' ? 'OK' : 'FEHLT');

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// DATEN: KNOTEN
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

const knotenData = {

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // A1: REFORM / REVOLUTION
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

  "A1-1": {
    "id": "A1-1",
    "achse": "A1",
    "position": 1,
    "name": "Strikte Reform",
    "langname": "Ausschlie√ülich parlamentarischer Weg",
    "beschreibung": "Der einzige legitime Weg ist der parlamentarische. Au√üerparlamentarische Aktionen, Streiks, Besetzungen ‚Äì das alles schadet der Sache. Wir gewinnen durch Wahlen oder gar nicht.",
    "bewohner": {
      "klassiker": ["Eduard Bernstein (1850-1932)"],
      "zeitgenossen": []
    },
    "zitate": [
      { "text": "Das Endziel, was immer es sei, ist mir nichts, die Bewegung alles.", "autor": "Eduard Bernstein", "quelle": "Die Voraussetzungen des Sozialismus", "jahr": 1899 }
    ],
    "literatur": [
      { "titel": "Die Voraussetzungen des Sozialismus", "autor": "Eduard Bernstein", "jahr": 1899, "schwierigkeit": 3, "frei": true, "url": "https://www.marxists.org/deutsch/archiv/bernstein/1899/voraus/index.html" }
    ],
    "praxis": [],
    "fragen": ["Hat der rein parlamentarische Weg je zum Sozialismus gef√ºhrt?", "Was wenn die Herrschenden die Spielregeln √§ndern?"],
    "atmosphaere": { "stimmung": "geduldig, legalistisch, manchmal naiv", "geraeusche": "Parlamentsdebatten", "geruch": "Aktenstaub" }
  },

  "A1-2": {
    "id": "A1-2",
    "achse": "A1",
    "position": 2,
    "name": "Radikale Reform",
    "langname": "Strukturreformen mit Druckmitteln",
    "beschreibung": "Wir nutzen den Staat, aber nicht nur Wahlen. Streiks, Demonstrationen, ziviler Ungehorsam ‚Äì alles was Druck aufbaut. Nicht-reformistische Reformen, die das System an seine Grenzen bringen.",
    "bewohner": {
      "klassiker": ["Andr√© Gorz (1923-2007)"],
      "zeitgenossen": ["Erik Olin Wright (1947-2019)"]
    },
    "zitate": [
      { "text": "Nicht-reformistische Reformen sind solche, die nicht der kapitalistischen Logik untergeordnet werden k√∂nnen.", "autor": "Andr√© Gorz", "quelle": "Strategie der Arbeiterbewegung", "jahr": 1964 }
    ],
    "literatur": [
      { "titel": "Reale Utopien", "autor": "Erik Olin Wright", "schwierigkeit": 2, "frei": false }
    ],
    "praxis": [
      { "name": "Mietsh√§user Syndikat", "ort": "Deutschland", "zeit": "1992-heute", "beschreibung": "Strukturen aufbauen, die dem Markt Wohnraum entziehen." }
    ],
    "fragen": ["Wo ist die Grenze zwischen Reform und Revolution?", "K√∂nnen Reformen sich zu einer Revolution summieren?"],
    "atmosphaere": { "stimmung": "strategisch, hoffnungsvoll, pragmatisch", "geraeusche": "Planungstreffen", "geruch": "Flipchart-Marker" }
  },

  "A1-3": {
    "id": "A1-3",
    "achse": "A1",
    "position": 3,
    "name": "Doppelstrategie",
    "langname": "Reform und Revolution je nach Situation",
    "beschreibung": "Weder Dogma noch Prinzipienlosigkeit. Manchmal ist der parlamentarische Weg richtig, manchmal braucht es radikalere Mittel. Die Situation entscheidet, nicht das Lehrbuch.",
    "bewohner": {
      "klassiker": ["Rosa Luxemburg (1871-1919)"],
      "zeitgenossen": []
    },
    "zitate": [
      { "text": "Zwischen Reform und Revolution besteht ein untrennbarer Zusammenhang. Der Kampf um Reformen ist das Mittel, der soziale Umsturz der Zweck.", "autor": "Rosa Luxemburg", "quelle": "Sozialreform oder Revolution?", "jahr": 1899 }
    ],
    "literatur": [
      { "titel": "Sozialreform oder Revolution?", "autor": "Rosa Luxemburg", "jahr": 1899, "schwierigkeit": 3, "frei": true, "url": "https://www.marxists.org/deutsch/archiv/luxemburg/1899/sozam/index.htm" }
    ],
    "praxis": [],
    "fragen": ["Wie entscheiden wir, wann welche Strategie?", "Kann man beides gleichzeitig?"],
    "atmosphaere": { "stimmung": "dialektisch, beweglich", "geraeusche": "Intensive Debatten", "geruch": "Druckfrische Flugbl√§tter" }
  },

  "A1-4": {
    "id": "A1-4",
    "achse": "A1",
    "position": 4,
    "name": "Revolution√§rer Prozess",
    "langname": "Revolution als l√§ngerer Prozess",
    "beschreibung": "Revolution ist kein Tag X, sondern ein Prozess. Aufst√§nde, R√ºckschl√§ge, neue Aufst√§nde. Die Macht wird nicht an einem Tag erobert, sondern in vielen K√§mpfen errungen.",
    "bewohner": {
      "klassiker": ["Antonio Gramsci (1891-1937)"],
      "zeitgenossen": []
    },
    "zitate": [
      { "text": "Die Krise besteht gerade darin, dass das Alte stirbt und das Neue nicht zur Welt kommen kann.", "autor": "Antonio Gramsci", "quelle": "Gef√§ngnishefte", "jahr": 1930 }
    ],
    "literatur": [
      { "titel": "Gef√§ngnishefte (Auswahl)", "autor": "Antonio Gramsci", "schwierigkeit": 5, "frei": true, "url": "https://www.marxists.org/archive/gramsci/prison_notebooks/index.htm" }
    ],
    "praxis": [],
    "fragen": ["Wie lange dauert ein revolution√§rer Prozess?", "Wie verhindern wir Ersch√∂pfung?"],
    "atmosphaere": { "stimmung": "ausdauernd, strategisch, geduldig-ungeduldig", "geraeusche": "Wellenbewegungen", "geruch": "Geschichte im Werden" }
  },

  "A1-5": {
    "id": "A1-5",
    "achse": "A1",
    "position": 5,
    "name": "Sofortige Revolution",
    "langname": "Aufstand jetzt",
    "beschreibung": "Jeder Kompromiss verl√§ngert das Leiden. Die Zeit f√ºr Reformen ist vorbei. Was wir brauchen ist der entschlossene Bruch ‚Äì jetzt, nicht irgendwann.",
    "bewohner": {
      "klassiker": ["Auguste Blanqui (1805-1881)"],
      "zeitgenossen": []
    },
    "zitate": [
      { "text": "Wer Stahl hat, hat Brot.", "autor": "Auguste Blanqui", "quelle": "(zugeschrieben)", "jahr": null }
    ],
    "literatur": [],
    "praxis": [
      { "name": "Pariser Kommune", "ort": "Paris", "zeit": "1871", "beschreibung": "72 Tage Arbeiterherrschaft." }
    ],
    "fragen": ["Wann ist der richtige Moment?", "Was wenn wir zu fr√ºh losschlagen?"],
    "atmosphaere": { "stimmung": "fiebrig, ungeduldig, heroisch", "geraeusche": "Herzschlag", "geruch": "Pulverdampf" }
  },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // A3: STAAT (Erg√§nzungen)
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

  "A3-3": {
    "id": "A3-3",
    "achse": "A3",
    "position": 3,
    "name": "Staat als Terrain",
    "langname": "Staat als umk√§mpftes Terrain",
    "beschreibung": "Der Staat ist weder Werkzeug noch Feind, sondern ein Kampfplatz. Er ist durchzogen von Klassenkonflikten. Wir k√§mpfen in ihm und gegen ihn gleichzeitig.",
    "bewohner": {
      "klassiker": ["Nicos Poulantzas (1936-1979)"],
      "zeitgenossen": ["Chantal Mouffe (*1943)"]
    },
    "zitate": [
      { "text": "Der Staat ist die materielle Verdichtung eines Kr√§fteverh√§ltnisses zwischen Klassen.", "autor": "Nicos Poulantzas", "quelle": "Staatstheorie", "jahr": 1978 }
    ],
    "literatur": [
      { "titel": "F√ºr einen linken Populismus", "autor": "Chantal Mouffe", "jahr": 2018, "schwierigkeit": 2, "frei": false }
    ],
    "praxis": [],
    "fragen": ["Wie verhindern wir, dass der Staat uns vereinnahmt?", "K√∂nnen wir den Staat ver√§ndern, w√§hrend er uns ver√§ndert?"],
    "atmosphaere": { "stimmung": "taktisch, wachsam, dialektisch", "geraeusche": "Hinterzimmergespr√§che", "geruch": "Kompromiss und Konflikt" }
  },

  "A3-4": {
    "id": "A3-4",
    "achse": "A3",
    "position": 4,
    "name": "Autonomismus",
    "langname": "Staat aush√∂hlen und umgehen",
    "beschreibung": "Wir st√ºrmen nicht den Staat, wir umgehen ihn. In den Rissen des Systems bauen wir Alternativen auf. Exodus statt Konfrontation. Die neue Welt in der Schale der alten.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": ["John Holloway (*1947)", "Antonio Negri (*1933)"]
    },
    "zitate": [
      { "text": "Die Welt ver√§ndern, ohne die Macht zu √ºbernehmen.", "autor": "John Holloway", "quelle": "Buchtitel", "jahr": 2002 },
      { "text": "In den Rissen entstehen die Alternativen.", "autor": "John Holloway", "quelle": "Crack Capitalism", "jahr": 2010 }
    ],
    "literatur": [
      { "titel": "Die Welt ver√§ndern ohne die Macht zu √ºbernehmen", "autor": "John Holloway", "jahr": 2002, "schwierigkeit": 3, "frei": true, "url": "https://libcom.org/article/change-world-without-taking-power-john-holloway" },
      { "titel": "Crack Capitalism", "autor": "John Holloway", "jahr": 2010, "schwierigkeit": 2, "frei": true, "url": "https://libcom.org/article/crack-capitalism-john-holloway" }
    ],
    "praxis": [
      { "name": "Zapatistas", "ort": "Chiapas, Mexiko", "zeit": "1994-heute", "beschreibung": "Autonome Selbstverwaltung ohne Macht√ºbernahme." }
    ],
    "fragen": ["K√∂nnen Risse das Ganze zum Einsturz bringen?", "Was wenn der Staat uns nicht in Ruhe l√§sst?"],
    "atmosphaere": { "stimmung": "kreativ, pr√§figurativ, hoffnungsvoll", "geraeusche": "H√§mmern, Bauen, Lachen", "geruch": "Frische Erde, Baustelle" }
  },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // B1: MARKT / PLAN
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

  "B1-1": {
    "id": "B1-1",
    "achse": "B1",
    "position": 1,
    "name": "Marktsozialismus",
    "langname": "Sozialismus mit Markt",
    "beschreibung": "Der Markt ist ein n√ºtzliches Informations- und Koordinationssystem. Das Problem ist nicht der Markt, sondern das Kapital. Genossenschaften konkurrieren auf dem Markt ‚Äì aber niemand wird ausgebeutet.",
    "bewohner": {
      "klassiker": ["Oskar Lange (1904-1965)"],
      "zeitgenossen": ["David Schweickart (*1942)"]
    },
    "zitate": [
      { "text": "Der Markt kann sozialistisch sein, wenn die Unternehmen den Arbeitern geh√∂ren.", "autor": "David Schweickart", "quelle": "After Capitalism", "jahr": 2002 }
    ],
    "literatur": [
      { "titel": "After Capitalism", "autor": "David Schweickart", "schwierigkeit": 2, "frei": false }
    ],
    "praxis": [
      { "name": "Mondragon", "ort": "Baskenland", "zeit": "1956-heute", "beschreibung": "Genossenschaften im Markt." }
    ],
    "fragen": ["Bringt der Markt nicht zwangsl√§ufig Ungleichheit?", "K√∂nnen Genossenschaften gegen Konzerne bestehen?"],
    "atmosphaere": { "stimmung": "pragmatisch, experimentell", "geraeusche": "Kassenpiepen, Genossenschaftsversammlungen", "geruch": "Laden und Werkstatt" }
  },

  "B1-2": {
    "id": "B1-2",
    "achse": "B1",
    "position": 2,
    "name": "Regulierter Markt",
    "langname": "Starke staatliche Regulierung des Marktes",
    "beschreibung": "Der Markt bleibt, aber der Staat setzt die Regeln. Preiskontrollen, Mindestl√∂hne, Umweltauflagen, Verstaatlichung strategischer Sektoren. Der Markt dient, statt zu herrschen.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": ["Thomas Piketty (*1971)"]
    },
    "zitate": [
      { "text": "Ohne staatliche Intervention f√ºhrt der Kapitalismus zu immer gr√∂√üerer Ungleichheit.", "autor": "Thomas Piketty", "quelle": "Das Kapital im 21. Jahrhundert", "jahr": 2013 }
    ],
    "literatur": [
      { "titel": "Das Kapital im 21. Jahrhundert", "autor": "Thomas Piketty", "jahr": 2013, "schwierigkeit": 3, "frei": false }
    ],
    "praxis": [
      { "name": "Nachkriegs-Sozialdemokratie", "ort": "Westeuropa", "zeit": "1945-1975", "beschreibung": "Gemischte Wirtschaft mit starkem Staat." }
    ],
    "fragen": ["Wer kontrolliert den Staat, der den Markt kontrolliert?", "Ist das noch Kapitalismus?"],
    "atmosphaere": { "stimmung": "technokratisch, kontrolliert", "geraeusche": "Formulare, Genehmigungen", "geruch": "Amtsstube" }
  },

  "B1-3": {
    "id": "B1-3",
    "achse": "B1",
    "position": 3,
    "name": "Mischsystem",
    "langname": "Markt f√ºr Konsumg√ºter, Plan f√ºr Grundversorgung",
    "beschreibung": "Weder reiner Markt noch totale Planung. Grundbed√ºrfnisse ‚Äì Wohnen, Gesundheit, Bildung, Energie ‚Äì werden geplant und garantiert. F√ºr den Rest gibt es M√§rkte.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": []
    },
    "zitate": [],
    "literatur": [],
    "praxis": [
      { "name": "Wiener Modell", "ort": "Wien", "zeit": "1919-1934 / heute", "beschreibung": "Kommunaler Wohnbau, privater Konsum." }
    ],
    "fragen": ["Wo ziehen wir die Grenze zwischen Plan und Markt?", "Untergr√§bt der Marktsektor den geplanten?"],
    "atmosphaere": { "stimmung": "ausbalanciert, kompliziert", "geraeusche": "Zwei Rhythmen gleichzeitig", "geruch": "Gemischt" }
  },

  "B1-4": {
    "id": "B1-4",
    "achse": "B1",
    "position": 4,
    "name": "Demokratische Planung",
    "langname": "Dezentrale demokratische Planung",
    "beschreibung": "Die Wirtschaft wird geplant, aber nicht von einer Zentralbeh√∂rde. R√§te auf allen Ebenen ‚Äì Betriebe, Kommunen, Regionen ‚Äì verhandeln und koordinieren. Planung von unten.",
    "bewohner": {
      "klassiker": ["Anton Pannekoek (1873-1960)"],
      "zeitgenossen": ["Michael Albert (*1947)", "Pat Devine"]
    },
    "zitate": [
      { "text": "Die Produzenten selbst m√ºssen die Produktion verwalten.", "autor": "Anton Pannekoek", "quelle": "Arbeiterr√§te", "jahr": 1946 }
    ],
    "literatur": [
      { "titel": "Parecon: Leben nach dem Kapitalismus", "autor": "Michael Albert", "schwierigkeit": 2, "frei": true, "url": "https://zcomm.org/znetarticle/parecon-introduction/" },
      { "titel": "Arbeiterr√§te", "autor": "Anton Pannekoek", "jahr": 1946, "schwierigkeit": 3, "frei": true, "url": "https://www.marxists.org/deutsch/archiv/pannekoek/1946/arbeiterraete/index.htm" }
    ],
    "praxis": [],
    "fragen": ["Wie verhindern wir endlose Verhandlungen?", "Funktioniert das in komplexen Volkswirtschaften?"],
    "atmosphaere": { "stimmung": "deliberativ, basisdemokratisch, anstrengend", "geraeusche": "Endlose Plena", "geruch": "Kaffee, viel Kaffee" }
  },

  "B1-5": {
    "id": "B1-5",
    "achse": "B1",
    "position": 5,
    "name": "Zentralplanung",
    "langname": "Zentrale staatliche Wirtschaftsplanung",
    "beschreibung": "Die Anarchie des Marktes wird durch rationale Planung ersetzt. Eine zentrale Beh√∂rde ermittelt die Bed√ºrfnisse und koordiniert die Produktion. Effizienz statt Chaos.",
    "bewohner": {
      "klassiker": ["W.I. Lenin (1870-1924)"],
      "zeitgenossen": []
    },
    "zitate": [
      { "text": "Kommunismus ist Sowjetmacht plus Elektrifizierung des ganzen Landes.", "autor": "W.I. Lenin", "quelle": "Rede auf dem VIII. Sowjetkongress", "jahr": 1920 }
    ],
    "literatur": [],
    "praxis": [
      { "name": "Sowjetunion", "ort": "UdSSR", "zeit": "1928-1991", "beschreibung": "F√ºnfjahrespl√§ne, Industrialisierung, aber auch B√ºrokratie und Mangel." }
    ],
    "fragen": ["Woher wei√ü die Zentrale, was die Menschen brauchen?", "F√ºhrt Zentralisierung nicht zu B√ºrokratie?"],
    "atmosphaere": { "stimmung": "ordentlich, rational, grau", "geraeusche": "Rechenmaschinen, Befehle", "geruch": "Akten, Industrieschmiere" }
  },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // C3: INTERNATIONAL
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

  "C3-1": {
    "id": "C3-1",
    "achse": "C3",
    "position": 1,
    "name": "Nationaler Weg",
    "langname": "Sozialismus in einem Land",
    "beschreibung": "Revolution ist m√∂glich in einem Land, ohne auf die Weltrevolution zu warten. Erst bauen wir den Sozialismus hier auf, dann strahlt er aus.",
    "bewohner": {
      "klassiker": ["Josef Stalin (1878-1953)"],
      "zeitgenossen": []
    },
    "zitate": [
      { "text": "Sozialismus in einem Land ist m√∂glich.", "autor": "Josef Stalin", "quelle": "Zu den Fragen des Leninismus", "jahr": 1926 }
    ],
    "literatur": [],
    "praxis": [
      { "name": "Sowjetunion", "ort": "UdSSR", "zeit": "1924-1991", "beschreibung": "Aufbau des Sozialismus unter Isolation und Feindschaft." }
    ],
    "fragen": ["Kann Sozialismus in einer kapitalistischen Welt √ºberleben?", "F√ºhrt Isolation nicht zu Deformation?"],
    "atmosphaere": { "stimmung": "defensiv, national, eingeigelt", "geraeusche": "Mauern werden gebaut", "geruch": "Enge" }
  },

  "C3-2": {
    "id": "C3-2",
    "achse": "C3",
    "position": 2,
    "name": "Regionaler Fokus",
    "langname": "Regionale B√ºndnisse und Solidarit√§t",
    "beschreibung": "Nicht die ganze Welt auf einmal, aber auch nicht allein. Regionale B√ºndnisse ‚Äì Lateinamerika, Europa, Afrika ‚Äì k√∂nnen gemeinsam st√§rker sein als jedes Land f√ºr sich.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": []
    },
    "zitate": [],
    "literatur": [],
    "praxis": [
      { "name": "ALBA", "ort": "Lateinamerika", "zeit": "2004-heute", "beschreibung": "Bolivarische Allianz f√ºr die V√∂lker unseres Amerika." }
    ],
    "fragen": ["Reicht regionale Solidarit√§t gegen globales Kapital?", "Wie verhindern wir Blockbildung?"],
    "atmosphaere": { "stimmung": "solidarisch, nachbarschaftlich", "geraeusche": "Nachbarsprachen", "geruch": "Gemeinsamer Tisch" }
  },

  "C3-3": {
    "id": "C3-3",
    "achse": "C3",
    "position": 3,
    "name": "Internationalistisch",
    "langname": "Internationale Solidarit√§t",
    "beschreibung": "Die Arbeiter haben kein Vaterland. Unsere Solidarit√§t gilt den Unterdr√ºckten √ºberall. Aber wir respektieren auch nationale Selbstbestimmung und k√§mpfen hier, wo wir sind.",
    "bewohner": {
      "klassiker": ["Karl Marx (1818-1883)", "Rosa Luxemburg (1871-1919)"],
      "zeitgenossen": []
    },
    "zitate": [
      { "text": "Proletarier aller L√§nder, vereinigt euch!", "autor": "Marx & Engels", "quelle": "Kommunistisches Manifest", "jahr": 1848 }
    ],
    "literatur": [
      { "titel": "Das Kommunistische Manifest", "autor": "Marx & Engels", "jahr": 1848, "schwierigkeit": 2, "frei": true, "url": "https://www.marxists.org/deutsch/archiv/marx-engels/1848/manifest/index.htm" }
    ],
    "praxis": [
      { "name": "Internationale Brigaden", "ort": "Spanien", "zeit": "1936-1939", "beschreibung": "40.000 Freiwillige aus 50 L√§ndern k√§mpften gegen Franco." }
    ],
    "fragen": ["Wie koordinieren wir global?", "Nationale K√§mpfe oder eine Weltbewegung?"],
    "atmosphaere": { "stimmung": "solidarisch, weltumspannend", "geraeusche": "Die Internationale in vielen Sprachen", "geruch": "Fremde K√ºchen, vertraute Hoffnung" }
  },

  "C3-4": {
    "id": "C3-4",
    "achse": "C3",
    "position": 4,
    "name": "Permanente Revolution",
    "langname": "Revolution muss international werden oder scheitern",
    "beschreibung": "Revolution in einem Land ist nur der Anfang. Ohne Ausweitung auf andere L√§nder wird sie erstickt oder degeneriert. Die Revolution ist permanent ‚Äì oder sie ist nicht.",
    "bewohner": {
      "klassiker": ["Leo Trotzki (1879-1940)"],
      "zeitgenossen": []
    },
    "zitate": [
      { "text": "Die sozialistische Revolution beginnt auf nationalem Boden, entwickelt sich international und wird vollendet auf Weltebene.", "autor": "Leo Trotzki", "quelle": "Die permanente Revolution", "jahr": 1930 }
    ],
    "literatur": [
      { "titel": "Die permanente Revolution", "autor": "Leo Trotzki", "jahr": 1930, "schwierigkeit": 3, "frei": true, "url": "https://www.marxists.org/deutsch/archiv/trotzki/1930/permrev/index.htm" }
    ],
    "praxis": [],
    "fragen": ["Wie exportieren wir Revolution, ohne zu intervenieren?", "Was wenn andere L√§nder nicht mitziehen?"],
    "atmosphaere": { "stimmung": "fiebrig, expansiv, ungeduldig", "geraeusche": "Funken, die √ºberspringen", "geruch": "Grenz√ºberschreitung" }
  },

  "C3-5": {
    "id": "C3-5",
    "achse": "C3",
    "position": 5,
    "name": "Globale Transformation",
    "langname": "Nur globaler Umsturz kann funktionieren",
    "beschreibung": "Das Kapital ist global, also muss es auch der Widerstand sein. Keine nationalen Umwege, kein Sozialismus in einem Land. Wir brauchen eine Weltrevolution oder gar keine.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": ["Michael Hardt (*1960)", "Antonio Negri (*1933)"]
    },
    "zitate": [
      { "text": "Empire hat kein Au√üen mehr. Die Multitude ist √ºberall.", "autor": "Hardt & Negri", "quelle": "Empire", "jahr": 2000 }
    ],
    "literatur": [
      { "titel": "Empire", "autor": "Hardt & Negri", "jahr": 2000, "schwierigkeit": 4, "frei": true, "url": "https://archive.org/details/HardtMichaelNegriAntonioEmpire" }
    ],
    "praxis": [
      { "name": "Weltsozialforum", "ort": "Global", "zeit": "2001-heute", "beschreibung": "Eine andere Welt ist m√∂glich." }
    ],
    "fragen": ["Ist globale Koordination realistisch?", "Wer f√ºhrt eine Weltrevolution an?"],
    "atmosphaere": { "stimmung": "utopisch, grenzenlos, √ºberw√§ltigend", "geraeusche": "Alle Sprachen der Welt", "geruch": "Weltluft" }
  },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // VORHERIGE KNOTEN (gek√ºrzt √ºbernommen)
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

  "A3-5": {
    "id": "A3-5", "achse": "A3", "position": 5,
    "name": "Anarchismus",
    "beschreibung": "Der Staat ist nicht zu reformieren, nicht zu erobern ‚Äì er ist zu √ºberwinden. Jede Herrschaft von Menschen √ºber Menschen muss enden.",
    "bewohner": {
      "klassiker": ["Michail Bakunin (1814-1876)", "Peter Kropotkin (1842-1921)", "Emma Goldman (1869-1940)"],
      "zeitgenossen": ["David Graeber (1961-2020)", "Noam Chomsky (*1928)"]
    },
    "zitate": [
      { "text": "Gegenseitige Hilfe ist genauso ein Naturgesetz wie gegenseitiger Kampf.", "autor": "Peter Kropotkin", "quelle": "Gegenseitige Hilfe", "jahr": 1902 }
    ],
    "literatur": [
      { "titel": "Anarchie!", "autor": "Horst Stowasser", "jahr": 2007, "schwierigkeit": 1, "frei": true, "url": "https://anarchistischebibliothek.org/library/horst-stowasser-anarchie", "notiz": "BESTER Einstieg" }
    ],
    "praxis": [{ "name": "Spanien 1936", "ort": "Katalonien", "zeit": "1936-1939", "beschreibung": "Millionen organisierten ohne Staat." }],
    "fragen": ["Wie koordinieren wir ohne Zentralgewalt?"],
    "atmosphaere": { "stimmung": "rebellisch, lebendig", "geraeusche": "Diskussionen, Gitarre", "geruch": "Kaffee, Druckerschw√§rze" }
  },

  "A3-2": {
    "id": "A3-2", "achse": "A3", "position": 2,
    "name": "Leninismus",
    "beschreibung": "Der b√ºrgerliche Staat muss zerschlagen werden. An seine Stelle tritt der Arbeiterstaat als Werkzeug der Revolution.",
    "bewohner": {
      "klassiker": ["W.I. Lenin (1870-1924)", "Antonio Gramsci (1891-1937)"],
      "zeitgenossen": []
    },
    "zitate": [
      { "text": "Der Staat ist ein Organ der Klassenherrschaft.", "autor": "Lenin", "quelle": "Staat und Revolution", "jahr": 1917 }
    ],
    "literatur": [
      { "titel": "Staat und Revolution", "autor": "Lenin", "jahr": 1917, "schwierigkeit": 3, "frei": true, "url": "https://www.marxists.org/deutsch/archiv/lenin/1917/staatrev/index.htm" }
    ],
    "praxis": [{ "name": "Oktoberrevolution", "ort": "Russland", "zeit": "1917", "beschreibung": "Die Bolschewiki erobern die Macht." }],
    "fragen": ["Warum starb der Staat nicht ab?"],
    "atmosphaere": { "stimmung": "diszipliniert, angespannt", "geraeusche": "Schreibmaschinen", "geruch": "Tinte, Tee" }
  },

  "A3-1": {
    "id": "A3-1", "achse": "A3", "position": 1,
    "name": "Etatismus",
    "beschreibung": "Der Staat ist unser Werkzeug. Durch Wahlen und Gesetze transformieren wir die Gesellschaft.",
    "bewohner": {
      "klassiker": ["Ferdinand Lassalle (1825-1864)", "Eduard Bernstein (1850-1932)"],
      "zeitgenossen": ["Thomas Piketty (*1971)"]
    },
    "zitate": [
      { "text": "Der Weg ist alles, das Ziel ist nichts.", "autor": "Bernstein", "quelle": "Die Voraussetzungen des Sozialismus", "jahr": 1899 }
    ],
    "literatur": [],
    "praxis": [{ "name": "Schwedisches Modell", "ort": "Schweden", "zeit": "1932-1976", "beschreibung": "Sozialdemokratische Hegemonie." }],
    "fragen": ["Hat der parlamentarische Weg je zum Sozialismus gef√ºhrt?"],
    "atmosphaere": { "stimmung": "n√ºchtern, pragmatisch", "geraeusche": "Gremiensitzungen", "geruch": "Thermoskannenkaffee" }
  },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // B2: BESITZ (komplett)
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

  "B2-1": {
    "id": "B2-1", "achse": "B2", "position": 1,
    "name": "Verstaatlichung",
    "beschreibung": "Die Produktionsmittel geh√∂ren dem Staat. Er verwaltet sie im Namen des Volkes. Staatseigentum ist Volkseigentum.",
    "bewohner": {
      "klassiker": ["W.I. Lenin (1870-1924)"],
      "zeitgenossen": []
    },
    "zitate": [
      { "text": "Die Verstaatlichung der Banken ist der erste Schritt zum Sozialismus.", "autor": "Lenin", "quelle": "(sinngem√§√ü)", "jahr": 1917 }
    ],
    "literatur": [],
    "praxis": [{ "name": "Sowjetische Verstaatlichung", "ort": "UdSSR", "zeit": "1918-1991", "beschreibung": "Alle gro√üen Betriebe in Staatshand." }],
    "fragen": ["Ist Staatseigentum wirklich Volkseigentum?", "Wer kontrolliert den Staat?"],
    "atmosphaere": { "stimmung": "b√ºrokratisch, ordentlich", "geraeusche": "Stempel, Aktenordner", "geruch": "Amtsstube" }
  },

  "B2-2": {
    "id": "B2-2", "achse": "B2", "position": 2,
    "name": "√ñffentliches Eigentum",
    "beschreibung": "Strategische Sektoren in √∂ffentlicher Hand, demokratisch kontrolliert. Nicht der abstrakte Staat, sondern gew√§hlte Gremien verwalten.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": ["Thomas Piketty (*1971)"]
    },
    "zitate": [],
    "literatur": [],
    "praxis": [{ "name": "Stadtwerke", "ort": "Deutschland", "zeit": "19. Jh.-heute", "beschreibung": "Kommunale Daseinsvorsorge." }],
    "fragen": ["Wie verhindern wir B√ºrokratisierung?", "Wie funktioniert demokratische Kontrolle?"],
    "atmosphaere": { "stimmung": "sachlich, kommunal", "geraeusche": "Gemeinderatssitzungen", "geruch": "Rathaus" }
  },

  "B2-3": {
    "id": "B2-3", "achse": "B2", "position": 3,
    "name": "Gemischte Formen",
    "beschreibung": "Verschiedene Eigentumsformen nebeneinander: Staatlich, genossenschaftlich, kommunal, privat. Je nach Sektor das Passende.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": ["Erik Olin Wright (1947-2019)"]
    },
    "zitate": [],
    "literatur": [{ "titel": "Reale Utopien", "autor": "Erik Olin Wright", "schwierigkeit": 2, "frei": false }],
    "praxis": [{ "name": "Emilia Romagna", "ort": "Italien", "zeit": "1945-heute", "beschreibung": "Starke Genossenschaftstradition neben Privatwirtschaft." }],
    "fragen": ["Welche Form f√ºr welchen Sektor?", "Wer entscheidet?"],
    "atmosphaere": { "stimmung": "pragmatisch, vielf√§ltig", "geraeusche": "Verschiedene Rhythmen", "geruch": "Gemischt" }
  },

  "B2-4": {
    "id": "B2-4", "achse": "B2", "position": 4,
    "name": "Genossenschaften",
    "beschreibung": "Die Betriebe geh√∂ren denen, die drin arbeiten oder sie nutzen. Genossenschaften ‚Äì demokratisch, aber im Markt.",
    "bewohner": {
      "klassiker": ["Charles Fourier (1772-1837)", "Robert Owen (1771-1858)"],
      "zeitgenossen": []
    },
    "zitate": [],
    "literatur": [],
    "praxis": [{ "name": "Mondragon", "ort": "Baskenland", "zeit": "1956-heute", "beschreibung": "80.000 Arbeiter*innen in Genossenschaften." }],
    "fragen": ["K√∂nnen Genossenschaften gegen Konzerne bestehen?", "Werden sie vom Markt korrumpiert?"],
    "atmosphaere": { "stimmung": "solidarisch, gesch√§ftig", "geraeusche": "Mitgliederversammlungen", "geruch": "Werkstatt und B√ºro" }
  },

  "B2-5": {
    "id": "B2-5", "achse": "B2", "position": 5,
    "name": "Selbstverwaltung",
    "beschreibung": "Die Arbeiter*innen kontrollieren direkt ihre Betriebe. Keine Manager, keine Eigent√ºmer.",
    "bewohner": {
      "klassiker": ["Anton Pannekoek (1873-1960)"],
      "zeitgenossen": ["Michael Albert (*1947)"]
    },
    "zitate": [
      { "text": "Die Befreiung der Arbeiterklasse kann nur das Werk der Arbeiterklasse selbst sein.", "autor": "Pannekoek", "quelle": "Arbeiterr√§te", "jahr": 1946 }
    ],
    "literatur": [
      { "titel": "Arbeiterr√§te", "autor": "Pannekoek", "jahr": 1946, "schwierigkeit": 3, "frei": true, "url": "https://www.marxists.org/deutsch/archiv/pannekoek/1946/arbeiterraete/index.htm" }
    ],
    "praxis": [{ "name": "Mondragon", "ort": "Baskenland", "zeit": "1956-heute", "beschreibung": "80.000 Arbeiter*innen in Genossenschaften." }],
    "fragen": ["Funktioniert das in gro√üen Einheiten?"],
    "atmosphaere": { "stimmung": "praktisch, stolz", "geraeusche": "Vollversammlungen", "geruch": "Maschinen√∂l" }
  },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // B3: ARBEIT (komplett)
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

  "B3-1": {
    "id": "B3-1", "achse": "B3", "position": 1,
    "name": "Vollbesch√§ftigung",
    "beschreibung": "Arbeit ist W√ºrde. Jeder hat ein Recht auf Arbeit, der Staat garantiert es. Arbeitslosigkeit ist ein Skandal, den wir beenden k√∂nnen.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": []
    },
    "zitate": [],
    "literatur": [],
    "praxis": [{ "name": "Job-Garantie-Programme", "ort": "Verschiedene", "zeit": "1930er-heute", "beschreibung": "Staatliche Arbeitsbeschaffung in Krisen." }],
    "fragen": ["Was wenn die garantierten Jobs sinnlos sind?", "Ist Arbeit wirklich W√ºrde?"],
    "atmosphaere": { "stimmung": "flei√üig, pflichtbewusst", "geraeusche": "Stechuhren", "geruch": "Schwei√ü, Ehrlichkeit" }
  },

  "B3-2": {
    "id": "B3-2", "achse": "B3", "position": 2,
    "name": "Gute Arbeit",
    "beschreibung": "Nicht jede Arbeit ist gleich. Wir k√§mpfen f√ºr bessere L√∂hne, k√ºrzere Arbeitszeit, mehr Mitbestimmung. Die Arbeit bleibt, aber sie soll ertr√§glich werden.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": []
    },
    "zitate": [],
    "literatur": [],
    "praxis": [{ "name": "Gewerkschaftsbewegung", "ort": "Weltweit", "zeit": "19. Jh.-heute", "beschreibung": "Erk√§mpfung von Rechten am Arbeitsplatz." }],
    "fragen": ["Reicht Verbesserung, oder brauchen wir √úberwindung?", "Macht 'gute Arbeit' das System ertr√§glicher?"],
    "atmosphaere": { "stimmung": "k√§mpferisch, beharrlich", "geraeusche": "Tarifrunden", "geruch": "Gewerkschaftshaus" }
  },

  "B3-3": {
    "id": "B3-3", "achse": "B3", "position": 3,
    "name": "Arbeitszeitverk√ºrzung",
    "beschreibung": "Die 4-Tage-Woche, die 30-Stunden-Woche, irgendwann die 15-Stunden-Woche. Produktivit√§tsgewinne werden in Freizeit ausgezahlt, nicht in Profit.",
    "bewohner": {
      "klassiker": ["John Maynard Keynes (1883-1946)"],
      "zeitgenossen": ["Rutger Bregman (*1988)"]
    },
    "zitate": [
      { "text": "Unsere Enkel werden 15-Stunden-Wochen arbeiten.", "autor": "Keynes", "quelle": "Economic Possibilities for our Grandchildren", "jahr": 1930 }
    ],
    "literatur": [],
    "praxis": [{ "name": "4-Tage-Woche-Experimente", "ort": "Island, UK", "zeit": "2020er", "beschreibung": "Erfolgreiche Pilotprojekte." }],
    "fragen": ["Warum ist Keynes' Prognose nicht eingetreten?", "Wer profitiert von unserer √úberarbeitung?"],
    "atmosphaere": { "stimmung": "hoffnungsvoll, realistisch", "geraeusche": "Feierabendglocke, fr√ºher als erwartet", "geruch": "Freizeit" }
  },

  "B3-4": {
    "id": "B3-4", "achse": "B3", "position": 4,
    "name": "Grundeinkommen",
    "beschreibung": "Ein bedingungsloses Einkommen f√ºr alle. Arbeit wird freiwillig. Wer arbeiten will, kann. Wer nicht will, muss nicht.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": ["Philippe Van Parijs (*1951)", "Guy Standing (*1948)"]
    },
    "zitate": [],
    "literatur": [{ "titel": "Basic Income", "autor": "Van Parijs & Vanderborght", "schwierigkeit": 2, "frei": false }],
    "praxis": [{ "name": "Finnland-Experiment", "ort": "Finnland", "zeit": "2017-2018", "beschreibung": "2000 Arbeitslose erhielten bedingungsloses Grundeinkommen." }],
    "fragen": ["Stabilisiert BGE den Kapitalismus?", "Wer macht die unangenehme Arbeit?"],
    "atmosphaere": { "stimmung": "befreit, experimentell", "geraeusche": "Stille. Keine Hektik mehr.", "geruch": "M√∂glichkeit" }
  },

  "B3-5": {
    "id": "B3-5", "achse": "B3", "position": 5,
    "name": "Post-Work",
    "beschreibung": "Warum arbeiten, wenn Maschinen es k√∂nnen? Automatisierung plus Grundeinkommen plus kollektiver Luxus.",
    "bewohner": {
      "klassiker": ["Paul Lafargue (1842-1911)"],
      "zeitgenossen": ["David Graeber (1961-2020)", "Nick Srnicek (*1982)"]
    },
    "zitate": [
      { "text": "Ein seltsamer Wahn beherrscht die Arbeiterklasse: die Liebe zur Arbeit.", "autor": "Lafargue", "quelle": "Das Recht auf Faulheit", "jahr": 1880 }
    ],
    "literatur": [
      { "titel": "Das Recht auf Faulheit", "autor": "Lafargue", "jahr": 1880, "schwierigkeit": 1, "frei": true, "url": "https://www.marxists.org/deutsch/archiv/lafargue/1883/faulheit/index.htm", "notiz": "Kurz, witzig, radikal!" },
      { "titel": "Bullshit Jobs", "autor": "Graeber", "jahr": 2018, "schwierigkeit": 1, "frei": true, "url": "https://theanarchistlibrary.org/library/david-graeber-bullshit-jobs" }
    ],
    "praxis": [],
    "fragen": ["Was machen Menschen ohne Arbeitszwang?"],
    "atmosphaere": { "stimmung": "utopisch, verspielt", "geraeusche": "Stille. Gel√§chter.", "geruch": "Frische Luft" }
  },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // C2: NATUR (komplett)
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

  "C2-1": {
    "id": "C2-1", "achse": "C2", "position": 1,
    "name": "Produktivismus",
    "beschreibung": "Die Produktivkr√§fte entwickeln! Industrialisierung ist Fortschritt. Die Natur ist Ressource, die wir nutzen. Sozialismus hei√üt mehr f√ºr alle.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": []
    },
    "zitate": [
      { "text": "Kommunismus ist Sowjetmacht plus Elektrifizierung.", "autor": "Lenin", "quelle": "(zugeschrieben)", "jahr": 1920 }
    ],
    "literatur": [],
    "praxis": [{ "name": "Sowjetische Industrialisierung", "ort": "UdSSR", "zeit": "1928-1940", "beschreibung": "Massive Schwerindustrie-Entwicklung." }],
    "fragen": ["Kann es unendliches Wachstum auf einem endlichen Planeten geben?", "Ist Produktivismus √∂kologisch verantwortbar?"],
    "atmosphaere": { "stimmung": "optimistisch, fortschrittsgl√§ubig", "geraeusche": "Fabriken, Maschinen, Dampf", "geruch": "Industrieru√ü" }
  },

  "C2-2": {
    "id": "C2-2", "achse": "C2", "position": 2,
    "name": "Gr√ºnes Wachstum",
    "beschreibung": "Wachstum ist m√∂glich, wenn es gr√ºn ist. Erneuerbare Energien, Kreislaufwirtschaft, gr√ºne Technologie. Der Kapitalismus muss nicht weg, er muss gr√ºn werden.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": []
    },
    "zitate": [],
    "literatur": [],
    "praxis": [{ "name": "Green New Deal", "ort": "USA, EU", "zeit": "2019-heute", "beschreibung": "Massive gr√ºne Investitionsprogramme." }],
    "fragen": ["Ist gr√ºnes Wachstum ein Oxymoron?", "Reicht Technologie, um uns zu retten?"],
    "atmosphaere": { "stimmung": "hoffnungsvoll-technokratisch", "geraeusche": "Windr√§der, Elektroautos", "geruch": "Sauber, aber synthetisch" }
  },

  "C2-3": {
    "id": "C2-3", "achse": "C2", "position": 3,
    "name": "Nachhaltige Entwicklung",
    "beschreibung": "Entwicklung, die die Bed√ºrfnisse der Gegenwart befriedigt, ohne k√ºnftige Generationen zu gef√§hrden. Balance zwischen √ñkonomie, √ñkologie und Sozialem.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": []
    },
    "zitate": [
      { "text": "Nachhaltige Entwicklung ist Entwicklung, die die Bed√ºrfnisse der Gegenwart befriedigt, ohne zu riskieren, dass k√ºnftige Generationen ihre Bed√ºrfnisse nicht befriedigen k√∂nnen.", "autor": "Brundtland-Bericht", "quelle": "Our Common Future", "jahr": 1987 }
    ],
    "literatur": [],
    "praxis": [{ "name": "UN-Nachhaltigkeitsziele", "ort": "Weltweit", "zeit": "2015-2030", "beschreibung": "17 Ziele f√ºr nachhaltige Entwicklung." }],
    "fragen": ["Ist 'nachhaltige Entwicklung' ein Kompromiss, der nichts l√∂st?", "Wer definiert Bed√ºrfnisse?"],
    "atmosphaere": { "stimmung": "kompromissbereit, institutionell", "geraeusche": "UN-Konferenzen", "geruch": "Klimaanlage" }
  },

  "C2-4": {
    "id": "C2-4", "achse": "C2", "position": 4,
    "name": "√ñkosozialismus",
    "beschreibung": "Die Klimakrise ist eine Systemkrise. Kapitalismus bedeutet Wachstumszwang bedeutet Zerst√∂rung.",
    "bewohner": {
      "klassiker": ["Andr√© Gorz (1923-2007)"],
      "zeitgenossen": ["Kohei Saito (*1987)", "Jason Hickel", "Naomi Klein (*1970)"]
    },
    "zitate": [
      { "text": "Es ist leichter, sich das Ende der Welt vorzustellen als das Ende des Kapitalismus.", "autor": "Fredric Jameson", "quelle": "(zugeschrieben)", "jahr": 2003 }
    ],
    "literatur": [
      { "titel": "Systemsturz", "autor": "Kohei Saito", "jahr": 2023, "schwierigkeit": 2, "frei": false, "notiz": "DAS Buch der Stunde" }
    ],
    "praxis": [{ "name": "Ende Gel√§nde", "ort": "Deutschland", "zeit": "2015-heute", "beschreibung": "Massenaktionen gegen Kohle." }],
    "fragen": ["Wie verhindern wir, dass Degrowth die Armen trifft?"],
    "atmosphaere": { "stimmung": "dringend, k√§mpferisch", "geraeusche": "Megaphone", "geruch": "Campingfeuer" }
  },

  "C2-5": {
    "id": "C2-5", "achse": "C2", "position": 5,
    "name": "Rechte der Natur",
    "beschreibung": "Die Natur ist kein Ding, das wir nutzen. Sie hat eigene Rechte, unabh√§ngig vom menschlichen Nutzen. Wir sind Teil von ihr, nicht ihre Herren.",
    "bewohner": {
      "klassiker": ["Murray Bookchin (1921-2006)"],
      "zeitgenossen": ["Alberto Acosta (*1948)", "Vandana Shiva (*1952)"]
    },
    "zitate": [
      { "text": "Die Beherrschung der Natur durch den Menschen entspringt der Beherrschung des Menschen durch den Menschen.", "autor": "Murray Bookchin", "quelle": "The Ecology of Freedom", "jahr": 1982 }
    ],
    "literatur": [{ "titel": "The Ecology of Freedom", "autor": "Murray Bookchin", "jahr": 1982, "schwierigkeit": 4, "frei": true, "url": "https://theanarchistlibrary.org/library/murray-bookchin-the-ecology-of-freedom" }],
    "praxis": [
      { "name": "Verfassung von Ecuador", "ort": "Ecuador", "zeit": "2008", "beschreibung": "Erste Verfassung mit Rechten der Natur (Pachamama)." },
      { "name": "Whanganui River", "ort": "Neuseeland", "zeit": "2017", "beschreibung": "Ein Fluss wird juristische Person." }
    ],
    "fragen": ["Kann ein Fluss Rechte haben?", "Wer vertritt die Natur?"],
    "atmosphaere": { "stimmung": "ehrf√ºrchtig, langsam", "geraeusche": "Wind, Wasser, Vogelstimmen", "geruch": "Erde nach Regen" }
  },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // C1: FEMINISMUS (komplett)
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

  "C1-1": {
    "id": "C1-1", "achse": "C1", "position": 1,
    "name": "Klassenprimat",
    "beschreibung": "Die Frauenfrage ist eine Klassenfrage. Befreiung der Frauen kommt durch Befreiung der Arbeiterklasse. Erst der Sozialismus, dann der Rest.",
    "bewohner": {
      "klassiker": ["August Bebel (1840-1913)"],
      "zeitgenossen": []
    },
    "zitate": [
      { "text": "Die Frau und der Arbeiter haben gemein, dass sie beide Unterdr√ºckte sind.", "autor": "August Bebel", "quelle": "Die Frau und der Sozialismus", "jahr": 1879 }
    ],
    "literatur": [{ "titel": "Die Frau und der Sozialismus", "autor": "August Bebel", "jahr": 1879, "schwierigkeit": 3, "frei": true, "url": "https://www.marxists.org/deutsch/archiv/bebel/1879/frau/index.html" }],
    "praxis": [],
    "fragen": ["Hat der Sozialismus Frauen befreit?", "Ist Geschlecht wirklich nur Nebenwiderspruch?"],
    "atmosphaere": { "stimmung": "orthodox, ungeduldig mit 'Nebenschaupl√§tzen'", "geraeusche": "M√§nnerstimmen dominieren", "geruch": "Versammlungsrauch" }
  },

  "C1-2": {
    "id": "C1-2", "achse": "C1", "position": 2,
    "name": "Sozialistischer Feminismus",
    "beschreibung": "Klasse und Geschlecht sind beide wichtig. Wir brauchen beides: Sozialismus und Feminismus. Die K√§mpfe verst√§rken sich gegenseitig.",
    "bewohner": {
      "klassiker": ["Clara Zetkin (1857-1933)", "Alexandra Kollontai (1872-1952)"],
      "zeitgenossen": []
    },
    "zitate": [
      { "text": "B√ºrgerliche Feministinnen wollen Privilegien, proletarische Frauen wollen Rechte.", "autor": "Clara Zetkin", "quelle": "(sinngem√§√ü)", "jahr": null }
    ],
    "literatur": [],
    "praxis": [{ "name": "Internationaler Frauentag", "ort": "Weltweit", "zeit": "1911-heute", "beschreibung": "Von Clara Zetkin initiiert." }],
    "fragen": ["Wie verbinden wir die K√§mpfe konkret?", "Wer hat Priorit√§t bei Konflikten?"],
    "atmosphaere": { "stimmung": "doppelt k√§mpferisch", "geraeusche": "Frauenstimmen in der Arbeiterbewegung", "geruch": "Druckerpresse und K√ºche" }
  },

  "C1-3": {
    "id": "C1-3", "achse": "C1", "position": 3,
    "name": "Intersektionalit√§t",
    "beschreibung": "Klasse, Geschlecht, Rasse, Sexualit√§t ‚Äì alles h√§ngt zusammen. Keine Hierarchie der Unterdr√ºckung. Die Kreuzungen sind entscheidend.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": ["Kimberl√© Crenshaw (*1959)", "Patricia Hill Collins (*1948)"]
    },
    "zitate": [
      { "text": "Intersektionalit√§t beschreibt, wie Unterdr√ºckungssysteme sich √ºberschneiden.", "autor": "Kimberl√© Crenshaw", "quelle": "(sinngem√§√ü)", "jahr": 1989 }
    ],
    "literatur": [],
    "praxis": [{ "name": "Combahee River Collective", "ort": "USA", "zeit": "1974-1980", "beschreibung": "Schwarze lesbische Sozialistinnen, Pionierinnen intersektionaler Analyse." }],
    "fragen": ["F√ºhrt Intersektionalit√§t zu Zersplitterung?", "Wie schaffen wir gemeinsame K√§mpfe?"],
    "atmosphaere": { "stimmung": "komplex, aufmerksam", "geraeusche": "Viele Stimmen, die geh√∂rt werden wollen", "geruch": "Vielfalt" }
  },

  "C1-4": {
    "id": "C1-4", "achse": "C1", "position": 4,
    "name": "Care-Revolution",
    "beschreibung": "Die unbezahlte Sorgearbeit ist das Fundament der Wirtschaft. Wer k√ºmmert sich? Meist Frauen. Eine Revolution muss hier beginnen.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": ["Gabriele Winker", "Nancy Fraser (*1947)"]
    },
    "zitate": [],
    "literatur": [{ "titel": "Care Revolution", "autor": "Gabriele Winker", "jahr": 2015, "schwierigkeit": 2, "frei": false }],
    "praxis": [{ "name": "Care-Streiks", "ort": "Weltweit", "zeit": "2010er-heute", "beschreibung": "Pflegekr√§fte und Sorgearbeitende organisieren sich." }],
    "fragen": ["Wie organisieren wir Care-Arbeit kollektiv?", "Wer macht sie, wenn alle streiken?"],
    "atmosphaere": { "stimmung": "ersch√∂pft und w√ºtend", "geraeusche": "Kinder, Alte, Kranke ‚Äì und die, die f√ºr sie sorgen", "geruch": "Krankenhaus, K√ºche, Ersch√∂pfung" }
  },

  "C1-5": {
    "id": "C1-5", "achse": "C1", "position": 5,
    "name": "Radikalfeminismus",
    "beschreibung": "Kapitalismus und Patriarchat sind untrennbar. Der Sozialismus, der Care-Arbeit vergisst, ist keiner.",
    "bewohner": {
      "klassiker": ["Alexandra Kollontai (1872-1952)", "Clara Zetkin (1857-1933)"],
      "zeitgenossen": ["Silvia Federici (*1942)", "Gabriele Winker"]
    },
    "zitate": [
      { "text": "Die Hexenverbrennungen waren der Gr√ºndungsakt des Kapitalismus.", "autor": "Silvia Federici", "quelle": "Caliban und die Hexe", "jahr": 2004 }
    ],
    "literatur": [
      { "titel": "Caliban und die Hexe", "autor": "Federici", "jahr": 2004, "schwierigkeit": 3, "frei": true, "url": "https://libcom.org/article/caliban-and-witch-silvia-federici" }
    ],
    "praxis": [{ "name": "Frauen*streik", "ort": "Weltweit", "zeit": "2018-2019", "beschreibung": "Millionen streikten." }],
    "fragen": ["Wie verhalten sich Klasse und Geschlecht?"],
    "atmosphaere": { "stimmung": "w√ºtend, solidarisch", "geraeusche": "Sprechch√∂re", "geruch": "Kaffee, Tr√§nengas" }
  },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // A2: SUBJEKT (komplett)
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

  "A2-1": {
    "id": "A2-1", "achse": "A2", "position": 1,
    "name": "Industrieproletariat",
    "beschreibung": "Das Industrieproletariat ‚Äì die Arbeiter in den Fabriken ‚Äì ist das einzige revolution√§re Subjekt. Nur wer die Produktion kontrolliert, kann sie stoppen.",
    "bewohner": {
      "klassiker": ["Karl Marx (1818-1883)"],
      "zeitgenossen": []
    },
    "zitate": [],
    "literatur": [],
    "praxis": [{ "name": "Gro√üe Streiks", "ort": "Weltweit", "zeit": "19.-20. Jh.", "beschreibung": "Fabrikarbeiter legten die Wirtschaft lahm." }],
    "fragen": ["Gibt es das Industrieproletariat noch?", "Was ist mit Dienstleistungsarbeit?"],
    "atmosphaere": { "stimmung": "entschlossen, stark", "geraeusche": "Sirenen, Maschinen", "geruch": "Fabrik, √ñl, Metall" }
  },

  "A2-2": {
    "id": "A2-2", "achse": "A2", "position": 2,
    "name": "Klassensubjekt",
    "beschreibung": "Die Geschichte ist die Geschichte von Klassenk√§mpfen. Die Arbeiterklasse ist das revolution√§re Subjekt.",
    "bewohner": {
      "klassiker": ["Karl Marx (1818-1883)", "Friedrich Engels (1820-1895)"],
      "zeitgenossen": []
    },
    "zitate": [
      { "text": "Die Geschichte aller bisherigen Gesellschaft ist die Geschichte von Klassenk√§mpfen.", "autor": "Marx & Engels", "quelle": "Manifest", "jahr": 1848 }
    ],
    "literatur": [
      { "titel": "Das Kommunistische Manifest", "autor": "Marx & Engels", "jahr": 1848, "schwierigkeit": 2, "frei": true, "url": "https://www.marxists.org/deutsch/archiv/marx-engels/1848/manifest/index.htm" }
    ],
    "praxis": [],
    "fragen": ["Gibt es 'die' Arbeiterklasse noch?"],
    "atmosphaere": { "stimmung": "entschlossen, historisch", "geraeusche": "Internationale", "geruch": "Fabrik" }
  },

  "A2-3": {
    "id": "A2-3", "achse": "A2", "position": 3,
    "name": "Erweiterte Klasse",
    "beschreibung": "Die Arbeiterklasse hat sich ver√§ndert. Nicht nur Fabrikarbeiter, auch Dienstleister, Prek√§re, Freelancer. Alle, die ihre Arbeitskraft verkaufen m√ºssen.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": ["Guy Standing (*1948)"]
    },
    "zitate": [
      { "text": "Das Prekariat ist die neue gef√§hrliche Klasse.", "autor": "Guy Standing", "quelle": "The Precariat", "jahr": 2011 }
    ],
    "literatur": [{ "titel": "The Precariat", "autor": "Guy Standing", "jahr": 2011, "schwierigkeit": 2, "frei": false }],
    "praxis": [],
    "fragen": ["Kann das Prekariat sich organisieren?", "Was verbindet so unterschiedliche Lagen?"],
    "atmosphaere": { "stimmung": "fragmentiert, suchend", "geraeusche": "Gig-Economy, Lieferdienste", "geruch": "Fastfood, Ersch√∂pfung" }
  },

  "A2-4": {
    "id": "A2-4", "achse": "A2", "position": 4,
    "name": "Multitude",
    "beschreibung": "Es gibt nicht DAS revolution√§re Subjekt. Es gibt viele K√§mpfe, die sich verbinden ohne sich unterzuordnen.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": ["Michael Hardt (*1960)", "Antonio Negri (*1933)", "Judith Butler (*1956)"]
    },
    "zitate": [
      { "text": "Die Multitude ist der Name der Armen aller.", "autor": "Hardt & Negri", "quelle": "Empire", "jahr": 2000 }
    ],
    "literatur": [
      { "titel": "Empire", "autor": "Hardt & Negri", "jahr": 2000, "schwierigkeit": 4, "frei": true, "url": "https://archive.org/details/HardtMichaelNegriAntonioEmpire" }
    ],
    "praxis": [{ "name": "Bewegung der Bewegungen", "ort": "Weltweit", "zeit": "1999-2005", "beschreibung": "Seattle, Genua, Weltsozialforen." }],
    "fragen": ["Wie verhindern wir Zersplitterung?"],
    "atmosphaere": { "stimmung": "bunt, un√ºbersichtlich", "geraeusche": "Viele Sprachen, Trommeln", "geruch": "Tausend K√ºchen" }
  },

  "A2-5": {
    "id": "A2-5", "achse": "A2", "position": 5,
    "name": "Prozesssubjekt",
    "beschreibung": "Es gibt kein vordefiniertes Subjekt. Das revolution√§re Subjekt konstituiert sich im Kampf selbst. Es ist kein Wer, sondern ein Werden.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": ["Alain Badiou (*1937)"]
    },
    "zitate": [
      { "text": "Das Subjekt ist das, was entsteht, wenn ein Ereignis eintritt.", "autor": "Alain Badiou", "quelle": "(sinngem√§√ü)", "jahr": null }
    ],
    "literatur": [],
    "praxis": [],
    "fragen": ["Wie organisiert man ein Werden?", "Ist das nicht politisch handlungsunf√§hig?"],
    "atmosphaere": { "stimmung": "philosophisch, offen", "geraeusche": "Das Unvorhersehbare", "geruch": "M√∂glichkeit" }
  },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // D1: UTOPIE (komplett)
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

  "D1-1": {
    "id": "D1-1", "achse": "D1", "position": 1,
    "name": "Anti-Utopismus",
    "beschreibung": "Keine Blaupausen! Utopien sind gef√§hrlich ‚Äì sie f√ºhren zu Zwang. Wir wissen nur, was wir nicht wollen. Den Rest finden wir im Gehen.",
    "bewohner": {
      "klassiker": ["Karl Marx (1818-1883)"],
      "zeitgenossen": []
    },
    "zitate": [
      { "text": "Wir entwerfen keine Rezepte f√ºr die Gark√ºchen der Zukunft.", "autor": "Karl Marx", "quelle": "Das Kapital, Nachwort", "jahr": 1873 }
    ],
    "literatur": [],
    "praxis": [],
    "fragen": ["K√∂nnen wir k√§mpfen ohne zu wissen wof√ºr?", "Ist Anti-Utopismus nicht selbst eine Position?"],
    "atmosphaere": { "stimmung": "n√ºchtern, vorsichtig", "geraeusche": "Kritik an Tr√§umern", "geruch": "Skepsis" }
  },

  "D1-2": {
    "id": "D1-2", "achse": "D1", "position": 2,
    "name": "Negative Utopie",
    "beschreibung": "Wir wissen, was weg muss: Ausbeutung, Unterdr√ºckung, Zerst√∂rung. Das Positive ergibt sich aus der Negation. Kritik ist unser Kompass.",
    "bewohner": {
      "klassiker": ["Theodor W. Adorno (1903-1969)"],
      "zeitgenossen": []
    },
    "zitate": [
      { "text": "Es gibt kein richtiges Leben im falschen.", "autor": "Adorno", "quelle": "Minima Moralia", "jahr": 1951 }
    ],
    "literatur": [{ "titel": "Minima Moralia", "autor": "Adorno", "jahr": 1951, "schwierigkeit": 4, "frei": false }],
    "praxis": [],
    "fragen": ["Reicht Kritik, um zu wissen wohin?", "Ist negative Utopie nicht auch eine Utopie?"],
    "atmosphaere": { "stimmung": "melancholisch, pr√§zise", "geraeusche": "Stille Reflexion", "geruch": "Zigarettenrauch in der D√§mmerung" }
  },

  "D1-3": {
    "id": "D1-3", "achse": "D1", "position": 3,
    "name": "Prozessuale Utopie",
    "beschreibung": "Utopie ist kein Ziel, sondern eine Richtung. Wir tasten uns vor, experimentieren, korrigieren. Der Weg entsteht im Gehen.",
    "bewohner": {
      "klassiker": ["Ernst Bloch (1885-1977)"],
      "zeitgenossen": []
    },
    "zitate": [
      { "text": "Ich bin. Aber ich habe mich nicht. Darum werden wir erst.", "autor": "Ernst Bloch", "quelle": "Das Prinzip Hoffnung", "jahr": 1959 }
    ],
    "literatur": [{ "titel": "Das Prinzip Hoffnung", "autor": "Ernst Bloch", "jahr": 1959, "schwierigkeit": 5, "frei": false, "notiz": "Monumentales Werk √ºber das Noch-Nicht" }],
    "praxis": [],
    "fragen": ["Wie verhindern wir, dass wir uns verlaufen?", "Brauchen wir nicht doch eine Karte?"],
    "atmosphaere": { "stimmung": "hoffnungsvoll, suchend", "geraeusche": "Schritte ins Unbekannte", "geruch": "Morgenluft" }
  },

  "D1-4": {
    "id": "D1-4", "achse": "D1", "position": 4,
    "name": "Reale Utopien",
    "beschreibung": "Utopien sind nicht nur Tr√§ume ‚Äì sie existieren bereits. In Genossenschaften, Kommunen, Experimenten. Wir m√ºssen sie nur sichtbar machen und ausweiten.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": ["Erik Olin Wright (1947-2019)"]
    },
    "zitate": [
      { "text": "Reale Utopien zeigen, dass Alternativen m√∂glich sind.", "autor": "Erik Olin Wright", "quelle": "Reale Utopien", "jahr": 2010 }
    ],
    "literatur": [{ "titel": "Reale Utopien", "autor": "Erik Olin Wright", "schwierigkeit": 2, "frei": false }],
    "praxis": [
      { "name": "Wikipedia", "ort": "Global", "zeit": "2001-heute", "beschreibung": "Nicht-kommerziell, kollaborativ, frei zug√§nglich." },
      { "name": "Mietsh√§user Syndikat", "ort": "Deutschland", "zeit": "1992-heute", "beschreibung": "H√§user dem Markt entziehen." }
    ],
    "fragen": ["K√∂nnen Nischen das System ver√§ndern?", "Werden sie nicht integriert?"],
    "atmosphaere": { "stimmung": "praktisch, inspiriert", "geraeusche": "Werkeln, Bauen", "geruch": "Frische Farbe" }
  },

  "D1-5": {
    "id": "D1-5", "achse": "D1", "position": 5,
    "name": "Konkrete Utopie",
    "beschreibung": "Wir brauchen eine klare Vision! Wie soll die neue Gesellschaft aussehen? Parecon, Kommunismus, Anarchie ‚Äì wir m√ºssen es benennen k√∂nnen.",
    "bewohner": {
      "klassiker": ["Charles Fourier (1772-1837)", "William Morris (1834-1896)"],
      "zeitgenossen": ["Michael Albert (*1947)"]
    },
    "zitate": [],
    "literatur": [
      { "titel": "News from Nowhere", "autor": "William Morris", "jahr": 1890, "schwierigkeit": 2, "frei": true, "url": "https://www.marxists.org/archive/morris/works/1890/nowhere/nowhere.htm" },
      { "titel": "Parecon", "autor": "Michael Albert", "schwierigkeit": 2, "frei": true, "url": "https://zcomm.org/znetarticle/parecon-introduction/" }
    ],
    "praxis": [],
    "fragen": ["Wird konkrete Utopie zum Zwang?", "Wer bestimmt die Details?"],
    "atmosphaere": { "stimmung": "vision√§r, manchmal starr", "geraeusche": "Detaillierte Pl√§ne werden diskutiert", "geruch": "Zeichenpapier" }
  },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // D2: TRANSFORMATION (erg√§nzt)
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

  "D2-2": {
    "id": "D2-2", "achse": "D2", "position": 2,
    "name": "Interstitiell",
    "beschreibung": "In den Zwischenr√§umen w√§chst das Neue. Wir bauen Alternativen im Hier und Jetzt, ohne auf die Revolution zu warten. Pr√§figuration statt Machtergreifung.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": ["Erik Olin Wright (1947-2019)"]
    },
    "zitate": [],
    "literatur": [],
    "praxis": [
      { "name": "Solidarische Landwirtschaft", "ort": "Weltweit", "zeit": "1980er-heute", "beschreibung": "Produzenten und Konsumenten teilen Risiko und Ernte." }
    ],
    "fragen": ["K√∂nnen Zwischenr√§ume das Ganze ver√§ndern?", "Werden sie nicht marginalisiert?"],
    "atmosphaere": { "stimmung": "geduldig, praktisch", "geraeusche": "Leises Wachsen", "geruch": "Kompost" }
  },

  "D2-3": {
    "id": "D2-3", "achse": "D2", "position": 3,
    "name": "Symbiotisch",
    "beschreibung": "Wir nutzen den Staat, um R√§ume zu √∂ffnen. Gesetze, F√∂rderung, Schutz f√ºr Alternativen. Das System wird von innen ausgeh√∂hlt und transformiert.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": ["Erik Olin Wright (1947-2019)"]
    },
    "zitate": [],
    "literatur": [],
    "praxis": [
      { "name": "√ñffentliche F√∂rderung von Genossenschaften", "ort": "Verschiedene", "zeit": "20. Jh.-heute", "beschreibung": "Staatliche Unterst√ºtzung f√ºr alternative Wirtschaftsformen." }
    ],
    "fragen": ["Wird man vom Staat vereinnahmt?", "Ist das noch Transformation oder Integration?"],
    "atmosphaere": { "stimmung": "taktisch, komplex", "geraeusche": "Verhandlungen", "geruch": "Kompromiss" }
  },

  "D2-4": {
    "id": "D2-4", "achse": "D2", "position": 4,
    "name": "Rupturell",
    "beschreibung": "Br√ºche sind n√∂tig, aber nicht als einmaliger Akt. Immer wieder Konfrontation, Eskalation, R√ºckzug, neue Konfrontation. Transformation durch wiederholte Ersch√ºtterung.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": []
    },
    "zitate": [],
    "literatur": [],
    "praxis": [
      { "name": "Streikwellen", "ort": "Verschiedene", "zeit": "19.-21. Jh.", "beschreibung": "Massenstreiks ersch√ºttern das System, erzwingen Zugest√§ndnisse." }
    ],
    "fragen": ["Wie verhindern wir Ersch√∂pfung?", "Wann wird Ersch√ºtterung zur Revolution?"],
    "atmosphaere": { "stimmung": "rhythmisch, k√§mpferisch", "geraeusche": "Wellen, die kommen und gehen", "geruch": "Konflikt" }
  },

  "D2-5": {
    "id": "D2-5", "achse": "D2", "position": 5,
    "name": "Revolution",
    "beschreibung": "Es gibt keinen sanften √úbergang. Der Kapitalismus wird gest√ºrzt. An einem Tag X √§ndert sich alles.",
    "bewohner": {
      "klassiker": ["W.I. Lenin (1870-1924)", "Leo Trotzki (1879-1940)"],
      "zeitgenossen": []
    },
    "zitate": [
      { "text": "Es gibt Jahrzehnte, in denen nichts passiert, und Wochen, in denen Jahrzehnte passieren.", "autor": "Lenin", "quelle": "(zugeschrieben)", "jahr": null }
    ],
    "literatur": [],
    "praxis": [{ "name": "Pariser Kommune", "ort": "Paris", "zeit": "1871", "beschreibung": "72 Tage Arbeiterherrschaft." }],
    "fragen": ["Wann ist der Moment?"],
    "atmosphaere": { "stimmung": "elektrisch", "geraeusche": "Stille vor dem Sturm", "geruch": "Geschichte" }
  },

  "D2-1": {
    "id": "D2-1", "achse": "D2", "position": 1,
    "name": "Reform",
    "beschreibung": "Ver√§nderung braucht Zeit. Reform um Reform, bis die alte Ordnung in der neuen aufgeht.",
    "bewohner": {
      "klassiker": ["Eduard Bernstein (1850-1932)"],
      "zeitgenossen": ["Erik Olin Wright (1947-2019)"]
    },
    "zitate": [
      { "text": "Das Endziel ist mir nichts, die Bewegung alles.", "autor": "Bernstein", "quelle": "Voraussetzungen", "jahr": 1899 }
    ],
    "literatur": [],
    "praxis": [],
    "fragen": ["Werden Reformen nicht immer zur√ºckgenommen?"],
    "atmosphaere": { "stimmung": "geduldig", "geraeusche": "Stille Arbeit", "geruch": "Aktenstaub" }
  },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // D3: SPIRITUALIT√ÑT (komplett)
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

  "D3-1": {
    "id": "D3-1", "achse": "D3", "position": 1,
    "name": "Strenger Materialismus",
    "beschreibung": "Religion ist Opium des Volkes. Spiritualit√§t ist Ablenkung. Die materiellen Verh√§ltnisse bestimmen das Bewusstsein, nicht umgekehrt.",
    "bewohner": {
      "klassiker": ["Karl Marx (1818-1883)"],
      "zeitgenossen": []
    },
    "zitate": [
      { "text": "Die Religion ist der Seufzer der bedr√§ngten Kreatur, das Gem√ºt einer herzlosen Welt.", "autor": "Marx", "quelle": "Zur Kritik der Hegelschen Rechtsphilosophie", "jahr": 1844 }
    ],
    "literatur": [],
    "praxis": [{ "name": "Staatsatheismus", "ort": "UdSSR, DDR", "zeit": "20. Jh.", "beschreibung": "Aktive Bek√§mpfung von Religion." }],
    "fragen": ["Ist Spiritualit√§t wirklich nur Ideologie?", "Was geht verloren, wenn wir sie verwerfen?"],
    "atmosphaere": { "stimmung": "n√ºchtern, rationalistisch", "geraeusche": "Wissenschaftliche Debatten", "geruch": "Labor" }
  },

  "D3-2": {
    "id": "D3-2", "achse": "D3", "position": 2,
    "name": "S√§kularer Humanismus",
    "beschreibung": "Keine Religion, aber Werte. Menschenw√ºrde, Solidarit√§t, Vernunft ‚Äì das reicht als ethische Grundlage. Spiritualit√§t brauchen wir nicht.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": []
    },
    "zitate": [],
    "literatur": [],
    "praxis": [],
    "fragen": ["Woher kommen die Werte?", "Reicht Vernunft f√ºr Motivation?"],
    "atmosphaere": { "stimmung": "aufgekl√§rt, etwas trocken", "geraeusche": "Ethik-Seminare", "geruch": "Bibliothek" }
  },

  "D3-3": {
    "id": "D3-3", "achse": "D3", "position": 3,
    "name": "Offenheit",
    "beschreibung": "Religion ist Privatsache. Manche Genoss*innen sind gl√§ubig, manche nicht. Das soll uns nicht spalten. Gemeinsam k√§mpfen, unterschiedlich glauben.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": []
    },
    "zitate": [],
    "literatur": [],
    "praxis": [{ "name": "Religi√∂se Sozialist*innen", "ort": "Verschiedene", "zeit": "19.-21. Jh.", "beschreibung": "Christ*innen, Muslim*innen, J√ºd*innen in der Arbeiterbewegung." }],
    "fragen": ["Kann man neutral sein?", "Was wenn Religion reaktion√§r wird?"],
    "atmosphaere": { "stimmung": "tolerant, manchmal spannungsreich", "geraeusche": "Verschiedene Stimmen", "geruch": "Gemischt" }
  },

  "D3-4": {
    "id": "D3-4", "achse": "D3", "position": 4,
    "name": "Befreiungstheologie",
    "beschreibung": "Gott steht auf der Seite der Armen. Religion ist nicht Opium, sondern Dynamit. Glaube verpflichtet zum Kampf gegen Ungerechtigkeit.",
    "bewohner": {
      "klassiker": ["Gustavo Guti√©rrez (*1928)", "Oscar Romero (1917-1980)"],
      "zeitgenossen": []
    },
    "zitate": [
      { "text": "Eine Kirche, die nicht dient, dient zu nichts.", "autor": "Oscar Romero", "quelle": "(zugeschrieben)", "jahr": null }
    ],
    "literatur": [{ "titel": "Theologie der Befreiung", "autor": "Gustavo Guti√©rrez", "jahr": 1971, "schwierigkeit": 3, "frei": false }],
    "praxis": [{ "name": "Basisgemeinden", "ort": "Lateinamerika", "zeit": "1960er-heute", "beschreibung": "Glaube und politischer Kampf verbunden." }],
    "fragen": ["Bleibt die Befreiungstheologie beim Reformismus stehen?", "Kann Religion wirklich revolution√§r sein?"],
    "atmosphaere": { "stimmung": "leidenschaftlich, prophetisch", "geraeusche": "Gebete und Sprechch√∂re", "geruch": "Weihrauch und Tr√§nengas" }
  },

  "D3-5": {
    "id": "D3-5", "achse": "D3", "position": 5,
    "name": "Spiritueller Sozialismus",
    "beschreibung": "Sozialismus braucht eine spirituelle Dimension. Nicht Religion im alten Sinn, aber Ehrfurcht, Verbundenheit, Transzendenz. Materialismus allein reicht nicht.",
    "bewohner": {
      "klassiker": ["Gustav Landauer (1870-1919)", "Simone Weil (1909-1943)"],
      "zeitgenossen": []
    },
    "zitate": [
      { "text": "Der Staat ist ein Verh√§ltnis, eine Beziehung zwischen Menschen. Man zerst√∂rt ihn, indem man andere Beziehungen eingeht.", "autor": "Gustav Landauer", "quelle": "Aufruf zum Sozialismus", "jahr": 1911 }
    ],
    "literatur": [{ "titel": "Aufruf zum Sozialismus", "autor": "Gustav Landauer", "jahr": 1911, "schwierigkeit": 3, "frei": true, "url": "https://theanarchistlibrary.org/library/gustav-landauer-for-socialism" }],
    "praxis": [],
    "fragen": ["Was unterscheidet das von Religion?", "Braucht Sozialismus wirklich Spiritualit√§t?"],
    "atmosphaere": { "stimmung": "mystisch, suchend", "geraeusche": "Stille, dann tiefe Gespr√§che", "geruch": "Erde und etwas Unbenennbares" }
  },

  "E3-1": {
    "id": "E3-1", "achse": "E3", "position": 1,
    "name": "Avantgarde",
    "beschreibung": "Die Massen haben nicht automatisch Bewusstsein. Die Partei bringt es von au√üen.",
    "bewohner": {
      "klassiker": ["W.I. Lenin (1870-1924)", "Georg Luk√°cs (1885-1971)"],
      "zeitgenossen": []
    },
    "zitate": [
      { "text": "Das Bewusstsein kann nur von au√üen hineingetragen werden.", "autor": "Lenin", "quelle": "Was tun?", "jahr": 1902 }
    ],
    "literatur": [
      { "titel": "Was tun?", "autor": "Lenin", "jahr": 1902, "schwierigkeit": 3, "frei": true, "url": "https://www.marxists.org/deutsch/archiv/lenin/1902/wastun/index.htm" }
    ],
    "praxis": [],
    "fragen": ["F√ºhrt das nicht zu Elitismus?"],
    "atmosphaere": { "stimmung": "ernst, diszipliniert", "geraeusche": "Schulungen", "geruch": "Klassenraum" }
  },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // E1: B√úNDNISSE (komplett)
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

  "E1-1": {
    "id": "E1-1", "achse": "E1", "position": 1,
    "name": "Klassenreinheit",
    "beschreibung": "Nur die Arbeiterklasse! B√ºndnisse mit anderen Klassen verw√§ssern unsere Position. Das Kleinb√ºrgertum verr√§t uns, die Bauern sind r√ºckst√§ndig.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": []
    },
    "zitate": [],
    "literatur": [],
    "praxis": [],
    "fragen": ["Gibt es die 'reine' Arbeiterklasse?", "K√∂nnen wir ohne B√ºndnisse gewinnen?"],
    "atmosphaere": { "stimmung": "sektiererisch, rein", "geraeusche": "Abgrenzungsdebatten", "geruch": "Dogmatismus" }
  },

  "E1-2": {
    "id": "E1-2", "achse": "E1", "position": 2,
    "name": "Klassenb√ºndnis",
    "beschreibung": "Die Arbeiterklasse f√ºhrt, aber sie braucht Verb√ºndete: Bauern, Kleinb√ºrger, Intellektuelle. Unter proletarischer Hegemonie.",
    "bewohner": {
      "klassiker": ["Antonio Gramsci (1891-1937)"],
      "zeitgenossen": []
    },
    "zitate": [
      { "text": "Hegemonie bedeutet kulturelle und politische F√ºhrung.", "autor": "Gramsci", "quelle": "Gef√§ngnishefte", "jahr": 1932 }
    ],
    "literatur": [],
    "praxis": [{ "name": "Volksfront", "ort": "Frankreich, Spanien", "zeit": "1930er", "beschreibung": "B√ºndnis von Arbeitern, Bauern, Mittelschicht gegen Faschismus." }],
    "fragen": ["Wer f√ºhrt wirklich?", "Wird die Arbeiterklasse nicht ausgebremst?"],
    "atmosphaere": { "stimmung": "strategisch, b√ºndnisf√§hig", "geraeusche": "Koalitionsverhandlungen", "geruch": "Politik" }
  },

  "E1-3": {
    "id": "E1-3", "achse": "E1", "position": 3,
    "name": "Breite B√ºndnisse",
    "beschreibung": "Alle, die gegen das System sind! Keine Hierarchie der K√§mpfe. Arbeiter, Frauen, Queers, Migrant*innen, Klimaaktivist*innen ‚Äì gemeinsam sind wir stark.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": []
    },
    "zitate": [],
    "literatur": [],
    "praxis": [{ "name": "Unteilbar", "ort": "Deutschland", "zeit": "2018-heute", "beschreibung": "Breites B√ºndnis gegen Rechts." }],
    "fragen": ["Verw√§ssert Breite die Radikalit√§t?", "Wie verhindern wir, dass alle nur ihr Thema pushen?"],
    "atmosphaere": { "stimmung": "bunt, manchmal chaotisch", "geraeusche": "Viele Stimmen, Kompromisse", "geruch": "Gro√üdemo" }
  },

  "E1-4": {
    "id": "E1-4", "achse": "E1", "position": 4,
    "name": "Bewegungsorientiert",
    "beschreibung": "Keine festen B√ºndnisse, sondern Bewegungen. Sie entstehen, wachsen, vergehen. Flexibilit√§t statt Strukturen. Der Moment entscheidet.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": []
    },
    "zitate": [],
    "literatur": [],
    "praxis": [{ "name": "Arabischer Fr√ºhling", "ort": "Nordafrika, Naher Osten", "zeit": "2010-2012", "beschreibung": "Massenerhebungen ohne feste Organisation." }],
    "fragen": ["Wie bewahren wir Errungenschaften ohne Struktur?", "Was kommt nach dem Moment?"],
    "atmosphaere": { "stimmung": "spontan, aufbrausend", "geraeusche": "Menschenmassen", "geruch": "Platzbesetzung" }
  },

  "E1-5": {
    "id": "E1-5", "achse": "E1", "position": 5,
    "name": "Netzwerk-Politik",
    "beschreibung": "Keine B√ºndnisse im alten Sinn. Netzwerke, die sich situativ verbinden und wieder l√∂sen. Rhizomatisch, dezentral, ohne Zentrum.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": ["Michael Hardt (*1960)", "Antonio Negri (*1933)"]
    },
    "zitate": [],
    "literatur": [],
    "praxis": [{ "name": "Anonymous", "ort": "Global", "zeit": "2003-heute", "beschreibung": "Dezentrales Hacker-Netzwerk." }],
    "fragen": ["Kann ein Netzwerk Macht erobern?", "Wer koordiniert ohne Zentrum?"],
    "atmosphaere": { "stimmung": "fluide, digital", "geraeusche": "Tastaturen, Verschl√ºsselung", "geruch": "Serverraum" }
  },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // E2: EBENEN (komplett)
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

  "E2-1": {
    "id": "E2-1", "achse": "E2", "position": 1,
    "name": "Zentralismus",
    "beschreibung": "Eine Partei, eine Linie, eine F√ºhrung. Nur so k√∂nnen wir die Macht erobern und verteidigen. Dezentralismus ist Schw√§che.",
    "bewohner": {
      "klassiker": ["W.I. Lenin (1870-1924)"],
      "zeitgenossen": []
    },
    "zitate": [
      { "text": "Ohne revolution√§re Theorie keine revolution√§re Bewegung.", "autor": "Lenin", "quelle": "Was tun?", "jahr": 1902 }
    ],
    "literatur": [],
    "praxis": [{ "name": "Kommunistische Parteien", "ort": "Weltweit", "zeit": "20. Jh.", "beschreibung": "Demokratischer Zentralismus." }],
    "fragen": ["F√ºhrt Zentralismus zu Diktatur?", "Wie verhindern wir B√ºrokratisierung?"],
    "atmosphaere": { "stimmung": "straff, diszipliniert", "geraeusche": "Befehle", "geruch": "Uniform" }
  },

  "E2-2": {
    "id": "E2-2", "achse": "E2", "position": 2,
    "name": "F√∂deralismus",
    "beschreibung": "Starke regionale Strukturen, die sich zu einem Bund zusammenschlie√üen. Von unten nach oben, aber mit gemeinsamer Koordination.",
    "bewohner": {
      "klassiker": ["Pierre-Joseph Proudhon (1809-1865)"],
      "zeitgenossen": []
    },
    "zitate": [],
    "literatur": [],
    "praxis": [{ "name": "CNT", "ort": "Spanien", "zeit": "1910-1939", "beschreibung": "Anarchosyndikalistische Gewerkschaft, f√∂deralistisch organisiert." }],
    "fragen": ["Wie verhindern wir Zersplitterung?", "Wer koordiniert im Konfliktfall?"],
    "atmosphaere": { "stimmung": "vielf√§ltig, manchmal chaotisch", "geraeusche": "Viele Versammlungen gleichzeitig", "geruch": "Regionale K√ºchen" }
  },

  "E2-3": {
    "id": "E2-3", "achse": "E2", "position": 3,
    "name": "Mehrebenen",
    "beschreibung": "Lokal, regional, national, global ‚Äì wir brauchen alles. Keine Ebene hat Vorrang. Je nach Situation aktivieren wir verschiedene Ebenen.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": []
    },
    "zitate": [],
    "literatur": [],
    "praxis": [{ "name": "Die Linke", "ort": "Deutschland", "zeit": "2007-heute", "beschreibung": "Kommunal, Landtage, Bundestag, EU ‚Äì auf allen Ebenen pr√§sent." }],
    "fragen": ["Wie koordinieren wir zwischen Ebenen?", "Welche Ebene hat im Konflikt Vorrang?"],
    "atmosphaere": { "stimmung": "komplex, koordiniert", "geraeusche": "Videokonferenzen", "geruch": "Kaffee um 3 Uhr nachts" }
  },

  "E2-4": {
    "id": "E2-4", "achse": "E2", "position": 4,
    "name": "Kommunalismus",
    "beschreibung": "Die Kommune ist die Basis. Hier leben wir, hier k√§mpfen wir. Von unten aufbauen, dann verb√ºnden. Libert√§rer Munizipalismus.",
    "bewohner": {
      "klassiker": ["Murray Bookchin (1921-2006)"],
      "zeitgenossen": []
    },
    "zitate": [
      { "text": "Politik beginnt in der Nachbarschaft.", "autor": "Murray Bookchin", "quelle": "(sinngem√§√ü)", "jahr": null }
    ],
    "literatur": [],
    "praxis": [{ "name": "Rojava", "ort": "Nordostsyrien", "zeit": "2012-heute", "beschreibung": "Kommunale Selbstverwaltung nach Bookchin." }],
    "fragen": ["K√∂nnen Kommunen gegen Nationalstaaten bestehen?", "Was ist mit √ºberregionalen Problemen?"],
    "atmosphaere": { "stimmung": "nachbarschaftlich, konkret", "geraeusche": "Stadtteilversammlung", "geruch": "Lokales Essen" }
  },

  "E2-5": {
    "id": "E2-5", "achse": "E2", "position": 5,
    "name": "Basisdemokratie",
    "beschreibung": "Alle Macht der Basis! Keine Delegation, keine Repr√§sentation. Jede*r spricht f√ºr sich. Vollversammlungen, Konsens, direkte Demokratie.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": []
    },
    "zitate": [],
    "literatur": [],
    "praxis": [{ "name": "Occupy", "ort": "Weltweit", "zeit": "2011-2012", "beschreibung": "Generalversammlungen, Konsensprinzip." }],
    "fragen": ["Skaliert Basisdemokratie?", "Was wenn kein Konsens m√∂glich ist?"],
    "atmosphaere": { "stimmung": "intensiv, zeitraubend, erf√ºllend", "geraeusche": "Endlose Diskussionen", "geruch": "Plenum" }
  },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // E3: BILDUNG (erg√§nzt)
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

  "E3-2": {
    "id": "E3-2", "achse": "E3", "position": 2,
    "name": "Kaderschulung",
    "beschreibung": "Nicht jeder muss alles wissen, aber die Kader m√ºssen top sein. Intensive Schulung einer Elite, die dann die Massen f√ºhrt.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": []
    },
    "zitate": [],
    "literatur": [],
    "praxis": [{ "name": "Parteischulen", "ort": "UdSSR, DDR, China", "zeit": "20. Jh.", "beschreibung": "Systematische Kaderausbildung." }],
    "fragen": ["F√ºhrt das nicht zu Elitismus?", "Was wenn die Kader sich irren?"],
    "atmosphaere": { "stimmung": "konzentriert, elit√§r", "geraeusche": "Vorlesungen", "geruch": "Internat" }
  },

  "E3-3": {
    "id": "E3-3", "achse": "E3", "position": 3,
    "name": "Politische Bildung",
    "beschreibung": "Bildungsangebote f√ºr alle, die wollen. Seminare, Lesekreise, Workshops. Nicht elit√§r, aber auch nicht basisromantisch.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": []
    },
    "zitate": [],
    "literatur": [],
    "praxis": [{ "name": "Rosa-Luxemburg-Stiftung", "ort": "Deutschland", "zeit": "1990-heute", "beschreibung": "Politische Bildung der Linken." }],
    "fragen": ["Erreichen wir damit die Richtigen?", "Ist das nicht zu akademisch?"],
    "atmosphaere": { "stimmung": "bildungsb√ºrgerlich, engagiert", "geraeusche": "PowerPoint-Pr√§sentationen", "geruch": "Seminarraum" }
  },

  "E3-4": {
    "id": "E3-4", "achse": "E3", "position": 4,
    "name": "Bewegungslernen",
    "beschreibung": "Man lernt im Kampf. Die Demonstration bildet, die Besetzung schult, der Streik lehrt. Praxis ist die beste Schule.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": []
    },
    "zitate": [
      { "text": "Die Arbeiter bilden sich in der Bewegung selbst.", "autor": "Rosa Luxemburg", "quelle": "(sinngem√§√ü)", "jahr": null }
    ],
    "literatur": [],
    "praxis": [{ "name": "Aktionscamps", "ort": "Verschiedene", "zeit": "1990er-heute", "beschreibung": "Lernen durch Aktion." }],
    "fragen": ["Lernen wir im Kampf auch falsche Dinge?", "Brauchen wir nicht auch Reflexion?"],
    "atmosphaere": { "stimmung": "aktiv, k√∂rperlich", "geraeusche": "Aktionstraining", "geruch": "Schwei√ü, Entschlossenheit" }
  },

  "E3-5": {
    "id": "E3-5", "achse": "E3", "position": 5,
    "name": "Basisbildung",
    "beschreibung": "Wissen entsteht im Kampf. Die Menschen bilden sich gegenseitig.",
    "bewohner": {
      "klassiker": ["Paulo Freire (1921-1997)"],
      "zeitgenossen": []
    },
    "zitate": [
      { "text": "Die Menschen erziehen sich gegenseitig, vermittelt durch die Welt.", "autor": "Paulo Freire", "quelle": "P√§dagogik der Unterdr√ºckten", "jahr": 1968 }
    ],
    "literatur": [],
    "praxis": [{ "name": "Zapatistische Schulen", "ort": "Chiapas", "zeit": "1994-heute", "beschreibung": "Autonome Bildung." }],
    "fragen": ["Braucht es manchmal Expert*innen?"],
    "atmosphaere": { "stimmung": "lebendig, horizontal", "geraeusche": "Gleichzeitiges Reden", "geruch": "Frisch kopierte Texte" }
  },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // F1: TECHNOLOGIE (Neo-Luddismus ‚Üî Akzelerationismus)
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

  "F1-1": {
    "id": "F1-1", "achse": "F1", "position": 1,
    "name": "Neo-Luddismus",
    "beschreibung": "Technologie ist nicht neutral ‚Äî sie verk√∂rpert Herrschaftsverh√§ltnisse. Manche Maschinen m√ºssen zerst√∂rt, nicht angeeignet werden.",
    "bewohner": {
      "klassiker": ["Ned Ludd (mythisch)"],
      "zeitgenossen": ["Kirkpatrick Sale"]
    },
    "zitate": [
      { "text": "Die Frage ist nicht, wie wir die Technologie kontrollieren, sondern ob wir sie √ºberhaupt wollen.", "autor": "Kirkpatrick Sale", "quelle": "Rebels Against the Future", "jahr": 1995 }
    ],
    "literatur": [],
    "praxis": [],
    "fragen": ["Gibt es emanzipatorische Technologie?", "Wer entscheidet was produziert wird?"],
    "atmosphaere": { "stimmung": "skeptisch, k√§mpferisch", "geraeusche": "H√§mmern auf Maschinen", "geruch": "Rauch" }
  },

  "F1-2": {
    "id": "F1-2", "achse": "F1", "position": 2,
    "name": "Technologie-Skepsis",
    "beschreibung": "Low-Tech, Konvivialit√§t, angemessene Technologie. Nicht alles was geht, sollte auch gemacht werden.",
    "bewohner": {
      "klassiker": ["Ivan Illich (1926-2002)", "E.F. Schumacher (1911-1977)"],
      "zeitgenossen": []
    },
    "zitate": [
      { "text": "Small is beautiful.", "autor": "E.F. Schumacher", "quelle": "Small Is Beautiful", "jahr": 1973 }
    ],
    "literatur": [],
    "praxis": [{ "name": "Appropriate Technology Movement", "ort": "Global", "zeit": "1970er", "beschreibung": "Technologie im menschlichen Ma√üstab." }],
    "fragen": ["Was ist das richtige Ma√ü?"],
    "atmosphaere": { "stimmung": "besonnen, handwerklich", "geraeusche": "Handarbeit", "geruch": "Holz und Erde" }
  },

  "F1-3": {
    "id": "F1-3", "achse": "F1", "position": 3,
    "name": "Kritische Aneignung",
    "beschreibung": "Technologie ist umk√§mpft. Wir m√ºssen sie demokratisieren, hacken, umfunktionieren ‚Äî nicht ablehnen oder blind umarmen.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": ["Trebor Scholz", "Dmytri Kleiner"]
    },
    "zitate": [
      { "text": "Platform Cooperativism: Die Plattformen den Nutzern!", "autor": "Trebor Scholz", "quelle": "Platform Cooperativism", "jahr": 2016 }
    ],
    "literatur": [],
    "praxis": [{ "name": "Plattform-Genossenschaften", "ort": "Global", "zeit": "2010er", "beschreibung": "Uber, aber in Arbeiterhand." }],
    "fragen": ["Kann man das Internet vergesellschaften?"],
    "atmosphaere": { "stimmung": "pragmatisch, hackend", "geraeusche": "Tastaturklappern", "geruch": "Serverraum" }
  },

  "F1-4": {
    "id": "F1-4", "achse": "F1", "position": 4,
    "name": "Left Accelerationism",
    "beschreibung": "Der Kapitalismus hat Produktivkr√§fte freigesetzt, die √ºber ihn hinausweisen. Wir m√ºssen beschleunigen, nicht bremsen.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": ["Nick Srnicek", "Alex Williams"]
    },
    "zitate": [
      { "text": "Die Zukunft muss konstruiert werden. Sie wurde uns gestohlen.", "autor": "Srnicek & Williams", "quelle": "Manifest f√ºr eine akzelerationistische Politik", "jahr": 2013 }
    ],
    "literatur": [],
    "praxis": [],
    "fragen": ["Wer kontrolliert die Beschleunigung?", "Gibt es √∂kologische Grenzen?"],
    "atmosphaere": { "stimmung": "futuristisch, ungeduldig", "geraeusche": "Synthetische Musik", "geruch": "Ozon" }
  },

  "F1-5": {
    "id": "F1-5", "achse": "F1", "position": 5,
    "name": "Fully Automated Luxury Communism",
    "beschreibung": "Automatisierung + Klimawende + Ende der Arbeit = Kommunismus als technische M√∂glichkeit. Luxus f√ºr alle!",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": ["Aaron Bastani"]
    },
    "zitate": [
      { "text": "Fully Automated Luxury Communism is not a joke, it's a plan.", "autor": "Aaron Bastani", "quelle": "Fully Automated Luxury Communism", "jahr": 2019 }
    ],
    "literatur": [],
    "praxis": [],
    "fragen": ["Wer sch√ºrft die Rohstoffe?", "Kann Luxus nachhaltig sein?"],
    "atmosphaere": { "stimmung": "utopisch, verspielt", "geraeusche": "Roboter und Champagner", "geruch": "Blumenduft aus dem 3D-Drucker" }
  },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // F2: DEMOKRATIEFORM (Avantgarde ‚Üî Basisdemokratie)
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

  "F2-1": {
    "id": "F2-1", "achse": "F2", "position": 1,
    "name": "Avantgarde-Partei",
    "beschreibung": "Die revolution√§re Partei als Vorhut. Sie bringt das Bewusstsein von au√üen in die Klasse.",
    "bewohner": {
      "klassiker": ["Wladimir Lenin (1870-1924)"],
      "zeitgenossen": []
    },
    "zitate": [
      { "text": "Die Partei ist der Generalstab der Arbeiterklasse.", "autor": "W.I. Lenin", "quelle": "Was tun?", "jahr": 1902 }
    ],
    "literatur": [],
    "praxis": [{ "name": "Bolschewistische Partei", "ort": "Russland", "zeit": "1903-1991", "beschreibung": "Das historische Modell." }],
    "fragen": ["Wer kontrolliert die Avantgarde?", "Kann sie b√ºrokratisieren?"],
    "atmosphaere": { "stimmung": "diszipliniert, zielstrebig", "geraeusche": "Parteiversammlungen", "geruch": "Druckerschw√§rze" }
  },

  "F2-2": {
    "id": "F2-2", "achse": "F2", "position": 2,
    "name": "Demokratischer Zentralismus",
    "beschreibung": "Debatte vor der Entscheidung, Einheit danach. Die Partei als kollektiver Organisator.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": []
    },
    "zitate": [
      { "text": "Freiheit der Diskussion, Einheit der Aktion.", "autor": "Leninistisches Prinzip", "quelle": "", "jahr": 0 }
    ],
    "literatur": [],
    "praxis": [],
    "fragen": ["Wann endet die Diskussion?", "Wie viel Abweichung ist erlaubt?"],
    "atmosphaere": { "stimmung": "geordnet, spannungsreich", "geraeusche": "Abstimmungen", "geruch": "Kaffee um Mitternacht" }
  },

  "F2-3": {
    "id": "F2-3", "achse": "F2", "position": 3,
    "name": "Repr√§sentative Demokratie",
    "beschreibung": "Parlamentarische Vertretung auch innerparteilich. Delegierte, Mandate, Rechenschaftspflicht.",
    "bewohner": {
      "klassiker": ["Karl Kautsky (1854-1938)"],
      "zeitgenossen": []
    },
    "zitate": [],
    "literatur": [],
    "praxis": [{ "name": "SPD-Struktur", "ort": "Deutschland", "zeit": "1890er", "beschreibung": "Die Massenpartei mit Delegiertensystem." }],
    "fragen": ["Wie verhindert man Berufspolitiker?"],
    "atmosphaere": { "stimmung": "ordentlich, b√ºrokratisch", "geraeusche": "Gesch√§ftsordnungsantr√§ge", "geruch": "Papier" }
  },

  "F2-4": {
    "id": "F2-4", "achse": "F2", "position": 4,
    "name": "R√§tedemokratie",
    "beschreibung": "Imperatives Mandat, jederzeitige Abw√§hlbarkeit, Rotation. Die Kommune als Modell.",
    "bewohner": {
      "klassiker": ["Rosa Luxemburg (1871-1919)"],
      "zeitgenossen": []
    },
    "zitate": [
      { "text": "Freiheit ist immer die Freiheit des Andersdenkenden.", "autor": "Rosa Luxemburg", "quelle": "Zur russischen Revolution", "jahr": 1918 }
    ],
    "literatur": [],
    "praxis": [{ "name": "Pariser Kommune", "ort": "Paris", "zeit": "1871", "beschreibung": "72 Tage R√§tedemokratie." }],
    "fragen": ["Skaliert das R√§temodell?"],
    "atmosphaere": { "stimmung": "lebendig, chaotisch", "geraeusche": "Dauerhafte Versammlungen", "geruch": "Schwei√ü und Hoffnung" }
  },

  "F2-5": {
    "id": "F2-5", "achse": "F2", "position": 5,
    "name": "Basisdemokratie",
    "beschreibung": "Keine Delegation, keine Repr√§sentation. Alle entscheiden alles gemeinsam. Konsens statt Mehrheit.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": []
    },
    "zitate": [],
    "literatur": [],
    "praxis": [{ "name": "Occupy-Camps", "ort": "Global", "zeit": "2011", "beschreibung": "Das Experiment der Vollversammlungen." }],
    "fragen": ["Wie entscheiden 10.000 Menschen gemeinsam?", "Was bei Blockaden?"],
    "atmosphaere": { "stimmung": "intensiv, erm√ºdend", "geraeusche": "Handzeichen, Wiederholungen", "geruch": "Zeltlager" }
  },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // F3: GEWALT & MITTEL (Pazifismus ‚Üî Bewaffneter Kampf)
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

  "F3-1": {
    "id": "F3-1", "achse": "F3", "position": 1,
    "name": "Strikter Pazifismus",
    "beschreibung": "Gewalt ist nie ein legitimes Mittel. Auch nicht zur Verteidigung. Der Weg muss dem Ziel entsprechen.",
    "bewohner": {
      "klassiker": ["Leo Tolstoi (1828-1910)"],
      "zeitgenossen": []
    },
    "zitate": [
      { "text": "Es gibt keinen Weg zum Frieden, der Frieden ist der Weg.", "autor": "A.J. Muste", "quelle": "", "jahr": 0 }
    ],
    "literatur": [],
    "praxis": [],
    "fragen": ["Was tun gegen bewaffnete Faschisten?"],
    "atmosphaere": { "stimmung": "konsequent, verletzlich", "geraeusche": "Stille", "geruch": "Blumen" }
  },

  "F3-2": {
    "id": "F3-2", "achse": "F3", "position": 2,
    "name": "Gewaltfreier Widerstand",
    "beschreibung": "Keine physische Gewalt, aber aktiver Widerstand: Blockaden, Sabotage, ziviler Ungehorsam.",
    "bewohner": {
      "klassiker": ["Mahatma Gandhi (1869-1948)", "Martin Luther King Jr. (1929-1968)"],
      "zeitgenossen": []
    },
    "zitate": [
      { "text": "Be the change you wish to see in the world.", "autor": "Mahatma Gandhi", "quelle": "", "jahr": 0 }
    ],
    "literatur": [],
    "praxis": [{ "name": "Indische Unabh√§ngigkeitsbewegung", "ort": "Indien", "zeit": "1920-1947", "beschreibung": "Satyagraha als Methode." }],
    "fragen": ["Funktioniert Gewaltfreiheit gegen jeden Gegner?"],
    "atmosphaere": { "stimmung": "diszipliniert, mutig", "geraeusche": "Ges√§nge", "geruch": "Tr√§nengas" }
  },

  "F3-3": {
    "id": "F3-3", "achse": "F3", "position": 3,
    "name": "Taktische Flexibilit√§t",
    "beschreibung": "Die Mittel richten sich nach der Situation. Manchmal Demonstration, manchmal Barrikade.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": []
    },
    "zitate": [],
    "literatur": [],
    "praxis": [],
    "fragen": ["Wer entscheidet √ºber die Eskalationsstufe?"],
    "atmosphaere": { "stimmung": "pragmatisch, umstritten", "geraeusche": "Strategiedebatten", "geruch": "Adrenlin" }
  },

  "F3-4": {
    "id": "F3-4", "achse": "F3", "position": 4,
    "name": "Militanz",
    "beschreibung": "Gezielte Sachbesch√§digung, Stra√üenkampf, Konfrontation. Gewalt gegen Sachen, nicht gegen Menschen.",
    "bewohner": {
      "klassiker": [],
      "zeitgenossen": []
    },
    "zitate": [
      { "text": "Die Gewalt der Unterdr√ºckten ist nicht dasselbe wie die Gewalt der Unterdr√ºcker.", "autor": "Frantz Fanon", "quelle": "Die Verdammten dieser Erde", "jahr": 1961 }
    ],
    "literatur": [],
    "praxis": [{ "name": "Schwarzer Block", "ort": "Global", "zeit": "1980er-heute", "beschreibung": "Taktik der Anonymit√§t und Konfrontation." }],
    "fragen": ["Wo ist die Grenze zwischen Sache und Person?"],
    "atmosphaere": { "stimmung": "aufgeladen, solidarisch", "geraeusche": "Scheiben klirren", "geruch": "Rauch" }
  },

  "F3-5": {
    "id": "F3-5", "achse": "F3", "position": 5,
    "name": "Bewaffneter Kampf",
    "beschreibung": "Wenn alle anderen Mittel ersch√∂pft sind, bleibt die Waffe. Revolution hei√üt B√ºrgerkrieg.",
    "bewohner": {
      "klassiker": ["Che Guevara (1928-1967)", "Frantz Fanon (1925-1961)"],
      "zeitgenossen": []
    },
    "zitate": [
      { "text": "Gewalt ist die Hebamme jeder alten Gesellschaft, die mit einer neuen schwanger geht.", "autor": "Karl Marx", "quelle": "Das Kapital", "jahr": 1867 }
    ],
    "literatur": [],
    "praxis": [{ "name": "Kubanische Revolution", "ort": "Kuba", "zeit": "1953-1959", "beschreibung": "Der erfolgreiche Guerillakampf." }],
    "fragen": ["Kann aus Gewalt Freiheit entstehen?", "Was macht der Sieg aus den Siegern?"],
    "atmosphaere": { "stimmung": "ernst, opferbereit", "geraeusche": "Sch√ºsse in der Ferne", "geruch": "Pulver" }
  }
};

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// STAMMBAUM: Genealogie der Ideen
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

const stammbaumData = {
  epochen: [
    { id: "aufklaerung", name: "Aufkl√§rung", zeit: "1750-1800", farbe: "#FFE082", y: 0,
      beschreibung: "Die Wurzeln: Vernunft, Fortschritt, Gleichheit" },
    { id: "fruehsozialismus", name: "Utopischer Sozialismus", zeit: "1800-1848", farbe: "#A5D6A7", y: 1,
      beschreibung: "Die Tr√§umer: Saint-Simon, Fourier, Owen" },
    { id: "klassiker", name: "Wissenschaftlicher Sozialismus", zeit: "1848-1890", farbe: "#E53935", y: 2,
      beschreibung: "Marx und Engels systematisieren die Kritik" },
    { id: "zweite_int", name: "Zweite Internationale", zeit: "1889-1914", farbe: "#EF5350", y: 3,
      beschreibung: "Massenparteien und der gro√üe Streit" },
    { id: "revolution", name: "Revolutionszeit", zeit: "1917-1945", farbe: "#D32F2F", y: 4,
      beschreibung: "Revolutionen, Faschismus, Weltkriege" },
    { id: "nachkrieg", name: "Nachkriegslinke", zeit: "1945-1989", farbe: "#7986CB", y: 5,
      beschreibung: "Kalter Krieg, 68er, Befreiungsbewegungen" },
    { id: "gegenwart", name: "Gegenwart", zeit: "1989-heute", farbe: "#4FC3F7", y: 6,
      beschreibung: "Nach dem Fall der Mauer: Klimakrise, Prekarit√§t" }
  ],
  
  stroemungen: [
    // Aufkl√§rung
    { id: "rousseau", name: "Rousseau", epoche: "aufklaerung", x: -0.5, 
      kernidee: "Der Mensch ist gut, die Gesellschaft verdirbt ihn",
      leben: "1712-1778", werke: ["Gesellschaftsvertrag", "√âmile"] },
    { id: "kant", name: "Kant", epoche: "aufklaerung", x: 0.5,
      kernidee: "Aufkl√§rung ist der Ausgang aus selbstverschuldeter Unm√ºndigkeit",
      leben: "1724-1804", werke: ["Kritik der reinen Vernunft"] },
    { id: "smith", name: "Adam Smith", epoche: "aufklaerung", x: 1.5,
      kernidee: "Arbeitswerttheorie, unsichtbare Hand",
      leben: "1723-1790", werke: ["Wealth of Nations"] },
    { id: "hegel", name: "Hegel", epoche: "aufklaerung", x: 0, wichtig: true,
      kernidee: "Dialektik: These, Antithese, Synthese",
      leben: "1770-1831", werke: ["Ph√§nomenologie des Geistes"] },
    { id: "paine", name: "Thomas Paine", epoche: "aufklaerung", x: -1,
      kernidee: "Menschenrechte, Volkssouver√§nit√§t",
      leben: "1737-1809", werke: ["Rights of Man"] },
    
    // Fr√ºhsozialismus  
    { id: "saint-simon", name: "Saint-Simon", epoche: "fruehsozialismus", x: -1,
      kernidee: "Die Industrie soll von Produzenten gelenkt werden",
      leben: "1760-1825", werke: ["Nouveau Christianisme"] },
    { id: "fourier", name: "Fourier", epoche: "fruehsozialismus", x: 0,
      kernidee: "Phalanst√®res: Leidenschaft statt Zwang",
      leben: "1772-1837", werke: ["Theorie der vier Bewegungen"] },
    { id: "owen", name: "Robert Owen", epoche: "fruehsozialismus", x: 0.8,
      kernidee: "New Harmony: Modellkommunen beweisen M√∂glichkeit",
      leben: "1771-1858", werke: ["A New View of Society"] },
    { id: "proudhon", name: "Proudhon", epoche: "fruehsozialismus", x: 2, wichtig: true,
      kernidee: "Eigentum ist Diebstahl, Mutualism",
      leben: "1809-1865", werke: ["Was ist Eigentum?"] },
    { id: "blanqui", name: "Blanqui", epoche: "fruehsozialismus", x: 1.5,
      kernidee: "Revolution√§rer Putschismus, Diktatur der Minderheit",
      leben: "1805-1881", werke: ["Instruktion f√ºr den Aufstand"] },
    { id: "weitling", name: "Weitling", epoche: "fruehsozialismus", x: -0.5,
      kernidee: "Handwerker-Kommunismus, christlicher Sozialismus",
      leben: "1808-1871", werke: ["Garantien der Harmonie"] },
      
    // Klassiker
    { id: "marx", name: "Karl Marx", epoche: "klassiker", x: 0, wichtig: true,
      kernidee: "Historischer Materialismus, Mehrwert, Klassenkampf",
      leben: "1818-1883", werke: ["Das Kapital", "Kommunistisches Manifest", "Grundrisse"] },
    { id: "engels", name: "Friedrich Engels", epoche: "klassiker", x: 0.4,
      kernidee: "Dialektik der Natur, Ursprung der Familie",
      leben: "1820-1895", werke: ["Anti-D√ºhring", "Ursprung der Familie"] },
    { id: "bakunin", name: "Michail Bakunin", epoche: "klassiker", x: 2, wichtig: true,
      kernidee: "Alle Staaten sind Unterdr√ºcker, Freiheit durch Zerst√∂rung",
      leben: "1814-1876", werke: ["Gott und der Staat", "Staatlichkeit und Anarchie"] },
    { id: "kropotkin", name: "Kropotkin", epoche: "klassiker", x: 2.4,
      kernidee: "Gegenseitige Hilfe als Evolutionsprinzip",
      leben: "1842-1921", werke: ["Gegenseitige Hilfe", "Die Eroberung des Brotes"] },
    { id: "lassalle", name: "Lassalle", epoche: "klassiker", x: -1,
      kernidee: "Allgemeiner Deutscher Arbeiterverein, Staatssozialismus",
      leben: "1825-1864", werke: ["Arbeiterprogramm"] },
    { id: "dietzgen", name: "Dietzgen", epoche: "klassiker", x: 0.2,
      kernidee: "Proletarische Philosophie",
      leben: "1828-1888", werke: ["Das Wesen der menschlichen Kopfarbeit"] },
      
    // Zweite Internationale
    { id: "kautsky", name: "Kautsky", epoche: "zweite_int", x: -1,
      kernidee: "Orthodoxer Marxismus, Erfurt-Programm",
      leben: "1854-1938", werke: ["Die Agrarfrage", "Der Weg zur Macht"] },
    { id: "bernstein", name: "Bernstein", epoche: "zweite_int", x: -2,
      kernidee: "Revisionismus: Evolution statt Revolution",
      leben: "1850-1932", werke: ["Die Voraussetzungen des Sozialismus"] },
    { id: "luxemburg", name: "Rosa Luxemburg", epoche: "zweite_int", x: 0.5, wichtig: true,
      kernidee: "Massenstreik, Spontaneit√§t, Freiheit der Andersdenkenden",
      leben: "1871-1919", werke: ["Akkumulation des Kapitals", "Sozialreform oder Revolution"] },
    { id: "bebel", name: "August Bebel", epoche: "zweite_int", x: -1.5,
      kernidee: "Die Frau und der Sozialismus",
      leben: "1840-1913", werke: ["Die Frau und der Sozialismus"] },
    { id: "zetkin", name: "Clara Zetkin", epoche: "zweite_int", x: -0.5,
      kernidee: "Proletarischer Feminismus, Internationaler Frauentag",
      leben: "1857-1933", werke: ["Die Arbeiterinnen- und Frauenfrage"] },
    { id: "jaures", name: "Jean Jaur√®s", epoche: "zweite_int", x: -1.8,
      kernidee: "Sozialistischer Humanismus, Pazifismus",
      leben: "1859-1914", werke: ["Histoire socialiste"] },
    { id: "sorel", name: "Georges Sorel", epoche: "zweite_int", x: 1.5,
      kernidee: "Mythos des Generalstreiks, revolution√§re Gewalt",
      leben: "1847-1922", werke: ["√úber die Gewalt"] },
    { id: "plechanow", name: "Plechanow", epoche: "zweite_int", x: -0.8,
      kernidee: "Vater des russischen Marxismus",
      leben: "1856-1918", werke: ["Die Entwicklung der monistischen Geschichtsauffassung"] },
    { id: "liebknecht_w", name: "W. Liebknecht", epoche: "zweite_int", x: -1.3,
      kernidee: "Mitgr√ºnder SPD, Kriegsgegner",
      leben: "1826-1900", werke: [] },
    { id: "mehring", name: "Franz Mehring", epoche: "zweite_int", x: -0.3,
      kernidee: "Marxistischer Historiker und Kritiker",
      leben: "1846-1919", werke: ["Karl Marx. Geschichte seines Lebens"] },
    { id: "malatesta", name: "Errico Malatesta", epoche: "zweite_int", x: 2.2,
      kernidee: "Anarchistischer Kommunismus, Gradualismus",
      leben: "1853-1932", werke: ["L'Anarchia"] },
      
    // Revolutionszeit
    { id: "lenin", name: "Lenin", epoche: "revolution", x: -0.5, wichtig: true,
      kernidee: "Avantgarde-Partei, Imperialismus, Staat und Revolution",
      leben: "1870-1924", werke: ["Was tun?", "Staat und Revolution", "Imperialismus"] },
    { id: "trotzki", name: "Leo Trotzki", epoche: "revolution", x: 0,
      kernidee: "Permanente Revolution, Kritik der B√ºrokratie",
      leben: "1879-1940", werke: ["Die permanente Revolution", "Verratene Revolution"] },
    { id: "stalin", name: "Stalin", epoche: "revolution", x: -1.5,
      kernidee: "Sozialismus in einem Land, Planwirtschaft",
      leben: "1878-1953", werke: ["√úber dialektischen und historischen Materialismus"] },
    { id: "gramsci", name: "Antonio Gramsci", epoche: "revolution", x: 0.5, wichtig: true,
      kernidee: "Hegemonie, organische Intellektuelle, Stellungskrieg",
      leben: "1891-1937", werke: ["Gef√§ngnishefte"] },
    { id: "lukacs", name: "Georg Luk√°cs", epoche: "revolution", x: 0.3,
      kernidee: "Verdinglichung, Totalit√§t, Geschichte und Klassenbewusstsein",
      leben: "1885-1971", werke: ["Geschichte und Klassenbewusstsein"] },
    { id: "korsch", name: "Karl Korsch", epoche: "revolution", x: 0.7,
      kernidee: "Marxismus und Philosophie, R√§tekommunismus",
      leben: "1886-1961", werke: ["Marxismus und Philosophie"] },
    { id: "mao", name: "Mao Zedong", epoche: "revolution", x: -1,
      kernidee: "Bauernrevolution, Widerspruchslehre, Kulturrevolution",
      leben: "1893-1976", werke: ["√úber den Widerspruch", "√úber die Praxis"] },
    { id: "goldman", name: "Emma Goldman", epoche: "revolution", x: 2, wichtig: true,
      kernidee: "Anarcha-Feminismus, freie Liebe, direkte Aktion",
      leben: "1869-1940", werke: ["Anarchism and Other Essays", "Living My Life"] },
    { id: "cnt", name: "CNT-FAI", epoche: "revolution", x: 2.5,
      kernidee: "Anarchosyndikalismus, Spanische Revolution",
      leben: "1910-1939", werke: [] },
    { id: "liebknecht_k", name: "Karl Liebknecht", epoche: "revolution", x: 0.2,
      kernidee: "Spartakusbund, Der Hauptfeind steht im eigenen Land",
      leben: "1871-1919", werke: ["Militarismus und Antimilitarismus"] },
    { id: "pannekoek", name: "Anton Pannekoek", epoche: "revolution", x: 0.8,
      kernidee: "R√§tekommunismus, Arbeiterr√§te",
      leben: "1873-1960", werke: ["Arbeiterr√§te"] },
    { id: "bloch", name: "Ernst Bloch", epoche: "revolution", x: 0.4, wichtig: true,
      kernidee: "Prinzip Hoffnung, konkrete Utopie",
      leben: "1885-1977", werke: ["Das Prinzip Hoffnung", "Geist der Utopie"] },
    { id: "benjamin", name: "Walter Benjamin", epoche: "revolution", x: 0.6, wichtig: true,
      kernidee: "Geschichtsphilosophie, Aura, dialektisches Bild",
      leben: "1892-1940", werke: ["√úber den Begriff der Geschichte", "Das Kunstwerk..."] },
    { id: "kollontai", name: "Alexandra Kollontai", epoche: "revolution", x: -0.3,
      kernidee: "Kommunistischer Feminismus, freie Liebe",
      leben: "1872-1952", werke: ["Die neue Moral und die Arbeiterklasse"] },
    { id: "mariategui", name: "Mari√°tegui", epoche: "revolution", x: -0.8,
      kernidee: "Indigener Marxismus, Lateinamerikanischer Sozialismus",
      leben: "1894-1930", werke: ["Sieben Essays zur Interpretation der peruanischen Wirklichkeit"] },
    { id: "ho", name: "Ho Chi Minh", epoche: "revolution", x: -1.2,
      kernidee: "Antikolonialer Kommunismus",
      leben: "1890-1969", werke: ["Der Weg der Revolution"] },
    { id: "cabral", name: "Am√≠lcar Cabral", epoche: "revolution", x: 1.3,
      kernidee: "Nationale Befreiung, Kultur als Widerstand",
      leben: "1924-1973", werke: ["Die Waffe der Theorie"] },
      
    // Nachkrieg
    { id: "adorno", name: "Theodor W. Adorno", epoche: "nachkrieg", x: 0, wichtig: true,
      kernidee: "Dialektik der Aufkl√§rung, Kulturindustrie, Negative Dialektik",
      leben: "1903-1969", werke: ["Negative Dialektik", "Dialektik der Aufkl√§rung"] },
    { id: "horkheimer", name: "Max Horkheimer", epoche: "nachkrieg", x: -0.3,
      kernidee: "Kritische Theorie, Instrumentelle Vernunft",
      leben: "1895-1973", werke: ["Kritik der instrumentellen Vernunft"] },
    { id: "marcuse", name: "Herbert Marcuse", epoche: "nachkrieg", x: 0.5, wichtig: true,
      kernidee: "Der eindimensionale Mensch, Gro√üe Verweigerung, Eros",
      leben: "1898-1979", werke: ["Der eindimensionale Mensch", "Triebstruktur und Gesellschaft"] },
    { id: "beauvoir", name: "Simone de Beauvoir", epoche: "nachkrieg", x: 1, wichtig: true,
      kernidee: "Man wird nicht als Frau geboren, sondern dazu gemacht",
      leben: "1908-1986", werke: ["Das andere Geschlecht"] },
    { id: "fanon", name: "Frantz Fanon", epoche: "nachkrieg", x: 1.5, wichtig: true,
      kernidee: "Die Verdammten dieser Erde, Entkolonialisierung durch Gewalt",
      leben: "1925-1961", werke: ["Die Verdammten dieser Erde", "Schwarze Haut, wei√üe Masken"] },
    { id: "che", name: "Che Guevara", epoche: "nachkrieg", x: -1,
      kernidee: "Fokismus, der Neue Mensch, internationalistischer Kampf",
      leben: "1928-1967", werke: ["Guerillakrieg", "Der neue Mensch"] },
    { id: "althusser", name: "Louis Althusser", epoche: "nachkrieg", x: -0.5,
      kernidee: "Ideologische Staatsapparate, epistemologischer Bruch",
      leben: "1918-1990", werke: ["F√ºr Marx", "Ideologie und ideologische Staatsapparate"] },
    { id: "poulantzas", name: "Nicos Poulantzas", epoche: "nachkrieg", x: -0.7,
      kernidee: "Relationale Staatstheorie, strukturaler Marxismus",
      leben: "1936-1979", werke: ["Staatstheorie"] },
    { id: "bookchin", name: "Murray Bookchin", epoche: "nachkrieg", x: 2, wichtig: true,
      kernidee: "Soziale √ñkologie, libert√§rer Kommunalismus",
      leben: "1921-2006", werke: ["Die √ñkologie der Freiheit"] },
    { id: "davis", name: "Angela Davis", epoche: "nachkrieg", x: 1.2, wichtig: true,
      kernidee: "Gef√§ngnis-industrieller Komplex, Intersektionalit√§t",
      leben: "1944-", werke: ["Are Prisons Obsolete?", "Women, Race & Class"] },
    { id: "james_clr", name: "C.L.R. James", epoche: "nachkrieg", x: 0.8,
      kernidee: "Schwarzer Marxismus, Die schwarzen Jakobiner",
      leben: "1901-1989", werke: ["Die schwarzen Jakobiner"] },
    { id: "fromm", name: "Erich Fromm", epoche: "nachkrieg", x: 0.3,
      kernidee: "Humanistischer Marxismus, Haben oder Sein",
      leben: "1900-1980", werke: ["Haben oder Sein", "Die Furcht vor der Freiheit"] },
    { id: "sartre", name: "Jean-Paul Sartre", epoche: "nachkrieg", x: 0.6,
      kernidee: "Existentialistischer Marxismus",
      leben: "1905-1980", werke: ["Kritik der dialektischen Vernunft"] },
    { id: "mandel", name: "Ernest Mandel", epoche: "nachkrieg", x: -0.8,
      kernidee: "Sp√§tkapitalismus, lange Wellen",
      leben: "1923-1995", werke: ["Der Sp√§tkapitalismus"] },
    { id: "debord", name: "Guy Debord", epoche: "nachkrieg", x: 1.8,
      kernidee: "Die Gesellschaft des Spektakels, Situationismus",
      leben: "1931-1994", werke: ["Die Gesellschaft des Spektakels"] },
    { id: "gorz", name: "Andr√© Gorz", epoche: "nachkrieg", x: 1.3,
      kernidee: "√ñkosozialismus, Kritik der Arbeit",
      leben: "1923-2007", werke: ["Kritik der √∂konomischen Vernunft"] },
    { id: "illich", name: "Ivan Illich", epoche: "nachkrieg", x: 1.6,
      kernidee: "Entschulung, Konvivialit√§t, Werkzeugkritik",
      leben: "1926-2002", werke: ["Entschulung der Gesellschaft"] },
    { id: "freire", name: "Paulo Freire", epoche: "nachkrieg", x: 1.4,
      kernidee: "P√§dagogik der Unterdr√ºckten, dialogische Bildung",
      leben: "1921-1997", werke: ["P√§dagogik der Unterdr√ºckten"] },
    { id: "nkrumah", name: "Kwame Nkrumah", epoche: "nachkrieg", x: -1.2,
      kernidee: "Panafrikanismus, Neokolonialismus",
      leben: "1909-1972", werke: ["Neokolonialismus"] },
    { id: "sankara", name: "Thomas Sankara", epoche: "nachkrieg", x: -1.4,
      kernidee: "Afrikanischer Sozialismus, Anti-Imperialismus",
      leben: "1949-1987", werke: ["Women's Liberation and the African Freedom Struggle"] },
    { id: "hooks", name: "bell hooks", epoche: "nachkrieg", x: 1.1,
      kernidee: "Intersektionaler Feminismus, Liebe als politische Praxis",
      leben: "1952-2021", werke: ["Ain't I a Woman", "All About Love"] },
      
    // Gegenwart
    { id: "zizek", name: "Slavoj ≈Ωi≈æek", epoche: "gegenwart", x: 0,
      kernidee: "Lacan + Marx, Ideologiekritik durch Popul√§rkultur",
      leben: "1949-", werke: ["Das fragile Absolute", "Parallaxe"] },
    { id: "badiou", name: "Alain Badiou", epoche: "gegenwart", x: -0.5,
      kernidee: "Kommunistische Hypothese, Ereignis, Treue",
      leben: "1937-", werke: ["Das Sein und das Ereignis", "Die kommunistische Hypothese"] },
    { id: "harvey", name: "David Harvey", epoche: "gegenwart", x: 0.3, wichtig: true,
      kernidee: "R√§umliche Dimension des Kapitalismus, Akkumulation durch Enteignung",
      leben: "1935-", werke: ["Die Grenzen des Kapitalismus", "Marx' Kapital lesen"] },
    { id: "fraser", name: "Nancy Fraser", epoche: "gegenwart", x: 0.8, wichtig: true,
      kernidee: "Anerkennung und Umverteilung, Kapitalismus kannibalisiert Lebensgrundlagen",
      leben: "1947-", werke: ["Der Allesfresser"] },
    { id: "fisher", name: "Mark Fisher", epoche: "gegenwart", x: 0.5,
      kernidee: "Kapitalistischer Realismus, Hauntology, langsame Abschaffung der Zukunft",
      leben: "1968-2017", werke: ["Kapitalistischer Realismus", "Ghosts of My Life"] },
    { id: "graeber", name: "David Graeber", epoche: "gegenwart", x: 2, wichtig: true,
      kernidee: "Bullshit Jobs, Schulden, Basisdemokratie, Anarchist Anthropology",
      leben: "1961-2020", werke: ["Schulden", "Bullshit Jobs", "Anf√§nge"] },
    { id: "federici", name: "Silvia Federici", epoche: "gegenwart", x: 1.5, wichtig: true,
      kernidee: "Hexenverbrennung und primitive Akkumulation, Care-Arbeit",
      leben: "1942-", werke: ["Caliban und die Hexe", "Revolution at Point Zero"] },
    { id: "saito", name: "Kohei Saito", epoche: "gegenwart", x: 0.2,
      kernidee: "Marx im Anthropoz√§n, Degrowth-Kommunismus",
      leben: "1987-", werke: ["Systemsturz", "Marx in the Anthropocene"] },
    { id: "ocalan", name: "Abdullah √ñcalan", epoche: "gegenwart", x: 2.3, wichtig: true,
      kernidee: "Demokratischer Konf√∂deralismus, Jineoloj√Æ, Rojava-Modell",
      leben: "1949-", werke: ["Demokratischer Konf√∂deralismus"] },
    { id: "mouffe", name: "Chantal Mouffe", epoche: "gegenwart", x: -0.3,
      kernidee: "Agonistischer Pluralismus, Linkspopulismus",
      leben: "1943-", werke: ["F√ºr einen linken Populismus"] },
    { id: "laclau", name: "Ernesto Laclau", epoche: "gegenwart", x: -0.4,
      kernidee: "Hegemonie und radikale Demokratie, Populismus",
      leben: "1935-2014", werke: ["Hegemonie und radikale Demokratie"] },
    { id: "butler", name: "Judith Butler", epoche: "gegenwart", x: 1.2, wichtig: true,
      kernidee: "Performativit√§t des Geschlechts, Queere Theorie",
      leben: "1956-", werke: ["Das Unbehagen der Geschlechter", "K√∂rper von Gewicht"] },
    { id: "spivak", name: "Gayatri Spivak", epoche: "gegenwart", x: 1.4,
      kernidee: "Subalternit√§t, Can the Subaltern Speak?",
      leben: "1942-", werke: ["Can the Subaltern Speak?"] },
    { id: "jameson", name: "Fredric Jameson", epoche: "gegenwart", x: 0.4,
      kernidee: "Postmodernismus als Kulturlogik des Sp√§tkapitalismus",
      leben: "1934-", werke: ["Postmodernism"] },
    { id: "streeck", name: "Wolfgang Streeck", epoche: "gegenwart", x: -0.2,
      kernidee: "Gekaufte Zeit, Ende des demokratischen Kapitalismus",
      leben: "1946-", werke: ["Gekaufte Zeit"] },
    { id: "piketty", name: "Thomas Piketty", epoche: "gegenwart", x: -0.8,
      kernidee: "Kapitaldynamik, r > g, Ungleichheit",
      leben: "1971-", werke: ["Das Kapital im 21. Jahrhundert"] },
    { id: "varoufakis", name: "Yanis Varoufakis", epoche: "gegenwart", x: -0.6,
      kernidee: "Progressiver Internationalismus, DiEM25",
      leben: "1961-", werke: ["Die ganze Geschichte"] },
    { id: "dean", name: "Jodi Dean", epoche: "gegenwart", x: -0.4,
      kernidee: "Kommunismus als Horizont, Partei neu denken",
      leben: "1962-", werke: ["The Communist Horizon"] },
    { id: "srnicek", name: "Nick Srnicek", epoche: "gegenwart", x: 0.7,
      kernidee: "Plattform-Kapitalismus, Left Accelerationism",
      leben: "1982-", werke: ["Platform Capitalism", "Inventing the Future"] },
    { id: "bastani", name: "Aaron Bastani", epoche: "gegenwart", x: 0.9,
      kernidee: "Fully Automated Luxury Communism",
      leben: "1983-", werke: ["Fully Automated Luxury Communism"] },
    { id: "malm", name: "Andreas Malm", epoche: "gegenwart", x: 1.0,
      kernidee: "Fossiles Kapital, Klimaaktivismus",
      leben: "1977-", werke: ["Fossil Capital", "How to Blow Up a Pipeline"] },
    { id: "brown", name: "Wendy Brown", epoche: "gegenwart", x: 0.6,
      kernidee: "Neoliberalismus als Entdemokratisierung",
      leben: "1955-", werke: ["Die schleichende Revolution"] }
  ],
  
  verbindungen: [
    // Aufkl√§rung intern
    { von: "kant", zu: "hegel", typ: "einfluss" },
    { von: "rousseau", zu: "hegel", typ: "einfluss" },
    
    // Aufkl√§rung ‚Üí Fr√ºhsozialismus
    { von: "rousseau", zu: "saint-simon", typ: "einfluss" },
    { von: "rousseau", zu: "proudhon", typ: "einfluss" },
    { von: "smith", zu: "marx", typ: "einfluss" },
    { von: "hegel", zu: "marx", typ: "einfluss" },
    { von: "hegel", zu: "bakunin", typ: "einfluss" },
    
    // Fr√ºhsozialismus intern
    { von: "saint-simon", zu: "fourier", typ: "einfluss" },
    { von: "blanqui", zu: "marx", typ: "einfluss" },
    
    // Fr√ºhsozialismus ‚Üí Klassiker
    { von: "saint-simon", zu: "marx", typ: "einfluss" },
    { von: "fourier", zu: "marx", typ: "einfluss" },
    { von: "proudhon", zu: "marx", typ: "konflikt" },
    { von: "proudhon", zu: "bakunin", typ: "einfluss" },
    { von: "weitling", zu: "marx", typ: "einfluss" },
    
    // Klassiker intern
    { von: "marx", zu: "engels", typ: "einfluss" },
    { von: "marx", zu: "bakunin", typ: "konflikt" },
    { von: "bakunin", zu: "kropotkin", typ: "einfluss" },
    { von: "marx", zu: "lassalle", typ: "konflikt" },
    
    // Klassiker ‚Üí Zweite Internationale
    { von: "marx", zu: "kautsky", typ: "einfluss" },
    { von: "marx", zu: "bernstein", typ: "einfluss" },
    { von: "marx", zu: "luxemburg", typ: "einfluss" },
    { von: "marx", zu: "bebel", typ: "einfluss" },
    { von: "marx", zu: "plechanow", typ: "einfluss" },
    { von: "marx", zu: "mehring", typ: "einfluss" },
    { von: "engels", zu: "kautsky", typ: "einfluss" },
    { von: "engels", zu: "bebel", typ: "einfluss" },
    { von: "kautsky", zu: "bernstein", typ: "konflikt" },
    { von: "luxemburg", zu: "bernstein", typ: "konflikt" },
    { von: "luxemburg", zu: "kautsky", typ: "konflikt" },
    { von: "kropotkin", zu: "sorel", typ: "einfluss" },
    { von: "kropotkin", zu: "malatesta", typ: "einfluss" },
    { von: "bakunin", zu: "malatesta", typ: "einfluss" },
    
    // Zweite Internationale ‚Üí Revolution
    { von: "luxemburg", zu: "lenin", typ: "konflikt" },
    { von: "luxemburg", zu: "gramsci", typ: "einfluss" },
    { von: "luxemburg", zu: "liebknecht_k", typ: "einfluss" },
    { von: "kautsky", zu: "lenin", typ: "konflikt" },
    { von: "plechanow", zu: "lenin", typ: "einfluss" },
    { von: "lenin", zu: "trotzki", typ: "einfluss" },
    { von: "lenin", zu: "stalin", typ: "einfluss" },
    { von: "trotzki", zu: "stalin", typ: "konflikt" },
    { von: "lenin", zu: "mao", typ: "einfluss" },
    { von: "lenin", zu: "ho", typ: "einfluss" },
    { von: "marx", zu: "lukacs", typ: "einfluss" },
    { von: "hegel", zu: "lukacs", typ: "einfluss" },
    { von: "lukacs", zu: "gramsci", typ: "einfluss" },
    { von: "lukacs", zu: "korsch", typ: "einfluss" },
    { von: "goldman", zu: "cnt", typ: "einfluss" },
    { von: "bakunin", zu: "cnt", typ: "einfluss" },
    { von: "luxemburg", zu: "pannekoek", typ: "einfluss" },
    { von: "korsch", zu: "pannekoek", typ: "einfluss" },
    { von: "zetkin", zu: "kollontai", typ: "einfluss" },
    { von: "marx", zu: "bloch", typ: "einfluss" },
    { von: "lukacs", zu: "benjamin", typ: "einfluss" },
    { von: "bloch", zu: "benjamin", typ: "einfluss" },
    { von: "marx", zu: "mariategui", typ: "einfluss" },
    { von: "fanon", zu: "cabral", typ: "einfluss" },
    
    // Revolution ‚Üí Nachkrieg
    { von: "lukacs", zu: "adorno", typ: "einfluss" },
    { von: "lukacs", zu: "horkheimer", typ: "einfluss" },
    { von: "benjamin", zu: "adorno", typ: "einfluss" },
    { von: "gramsci", zu: "althusser", typ: "einfluss" },
    { von: "marx", zu: "althusser", typ: "einfluss" },
    { von: "adorno", zu: "marcuse", typ: "einfluss" },
    { von: "horkheimer", zu: "marcuse", typ: "einfluss" },
    { von: "fanon", zu: "davis", typ: "einfluss" },
    { von: "che", zu: "fanon", typ: "einfluss" },
    { von: "mao", zu: "che", typ: "einfluss" },
    { von: "althusser", zu: "poulantzas", typ: "einfluss" },
    { von: "kropotkin", zu: "bookchin", typ: "einfluss" },
    { von: "marx", zu: "fromm", typ: "einfluss" },
    { von: "beauvoir", zu: "davis", typ: "einfluss" },
    { von: "beauvoir", zu: "hooks", typ: "einfluss" },
    { von: "sartre", zu: "fanon", typ: "einfluss" },
    { von: "lukacs", zu: "debord", typ: "einfluss" },
    { von: "marcuse", zu: "debord", typ: "einfluss" },
    { von: "james_clr", zu: "davis", typ: "einfluss" },
    { von: "freire", zu: "hooks", typ: "einfluss" },
    { von: "fanon", zu: "nkrumah", typ: "einfluss" },
    { von: "nkrumah", zu: "sankara", typ: "einfluss" },
    { von: "gorz", zu: "illich", typ: "einfluss" },
    { von: "marcuse", zu: "gorz", typ: "einfluss" },
    
    // Nachkrieg ‚Üí Gegenwart
    { von: "althusser", zu: "badiou", typ: "einfluss" },
    { von: "althusser", zu: "zizek", typ: "einfluss" },
    { von: "gramsci", zu: "harvey", typ: "einfluss" },
    { von: "gramsci", zu: "mouffe", typ: "einfluss" },
    { von: "gramsci", zu: "laclau", typ: "einfluss" },
    { von: "adorno", zu: "fisher", typ: "einfluss" },
    { von: "marcuse", zu: "fisher", typ: "einfluss" },
    { von: "debord", zu: "fisher", typ: "einfluss" },
    { von: "davis", zu: "fraser", typ: "einfluss" },
    { von: "federici", zu: "fraser", typ: "einfluss" },
    { von: "hooks", zu: "fraser", typ: "einfluss" },
    { von: "marx", zu: "saito", typ: "einfluss" },
    { von: "gorz", zu: "saito", typ: "einfluss" },
    { von: "graeber", zu: "ocalan", typ: "einfluss" },
    { von: "bookchin", zu: "ocalan", typ: "einfluss" },
    { von: "beauvoir", zu: "butler", typ: "einfluss" },
    { von: "althusser", zu: "butler", typ: "einfluss" },
    { von: "gramsci", zu: "spivak", typ: "einfluss" },
    { von: "fanon", zu: "spivak", typ: "einfluss" },
    { von: "althusser", zu: "jameson", typ: "einfluss" },
    { von: "lukacs", zu: "jameson", typ: "einfluss" },
    { von: "poulantzas", zu: "streeck", typ: "einfluss" },
    { von: "harvey", zu: "streeck", typ: "einfluss" },
    { von: "marx", zu: "piketty", typ: "einfluss" },
    { von: "gramsci", zu: "dean", typ: "einfluss" },
    { von: "badiou", zu: "dean", typ: "einfluss" },
    { von: "fisher", zu: "srnicek", typ: "einfluss" },
    { von: "srnicek", zu: "bastani", typ: "einfluss" },
    { von: "marx", zu: "malm", typ: "einfluss" },
    { von: "gorz", zu: "malm", typ: "einfluss" },
    { von: "althusser", zu: "brown", typ: "einfluss" },
    { von: "federici", zu: "butler", typ: "einfluss" },
    { von: "mouffe", zu: "laclau", typ: "einfluss" },
    { von: "mandel", zu: "harvey", typ: "einfluss" },
    { von: "mandel", zu: "jameson", typ: "einfluss" }
  ]
};


// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// DATEN: VERBINDUNGEN
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

const verbindungenData = [
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // A1: REFORM/REVOLUTION - Spektrum verbinden
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  { "von": "A1-1", "zu": "A1-2", "typ": "affinitaet", "staerke": 0.70, "beschreibung": "Strikte Reform nah an radikaler Reform" },
  { "von": "A1-2", "zu": "A1-3", "typ": "affinitaet", "staerke": 0.75, "beschreibung": "Radikale Reform nah an Doppelstrategie" },
  { "von": "A1-2", "zu": "A1-4", "typ": "affinitaet", "staerke": 0.70, "beschreibung": "Radikale Reform nah an Prozess" },
  { "von": "A1-3", "zu": "A1-4", "typ": "affinitaet", "staerke": 0.80, "beschreibung": "Luxemburg: Doppelstrategie als Prozess" },
  { "von": "A1-4", "zu": "A1-5", "typ": "affinitaet", "staerke": 0.60, "beschreibung": "Prozess kann in Aufstand m√ºnden" },
  { "von": "A1-1", "zu": "A1-5", "typ": "debatte", "staerke": 0.10, "beschreibung": "Reform vs. Revolution - Grundkonflikt" },
  { "von": "A1-1", "zu": "D2-1", "typ": "affinitaet", "staerke": 0.95, "beschreibung": "Strikte Reform + Gradualismus" },
  { "von": "A1-5", "zu": "D2-5", "typ": "affinitaet", "staerke": 0.95, "beschreibung": "Sofortige Revolution + Bruch" },
  { "von": "A1-3", "zu": "A3-3", "typ": "affinitaet", "staerke": 0.75, "beschreibung": "Doppelstrategie + Staat als Terrain" },
  { "von": "A1-2", "zu": "D1-4", "typ": "affinitaet", "staerke": 0.75, "beschreibung": "Radikale Reform baut reale Utopien" },
  { "von": "A1-4", "zu": "D2-4", "typ": "affinitaet", "staerke": 0.80, "beschreibung": "Revolution√§rer Prozess ist rupturell" },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // A2: SUBJEKT - Spektrum verbinden
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  { "von": "A2-1", "zu": "A2-2", "typ": "affinitaet", "staerke": 0.85, "beschreibung": "Industrieproletariat ist Kern der Klasse" },
  { "von": "A2-2", "zu": "A2-3", "typ": "affinitaet", "staerke": 0.70, "beschreibung": "Klassensubjekt erweitert sich" },
  { "von": "A2-3", "zu": "A2-4", "typ": "affinitaet", "staerke": 0.70, "beschreibung": "Erweiterte Klasse nah an Multitude" },
  { "von": "A2-4", "zu": "A2-5", "typ": "affinitaet", "staerke": 0.75, "beschreibung": "Multitude nah an Prozesssubjekt" },
  { "von": "A2-1", "zu": "A2-5", "typ": "debatte", "staerke": 0.25, "beschreibung": "Festes vs. fluides Subjekt" },
  { "von": "A2-2", "zu": "A2-4", "typ": "debatte", "staerke": 0.50, "beschreibung": "Klasse vs. Multitude" },
  { "von": "A2-1", "zu": "B3-1", "typ": "affinitaet", "staerke": 0.70, "beschreibung": "Industrieproletariat + Vollbesch√§ftigung" },
  { "von": "A2-3", "zu": "B3-4", "typ": "affinitaet", "staerke": 0.65, "beschreibung": "Prekariat braucht Grundeinkommen" },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // A3: STAAT
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  { "von": "A3-1", "zu": "A3-2", "typ": "affinitaet", "staerke": 0.50, "beschreibung": "Beide nutzen den Staat, aber anders" },
  { "von": "A3-2", "zu": "A3-3", "typ": "affinitaet", "staerke": 0.60, "beschreibung": "Poulantzas korrigiert Lenin" },
  { "von": "A3-3", "zu": "A3-4", "typ": "affinitaet", "staerke": 0.65, "beschreibung": "Terrain-K√§mpfe k√∂nnen zu Exodus f√ºhren" },
  { "von": "A3-4", "zu": "A3-5", "typ": "affinitaet", "staerke": 0.75, "beschreibung": "Autonomismus nah an Anarchismus" },
  { "von": "A3-5", "zu": "B2-5", "typ": "affinitaet", "staerke": 0.95, "beschreibung": "Anarchismus + Selbstverwaltung" },
  { "von": "A3-5", "zu": "E3-5", "typ": "affinitaet", "staerke": 0.90, "beschreibung": "Anarchismus + Basisbildung" },
  { "von": "A3-5", "zu": "A3-2", "typ": "debatte", "staerke": 0.20, "beschreibung": "Bakunin vs. Marx" },
  { "von": "A3-5", "zu": "A3-1", "typ": "debatte", "staerke": 0.10, "beschreibung": "Anarchismus vs. Etatismus" },
  { "von": "A3-5", "zu": "C2-5", "typ": "affinitaet", "staerke": 0.70, "beschreibung": "Bookchin: Anarchismus + Sozial√∂kologie" },
  { "von": "A3-5", "zu": "E2-2", "typ": "affinitaet", "staerke": 0.80, "beschreibung": "Anarchismus + F√∂deralismus" },
  { "von": "A3-2", "zu": "E3-1", "typ": "affinitaet", "staerke": 0.90, "beschreibung": "Leninismus + Avantgarde" },
  { "von": "A3-2", "zu": "D2-5", "typ": "affinitaet", "staerke": 0.85, "beschreibung": "Leninismus + Revolution" },
  { "von": "A3-2", "zu": "A2-2", "typ": "affinitaet", "staerke": 0.80, "beschreibung": "Leninismus + Klassensubjekt" },
  { "von": "A3-2", "zu": "B1-5", "typ": "affinitaet", "staerke": 0.85, "beschreibung": "Leninismus + Zentralplanung" },
  { "von": "A3-2", "zu": "B2-1", "typ": "affinitaet", "staerke": 0.85, "beschreibung": "Leninismus + Verstaatlichung" },
  { "von": "A3-2", "zu": "E3-2", "typ": "affinitaet", "staerke": 0.85, "beschreibung": "Leninismus + Kaderschulung" },
  { "von": "A3-2", "zu": "E2-1", "typ": "affinitaet", "staerke": 0.90, "beschreibung": "Leninismus + Zentralismus" },
  { "von": "A3-1", "zu": "D2-1", "typ": "affinitaet", "staerke": 0.90, "beschreibung": "Etatismus + Reform" },
  { "von": "A3-1", "zu": "B1-2", "typ": "affinitaet", "staerke": 0.80, "beschreibung": "Etatismus + regulierter Markt" },
  { "von": "A3-1", "zu": "B2-2", "typ": "affinitaet", "staerke": 0.80, "beschreibung": "Etatismus + √∂ffentliches Eigentum" },
  { "von": "A3-3", "zu": "E2-3", "typ": "affinitaet", "staerke": 0.70, "beschreibung": "Staat als Terrain + Mehrebenen-K√§mpfe" },
  { "von": "A3-4", "zu": "B2-5", "typ": "affinitaet", "staerke": 0.80, "beschreibung": "Autonomismus + Selbstverwaltung" },
  { "von": "A3-4", "zu": "D2-2", "typ": "affinitaet", "staerke": 0.85, "beschreibung": "Autonomismus + interstitielle Strategie" },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // B1: MARKT/PLAN
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  { "von": "B1-1", "zu": "B1-2", "typ": "affinitaet", "staerke": 0.70, "beschreibung": "Marktsozialismus nah an Regulierung" },
  { "von": "B1-2", "zu": "B1-3", "typ": "affinitaet", "staerke": 0.75, "beschreibung": "Regulierter Markt nah an Mischsystem" },
  { "von": "B1-3", "zu": "B1-4", "typ": "affinitaet", "staerke": 0.70, "beschreibung": "Mischsystem nah an demokratischer Planung" },
  { "von": "B1-4", "zu": "B1-5", "typ": "affinitaet", "staerke": 0.60, "beschreibung": "Demokratische vs. zentrale Planung" },
  { "von": "B1-1", "zu": "B1-5", "typ": "debatte", "staerke": 0.20, "beschreibung": "Markt vs. Plan - Grundkonflikt" },
  { "von": "B1-1", "zu": "B2-4", "typ": "affinitaet", "staerke": 0.80, "beschreibung": "Marktsozialismus + Genossenschaften" },
  { "von": "B1-5", "zu": "B2-1", "typ": "affinitaet", "staerke": 0.90, "beschreibung": "Zentralplanung + Verstaatlichung" },
  { "von": "B1-4", "zu": "B2-5", "typ": "affinitaet", "staerke": 0.85, "beschreibung": "Demokratische Planung + Selbstverwaltung" },
  { "von": "B1-3", "zu": "B2-3", "typ": "affinitaet", "staerke": 0.80, "beschreibung": "Mischsystem + gemischte Eigentumsformen" },
  { "von": "B1-2", "zu": "C2-2", "typ": "affinitaet", "staerke": 0.65, "beschreibung": "Regulierter Markt erm√∂glicht gr√ºnes Wachstum" },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // B2: BESITZ
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  { "von": "B2-1", "zu": "B2-2", "typ": "affinitaet", "staerke": 0.75, "beschreibung": "Verstaatlichung nah an √∂ffentlichem Eigentum" },
  { "von": "B2-2", "zu": "B2-3", "typ": "affinitaet", "staerke": 0.80, "beschreibung": "√ñffentliches Eigentum nah an Mischformen" },
  { "von": "B2-3", "zu": "B2-4", "typ": "affinitaet", "staerke": 0.75, "beschreibung": "Mischformen enthalten Genossenschaften" },
  { "von": "B2-4", "zu": "B2-5", "typ": "affinitaet", "staerke": 0.75, "beschreibung": "Genossenschaften nah an Selbstverwaltung" },
  { "von": "B2-1", "zu": "B2-5", "typ": "debatte", "staerke": 0.30, "beschreibung": "Verstaatlichung vs. Selbstverwaltung" },
  { "von": "B2-2", "zu": "A3-1", "typ": "affinitaet", "staerke": 0.75, "beschreibung": "√ñffentliches Eigentum + Etatismus" },
  { "von": "B2-3", "zu": "D1-4", "typ": "affinitaet", "staerke": 0.65, "beschreibung": "Mischformen als reale Utopie" },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // B3: ARBEIT
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  { "von": "B3-1", "zu": "B3-2", "typ": "affinitaet", "staerke": 0.75, "beschreibung": "Vollbesch√§ftigung braucht gute Arbeit" },
  { "von": "B3-2", "zu": "B3-3", "typ": "affinitaet", "staerke": 0.80, "beschreibung": "Gute Arbeit hei√üt auch weniger Arbeit" },
  { "von": "B3-3", "zu": "B3-4", "typ": "affinitaet", "staerke": 0.70, "beschreibung": "Arbeitszeitverk√ºrzung + Grundeinkommen" },
  { "von": "B3-4", "zu": "B3-5", "typ": "affinitaet", "staerke": 0.80, "beschreibung": "Grundeinkommen nah an Post-Work" },
  { "von": "B3-1", "zu": "B3-5", "typ": "debatte", "staerke": 0.20, "beschreibung": "Vollbesch√§ftigung vs. Post-Work" },
  { "von": "B3-5", "zu": "C2-4", "typ": "affinitaet", "staerke": 0.75, "beschreibung": "Post-Work + √ñkosozialismus (Degrowth)" },
  { "von": "B3-2", "zu": "C1-4", "typ": "affinitaet", "staerke": 0.70, "beschreibung": "Gute Arbeit muss Care-Arbeit einschlie√üen" },
  { "von": "B3-3", "zu": "C2-4", "typ": "affinitaet", "staerke": 0.65, "beschreibung": "Weniger arbeiten = weniger produzieren" },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // C1: FEMINISMUS
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  { "von": "C1-1", "zu": "C1-2", "typ": "affinitaet", "staerke": 0.65, "beschreibung": "Klassenprimat nah an sozialistischem Feminismus" },
  { "von": "C1-2", "zu": "C1-3", "typ": "affinitaet", "staerke": 0.75, "beschreibung": "Sozialistischer Feminismus √∂ffnet f√ºr Intersektionalit√§t" },
  { "von": "C1-3", "zu": "C1-4", "typ": "affinitaet", "staerke": 0.80, "beschreibung": "Intersektionalit√§t sieht Care-Arbeit" },
  { "von": "C1-4", "zu": "C1-5", "typ": "affinitaet", "staerke": 0.85, "beschreibung": "Care-Revolution nah an Radikalfeminismus" },
  { "von": "C1-1", "zu": "C1-5", "typ": "debatte", "staerke": 0.30, "beschreibung": "Nebenwiderspruch-Debatte" },
  { "von": "C1-1", "zu": "A2-2", "typ": "affinitaet", "staerke": 0.80, "beschreibung": "Klassenprimat + Klassensubjekt" },
  { "von": "C1-2", "zu": "A2-2", "typ": "affinitaet", "staerke": 0.70, "beschreibung": "Sozialistischer Feminismus bleibt bei Klasse" },
  { "von": "C1-3", "zu": "A2-4", "typ": "affinitaet", "staerke": 0.85, "beschreibung": "Intersektionalit√§t + Multitude" },
  { "von": "C1-5", "zu": "A2-4", "typ": "affinitaet", "staerke": 0.85, "beschreibung": "Radikalfeminismus + Multitude" },
  { "von": "C1-5", "zu": "B3-5", "typ": "affinitaet", "staerke": 0.70, "beschreibung": "Care-Kritik + Post-Work" },
  { "von": "C1-4", "zu": "B3-5", "typ": "affinitaet", "staerke": 0.70, "beschreibung": "Care-Revolution + Post-Work" },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // C2: NATUR
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  { "von": "C2-1", "zu": "C2-2", "typ": "affinitaet", "staerke": 0.55, "beschreibung": "Produktivismus glaubt an gr√ºne Technik" },
  { "von": "C2-2", "zu": "C2-3", "typ": "affinitaet", "staerke": 0.80, "beschreibung": "Gr√ºnes Wachstum + Nachhaltigkeit" },
  { "von": "C2-3", "zu": "C2-4", "typ": "affinitaet", "staerke": 0.65, "beschreibung": "Nachhaltigkeit kann zu √ñkosozialismus f√ºhren" },
  { "von": "C2-4", "zu": "C2-5", "typ": "affinitaet", "staerke": 0.80, "beschreibung": "√ñkosozialismus nah an Naturrechte" },
  { "von": "C2-1", "zu": "C2-4", "typ": "debatte", "staerke": 0.20, "beschreibung": "Produktivismus vs. √ñkosozialismus" },
  { "von": "C2-2", "zu": "C2-4", "typ": "debatte", "staerke": 0.40, "beschreibung": "Gr√ºnes Wachstum vs. Degrowth" },
  { "von": "C2-5", "zu": "A3-5", "typ": "affinitaet", "staerke": 0.70, "beschreibung": "Bookchin: Sozial√∂kologie + Anarchismus" },
  { "von": "C2-5", "zu": "E2-4", "typ": "affinitaet", "staerke": 0.75, "beschreibung": "Naturrechte + Kommunalismus" },
  { "von": "C2-1", "zu": "B1-5", "typ": "affinitaet", "staerke": 0.60, "beschreibung": "Produktivismus + Zentralplanung" },
  { "von": "C2-3", "zu": "B1-2", "typ": "affinitaet", "staerke": 0.60, "beschreibung": "Nachhaltige Entwicklung braucht Regulierung" },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // C3: INTERNATIONAL
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  { "von": "C3-1", "zu": "C3-2", "typ": "affinitaet", "staerke": 0.70, "beschreibung": "Nationaler Weg kann regional werden" },
  { "von": "C3-2", "zu": "C3-3", "typ": "affinitaet", "staerke": 0.75, "beschreibung": "Regional ist schon international" },
  { "von": "C3-3", "zu": "C3-4", "typ": "affinitaet", "staerke": 0.70, "beschreibung": "Internationalismus nah an permanenter Revolution" },
  { "von": "C3-4", "zu": "C3-5", "typ": "affinitaet", "staerke": 0.80, "beschreibung": "Permanente Revolution nah an global" },
  { "von": "C3-1", "zu": "C3-5", "typ": "debatte", "staerke": 0.15, "beschreibung": "National vs. Global - Stalin vs. Trotzki" },
  { "von": "C3-3", "zu": "A2-2", "typ": "affinitaet", "staerke": 0.70, "beschreibung": "Internationalismus + Klassensubjekt" },
  { "von": "C3-5", "zu": "A2-4", "typ": "affinitaet", "staerke": 0.75, "beschreibung": "Globale Multitude" },
  { "von": "C3-1", "zu": "E2-1", "typ": "affinitaet", "staerke": 0.65, "beschreibung": "Nationaler Weg + Zentralismus" },
  { "von": "C3-2", "zu": "E2-2", "typ": "affinitaet", "staerke": 0.60, "beschreibung": "Regionale B√ºndnisse + F√∂deralismus" },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // D1: UTOPIE
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  { "von": "D1-1", "zu": "D1-2", "typ": "affinitaet", "staerke": 0.70, "beschreibung": "Anti-Utopismus nah an negativer Utopie" },
  { "von": "D1-2", "zu": "D1-3", "typ": "affinitaet", "staerke": 0.65, "beschreibung": "Negation kann Prozess werden" },
  { "von": "D1-3", "zu": "D1-4", "typ": "affinitaet", "staerke": 0.75, "beschreibung": "Prozess findet reale Utopien" },
  { "von": "D1-4", "zu": "D1-5", "typ": "affinitaet", "staerke": 0.65, "beschreibung": "Reale Utopien k√∂nnen konkret werden" },
  { "von": "D1-1", "zu": "D1-5", "typ": "debatte", "staerke": 0.20, "beschreibung": "Anti-Utopismus vs. konkrete Utopie" },
  { "von": "D1-2", "zu": "D3-1", "typ": "affinitaet", "staerke": 0.65, "beschreibung": "Negative Utopie + strenger Materialismus" },
  { "von": "D1-4", "zu": "D2-2", "typ": "affinitaet", "staerke": 0.80, "beschreibung": "Reale Utopien + interstitielle Strategie" },
  { "von": "D1-4", "zu": "A1-2", "typ": "affinitaet", "staerke": 0.70, "beschreibung": "Reale Utopien durch radikale Reformen" },
  { "von": "D1-5", "zu": "B1-4", "typ": "affinitaet", "staerke": 0.65, "beschreibung": "Konkrete Utopie + demokratische Planung" },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // D2: TRANSFORMATION
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  { "von": "D2-1", "zu": "D2-2", "typ": "affinitaet", "staerke": 0.65, "beschreibung": "Reform kann interstitiell sein" },
  { "von": "D2-2", "zu": "D2-3", "typ": "affinitaet", "staerke": 0.70, "beschreibung": "Interstitiell braucht manchmal Staat" },
  { "von": "D2-3", "zu": "D2-4", "typ": "affinitaet", "staerke": 0.55, "beschreibung": "Symbiotisch kann rupturell werden" },
  { "von": "D2-4", "zu": "D2-5", "typ": "affinitaet", "staerke": 0.75, "beschreibung": "Rupturell nah an Revolution" },
  { "von": "D2-1", "zu": "D2-5", "typ": "debatte", "staerke": 0.15, "beschreibung": "Reform vs. Revolution" },
  { "von": "D2-2", "zu": "A3-4", "typ": "affinitaet", "staerke": 0.85, "beschreibung": "Interstitiell + Autonomismus" },
  { "von": "D2-3", "zu": "A3-3", "typ": "affinitaet", "staerke": 0.75, "beschreibung": "Symbiotisch + Staat als Terrain" },
  { "von": "D2-3", "zu": "A3-1", "typ": "affinitaet", "staerke": 0.65, "beschreibung": "Symbiotisch nutzt Etatismus" },
  { "von": "D2-4", "zu": "A1-4", "typ": "affinitaet", "staerke": 0.80, "beschreibung": "Rupturell + revolution√§rer Prozess" },
  { "von": "D2-4", "zu": "E1-4", "typ": "affinitaet", "staerke": 0.70, "beschreibung": "Rupturell braucht Bewegungen" },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // D3: SPIRITUALIT√ÑT
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  { "von": "D3-1", "zu": "D3-2", "typ": "affinitaet", "staerke": 0.75, "beschreibung": "Materialismus akzeptiert Humanismus" },
  { "von": "D3-2", "zu": "D3-3", "typ": "affinitaet", "staerke": 0.80, "beschreibung": "Humanismus ist offen" },
  { "von": "D3-3", "zu": "D3-4", "typ": "affinitaet", "staerke": 0.70, "beschreibung": "Offenheit erm√∂glicht Befreiungstheologie" },
  { "von": "D3-4", "zu": "D3-5", "typ": "affinitaet", "staerke": 0.65, "beschreibung": "Befreiungstheologie nah an spirituellem Sozialismus" },
  { "von": "D3-1", "zu": "D3-5", "typ": "debatte", "staerke": 0.20, "beschreibung": "Materialismus vs. Spiritualit√§t" },
  { "von": "D3-4", "zu": "C3-3", "typ": "affinitaet", "staerke": 0.65, "beschreibung": "Befreiungstheologie + Internationalismus" },
  { "von": "D3-5", "zu": "A3-5", "typ": "affinitaet", "staerke": 0.70, "beschreibung": "Landauer: Spiritueller Anarchismus" },
  { "von": "D3-1", "zu": "A2-2", "typ": "affinitaet", "staerke": 0.60, "beschreibung": "Materialismus + Klassensubjekt" },
  { "von": "D3-3", "zu": "E1-3", "typ": "affinitaet", "staerke": 0.60, "beschreibung": "Offenheit erm√∂glicht breite B√ºndnisse" },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // E1: B√úNDNISSE
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  { "von": "E1-1", "zu": "E1-2", "typ": "affinitaet", "staerke": 0.60, "beschreibung": "Klassenreinheit kann Klassenb√ºndnis werden" },
  { "von": "E1-2", "zu": "E1-3", "typ": "affinitaet", "staerke": 0.70, "beschreibung": "Klassenb√ºndnis kann breiter werden" },
  { "von": "E1-3", "zu": "E1-4", "typ": "affinitaet", "staerke": 0.75, "beschreibung": "Breite B√ºndnisse werden bewegungsorientiert" },
  { "von": "E1-4", "zu": "E1-5", "typ": "affinitaet", "staerke": 0.80, "beschreibung": "Bewegungen werden Netzwerke" },
  { "von": "E1-1", "zu": "E1-5", "typ": "debatte", "staerke": 0.20, "beschreibung": "Klassenreinheit vs. Netzwerk" },
  { "von": "E1-2", "zu": "A2-2", "typ": "affinitaet", "staerke": 0.75, "beschreibung": "Klassenb√ºndnis + Klassensubjekt" },
  { "von": "E1-3", "zu": "A2-4", "typ": "affinitaet", "staerke": 0.80, "beschreibung": "Breite B√ºndnisse + Multitude" },
  { "von": "E1-5", "zu": "A2-4", "typ": "affinitaet", "staerke": 0.85, "beschreibung": "Netzwerk + Multitude" },
  { "von": "E1-4", "zu": "A2-4", "typ": "affinitaet", "staerke": 0.75, "beschreibung": "Bewegungsorientiert + Multitude" },
  { "von": "E1-1", "zu": "A2-1", "typ": "affinitaet", "staerke": 0.70, "beschreibung": "Klassenreinheit + Industrieproletariat" },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // E2: EBENEN
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  { "von": "E2-1", "zu": "E2-2", "typ": "debatte", "staerke": 0.40, "beschreibung": "Zentralismus vs. F√∂deralismus" },
  { "von": "E2-2", "zu": "E2-3", "typ": "affinitaet", "staerke": 0.75, "beschreibung": "F√∂deralismus ist Mehrebenen" },
  { "von": "E2-3", "zu": "E2-4", "typ": "affinitaet", "staerke": 0.70, "beschreibung": "Mehrebenen betont Kommune" },
  { "von": "E2-4", "zu": "E2-5", "typ": "affinitaet", "staerke": 0.80, "beschreibung": "Kommunalismus ist basisdemokratisch" },
  { "von": "E2-1", "zu": "E2-5", "typ": "debatte", "staerke": 0.15, "beschreibung": "Zentralismus vs. Basisdemokratie" },
  { "von": "E2-1", "zu": "A3-2", "typ": "affinitaet", "staerke": 0.90, "beschreibung": "Zentralismus + Leninismus" },
  { "von": "E2-4", "zu": "A3-5", "typ": "affinitaet", "staerke": 0.80, "beschreibung": "Kommunalismus + Anarchismus" },
  { "von": "E2-4", "zu": "C2-5", "typ": "affinitaet", "staerke": 0.80, "beschreibung": "Kommunalismus + Sozial√∂kologie" },
  { "von": "E2-5", "zu": "B2-5", "typ": "affinitaet", "staerke": 0.85, "beschreibung": "Basisdemokratie + Selbstverwaltung" },
  { "von": "E2-2", "zu": "A3-5", "typ": "affinitaet", "staerke": 0.75, "beschreibung": "F√∂deralismus + Anarchismus" },
  { "von": "E2-3", "zu": "A3-3", "typ": "affinitaet", "staerke": 0.65, "beschreibung": "Mehrebenen + Staat als Terrain" },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // E3: BILDUNG
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  { "von": "E3-1", "zu": "E3-2", "typ": "affinitaet", "staerke": 0.85, "beschreibung": "Avantgarde macht Kaderschulung" },
  { "von": "E3-2", "zu": "E3-3", "typ": "affinitaet", "staerke": 0.65, "beschreibung": "Kaderschulung kann offener werden" },
  { "von": "E3-3", "zu": "E3-4", "typ": "affinitaet", "staerke": 0.75, "beschreibung": "Politische Bildung trifft Bewegungslernen" },
  { "von": "E3-4", "zu": "E3-5", "typ": "affinitaet", "staerke": 0.85, "beschreibung": "Bewegungslernen ist Basisbildung" },
  { "von": "E3-1", "zu": "E3-5", "typ": "debatte", "staerke": 0.20, "beschreibung": "Avantgarde vs. Basisbildung" },
  { "von": "E3-2", "zu": "A3-2", "typ": "affinitaet", "staerke": 0.85, "beschreibung": "Kaderschulung + Leninismus" },
  { "von": "E3-2", "zu": "E2-1", "typ": "affinitaet", "staerke": 0.80, "beschreibung": "Kaderschulung + Zentralismus" },
  { "von": "E3-5", "zu": "A3-5", "typ": "affinitaet", "staerke": 0.85, "beschreibung": "Basisbildung + Anarchismus" },
  { "von": "E3-3", "zu": "D3-3", "typ": "affinitaet", "staerke": 0.55, "beschreibung": "Politische Bildung ist offen" },
  { "von": "E3-4", "zu": "E1-4", "typ": "affinitaet", "staerke": 0.75, "beschreibung": "Bewegungslernen + Bewegungsorientiert" },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // CROSS-ACHSEN (die spannenden)
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  { "von": "B2-5", "zu": "E3-5", "typ": "affinitaet", "staerke": 0.85, "beschreibung": "Selbstverwaltung + Basisbildung" },
  { "von": "C1-5", "zu": "A2-2", "typ": "debatte", "staerke": 0.40, "beschreibung": "Nebenwiderspruch-Debatte" },
  { "von": "B3-3", "zu": "D1-4", "typ": "affinitaet", "staerke": 0.60, "beschreibung": "4-Tage-Woche als reale Utopie" },
  { "von": "E1-3", "zu": "C1-3", "typ": "affinitaet", "staerke": 0.75, "beschreibung": "Breite B√ºndnisse brauchen Intersektionalit√§t" },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // F1: TECHNOLOGIE - Spektrum verbinden
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  { "von": "F1-1", "zu": "F1-2", "typ": "affinitaet", "staerke": 0.75, "beschreibung": "Neo-Luddismus nah an Technologie-Skepsis" },
  { "von": "F1-2", "zu": "F1-3", "typ": "affinitaet", "staerke": 0.65, "beschreibung": "Skepsis kann zu kritischer Aneignung werden" },
  { "von": "F1-3", "zu": "F1-4", "typ": "affinitaet", "staerke": 0.60, "beschreibung": "Kritische Aneignung teilt Modernismus mit Akzelerationismus" },
  { "von": "F1-4", "zu": "F1-5", "typ": "affinitaet", "staerke": 0.85, "beschreibung": "Akzelerationismus m√ºndet in FALC" },
  { "von": "F1-1", "zu": "F1-5", "typ": "debatte", "staerke": 0.20, "beschreibung": "Technologie ablehnen vs. maximieren" },
  { "von": "F1-3", "zu": "B2-4", "typ": "affinitaet", "staerke": 0.70, "beschreibung": "Platform Cooperativism = Plattform + Genossenschaft" },
  { "von": "F1-5", "zu": "B3-5", "typ": "affinitaet", "staerke": 0.85, "beschreibung": "FALC braucht Post-Work" },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // F2: DEMOKRATIEFORM - Spektrum verbinden
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  { "von": "F2-1", "zu": "F2-2", "typ": "affinitaet", "staerke": 0.85, "beschreibung": "Avantgarde praktiziert demokratischen Zentralismus" },
  { "von": "F2-2", "zu": "F2-3", "typ": "affinitaet", "staerke": 0.50, "beschreibung": "Zentralismus vs. Repr√§sentation - Spannung" },
  { "von": "F2-3", "zu": "F2-4", "typ": "affinitaet", "staerke": 0.60, "beschreibung": "Repr√§sentation kann zu R√§ten radikalisiert werden" },
  { "von": "F2-4", "zu": "F2-5", "typ": "affinitaet", "staerke": 0.70, "beschreibung": "R√§te nahe an Basisdemokratie" },
  { "von": "F2-1", "zu": "F2-5", "typ": "debatte", "staerke": 0.15, "beschreibung": "Avantgarde vs. Basisdemokratie - Grundkonflikt" },
  { "von": "F2-1", "zu": "A3-1", "typ": "affinitaet", "staerke": 0.80, "beschreibung": "Avantgarde + starker Staat" },
  { "von": "F2-5", "zu": "A3-5", "typ": "affinitaet", "staerke": 0.85, "beschreibung": "Basisdemokratie + Anti-Etatismus" },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // F3: GEWALT & MITTEL - Spektrum verbinden
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  { "von": "F3-1", "zu": "F3-2", "typ": "affinitaet", "staerke": 0.70, "beschreibung": "Pazifismus nahe an gewaltfreiem Widerstand" },
  { "von": "F3-2", "zu": "F3-3", "typ": "affinitaet", "staerke": 0.60, "beschreibung": "Gewaltfreiheit kann zu taktischer Flexibilit√§t werden" },
  { "von": "F3-3", "zu": "F3-4", "typ": "affinitaet", "staerke": 0.65, "beschreibung": "Flexibilit√§t √∂ffnet T√ºr zu Militanz" },
  { "von": "F3-4", "zu": "F3-5", "typ": "affinitaet", "staerke": 0.70, "beschreibung": "Militanz kann zu bewaffnetem Kampf eskalieren" },
  { "von": "F3-1", "zu": "F3-5", "typ": "debatte", "staerke": 0.10, "beschreibung": "Pazifismus vs. bewaffneter Kampf - absoluter Gegensatz" },
  { "von": "F3-5", "zu": "A1-5", "typ": "affinitaet", "staerke": 0.80, "beschreibung": "Bewaffneter Kampf + Revolution" },
  { "von": "F3-2", "zu": "A1-2", "typ": "affinitaet", "staerke": 0.65, "beschreibung": "Gewaltfreier Widerstand + radikale Reform" }
];

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// DATEN: DEBATTEN
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

const debattenData = [
  {
    "id": "marx-bakunin",
    "titel": "Staat erobern oder zerschlagen?",
    "frage": "Kann der Staat ein Werkzeug der Befreiung sein ‚Äì oder ist er immer Herrschaft?",
    "seite_a": {
      "position": "Der Arbeiterstaat ist notwendig",
      "argumente": ["Ohne Staatsmacht keine Enteignung m√∂glich", "Der Staat stirbt ab nach Sieg", "Anarchismus ist unpraktisch"]
    },
    "seite_b": {
      "position": "Jeder Staat ist Unterdr√ºckung",
      "argumente": ["Wer den Staat erobert, wird von ihm erobert", "Der Staat stirbt nie ab", "Freiheit nicht durch Unfreiheit"]
    },
    "historisch": { "wann": "1872", "anlass": "Spaltung der Ersten Internationale", "ausgang": "Marx setzt sich durch, Bakunin ausgeschlossen" },
    "texte": [
      { "titel": "Staatlichkeit und Anarchie", "autor": "Bakunin", "url": "https://theanarchistlibrary.org/library/mikhail-bakunin-statism-and-anarchy" },
      { "titel": "Staat und Revolution", "autor": "Lenin", "url": "https://www.marxists.org/deutsch/archiv/lenin/1917/staatrev/index.htm" }
    ]
  },
  {
    "id": "reform-revolution",
    "titel": "Reform oder Revolution?",
    "frage": "K√∂nnen wir den Kapitalismus Schritt f√ºr Schritt √ºberwinden ‚Äì oder braucht es einen Bruch?",
    "seite_a": {
      "position": "Der Weg ist alles",
      "argumente": ["Revolution f√ºhrt zu Terror", "Demokratie erm√∂glicht Wandel", "Arbeiterklasse nicht bereit"]
    },
    "seite_b": {
      "position": "Kein gradueller √úbergang m√∂glich",
      "argumente": ["Herrschende geben nie freiwillig auf", "Reformen werden zur√ºckgenommen", "System nicht reformierbar"]
    },
    "historisch": { "wann": "1899", "anlass": "Bernstein-Debatte in der SPD", "ausgang": "Revolution√§re Rhetorik, reformistische Praxis" },
    "texte": [
      { "titel": "Sozialreform oder Revolution?", "autor": "Luxemburg", "url": "https://www.marxists.org/deutsch/archiv/luxemburg/1899/sozam/index.htm" },
      { "titel": "Die Voraussetzungen des Sozialismus", "autor": "Bernstein", "url": "https://www.marxists.org/deutsch/archiv/bernstein/1899/voraus/index.html" }
    ]
  },
  {
    "id": "markt-plan",
    "titel": "Markt oder Plan?",
    "frage": "Wie koordinieren wir eine sozialistische Wirtschaft?",
    "seite_a": {
      "position": "Sozialismus braucht Markt",
      "argumente": ["Preise transportieren Information", "Planung f√ºhrt zu B√ºrokratie", "Genossenschaften k√∂nnen konkurrieren"]
    },
    "seite_b": {
      "position": "Markt ist das Problem",
      "argumente": ["Markt erzeugt Ungleichheit", "Rationale Planung ist effizienter", "Bed√ºrfnisse statt Profit"]
    },
    "historisch": { "wann": "1920-1940", "anlass": "Sozialistische Kalkulationsdebatte", "ausgang": "Beide Seiten beanspruchen Sieg" },
    "texte": []
  },
  {
    "id": "klasse-multitude",
    "titel": "Wer macht Geschichte?",
    "frage": "Ist die Arbeiterklasse DAS revolution√§re Subjekt ‚Äì oder gibt es viele K√§mpfe?",
    "seite_a": {
      "position": "Die Arbeiterklasse",
      "argumente": ["Nur sie kann Produktion lahmlegen", "Andere K√§mpfe sind sekund√§r", "Identit√§tspolitik spaltet"]
    },
    "seite_b": {
      "position": "Viele Subjekte",
      "argumente": ["'Die' Arbeiterklasse gibt es nicht mehr", "Feminismus etc. keine Nebenwiderspr√ºche", "Multitude reicher als Klasse"]
    },
    "historisch": { "wann": "1970er-heute", "anlass": "Neue Soziale Bewegungen", "ausgang": "Offen" },
    "texte": []
  },
  {
    "id": "national-global",
    "titel": "Sozialismus in einem Land oder Weltrevolution?",
    "frage": "Kann Sozialismus in einer kapitalistischen Welt √ºberleben ‚Äì oder muss er sich ausbreiten?",
    "seite_a": {
      "position": "Sozialismus in einem Land m√∂glich",
      "argumente": ["Nicht auf Weltrevolution warten", "Aufbau hier und jetzt", "Ausstrahlung durch Erfolg"]
    },
    "seite_b": {
      "position": "Revolution muss international werden",
      "argumente": ["Isolation f√ºhrt zu Deformation", "Kapital ist global", "Permanente Revolution n√∂tig"]
    },
    "historisch": { "wann": "1924-1927", "anlass": "Stalin vs. Trotzki", "ausgang": "Stalin setzt sich durch, Trotzki verbannt" },
    "texte": [
      { "titel": "Die permanente Revolution", "autor": "Trotzki", "url": "https://www.marxists.org/deutsch/archiv/trotzki/1930/permrev/index.htm" }
    ]
  },
  {
    "id": "organisation",
    "titel": "Zentralismus oder Basisdemokratie?",
    "frage": "Wie organisieren wir uns, um zu gewinnen ‚Äì von oben oder von unten?",
    "seite_a": {
      "position": "Demokratischer Zentralismus",
      "argumente": ["Einheitliches Handeln n√∂tig gegen starken Gegner", "Diskussion ja, aber dann geschlossenes Auftreten", "Dezentralismus ist Schw√§che"]
    },
    "seite_b": {
      "position": "Basisdemokratie",
      "argumente": ["Zentralismus f√ºhrt zu B√ºrokratie und Diktatur", "Befreiung muss von unten kommen", "Mittel m√ºssen dem Ziel entsprechen"]
    },
    "historisch": { "wann": "1903-heute", "anlass": "Bolschewiki vs. Menschewiki und viele Folgekonflikte", "ausgang": "Zentralismus hat oft gesiegt, aber nie dauerhaft √ºberzeugt" },
    "texte": []
  }
];


// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// GLOBALE FILTER-DATEN
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

// Temperatur-Cache f√ºr alle Positionen
const temperaturCache = {};

function berechneTemperaturen() {
  Object.values(knotenData).forEach(k => {
    let temp = 0;
    let debatten = 0;
    
    verbindungenData.forEach(v => {
      if (v.von === k.id || v.zu === k.id) {
        temp += v.staerke * 10;
        if (v.typ === 'debatte') debatten++;
      }
    });
    
    const heisseThemen = ['√ñkosozialismus', 'Post-Work', 'Grundeinkommen', 'Intersektionalit√§t', 'Multitude', 'Care-Revolution', 'Degrowth', 'Feminismus', 'Antirassismus'];
    if (heisseThemen.some(t => k.name.includes(t))) {
      temp += 20;
    }
    
    temp += debatten * 10;
    temperaturCache[k.id] = Math.min(100, temp);
  });
}

// Epochen-Zuordnung
function getEpocheForPosition(id) {
  const knoten = knotenData[id];
  if (!knoten) return 2000;
  
  const achse = knoten.achse;
  if (achse === 'A1') return 1900;
  if (achse === 'A2') return 1920;
  if (achse === 'A3') return 1960;
  if (achse === 'B1') return 1970;
  if (achse === 'B2') return 1980;
  if (achse === 'C1') return 1990;
  if (achse === 'C2') return 2000;
  if (achse === 'D1') return 1950;
  if (achse === 'D2') return 2010;
  if (achse === 'E1') return 1940;
  if (achse === 'E2') return 2000;
  return 1970;
}

// Temperaturen beim Laden berechnen
berechneTemperaturen();

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// FILTER-FUNKTIONEN F√úR ANSICHTEN
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

let personenObjekte = [];

function applyFiltersToNetzwerk(filter, epoche) {
  if (!nodeObjects || Object.keys(nodeObjects).length === 0) return;
  
  const hasFieber = filter.has('fieber');
  const hasPersonen = filter.has('personen');
  const hasEpoche = filter.has('epoche');
  const hasDebatten = filter.has('debatten');
  
  const getFieberFarbe = (temp) => {
    if (temp >= 60) return 0xf44336;
    if (temp >= 40) return 0xFF9800;
    if (temp >= 20) return 0x4CAF50;
    return 0x2196F3;
  };
  
  const achsenFarben = {
    'A': 0xE53935, 'B': 0x4CAF50, 'C': 0x2196F3, 'D': 0x9C27B0, 'E': 0xFF9800, 'F': 0x00BCD4
  };
  
  // Knoten aktualisieren
  nodes3d.forEach(node => {
    const sphere = nodeObjects[node.id];
    const label = nodeObjects[node.id + '_label'];
    if (!sphere) return;
    
    // Epochen-Filter
    if (hasEpoche) {
      const entstehung = getEpocheForPosition(node.id);
      const sichtbar = entstehung <= epoche;
      sphere.visible = sichtbar;
      if (label) label.visible = sichtbar;
    } else {
      sphere.visible = true;
      if (label) label.visible = true;
    }
    
    // Fieber-Filter
    if (hasFieber && sphere.visible) {
      const temp = temperaturCache[node.id] || 0;
      sphere.material.color.setHex(getFieberFarbe(temp));
      const scale = 0.8 + (temp / 100) * 0.8;
      sphere.scale.set(scale, scale, scale);
    } else {
      const achse = knotenData[node.id]?.achse?.charAt(0) || 'A';
      sphere.material.color.setHex(achsenFarben[achse] || 0xE53935);
      sphere.scale.set(1, 1, 1);
    }
  });
  
  // Verbindungen aktualisieren
  if (linkObjects) {
    linkObjects.forEach(line => {
      if (!line.userData.link) return;
      
      const sourceVisible = nodeObjects[line.userData.source]?.visible ?? true;
      const targetVisible = nodeObjects[line.userData.target]?.visible ?? true;
      line.visible = sourceVisible && targetVisible;
      
      // Debatten-Filter
      if (hasDebatten && line.visible) {
        if (line.userData.link.typ === 'debatte') {
          line.material.opacity = 1.0;
          line.material.color.setHex(0xFF5722);
        } else {
          line.material.opacity = 0.1;
        }
      } else if (line.visible) {
        const link = line.userData.link;
        if (link.typ === 'debatte') {
          line.material.opacity = 0.6;
          line.material.color.setHex(0xFF9800);
        } else if (link.staerke > 0.8) {
          line.material.opacity = 0.8;
          line.material.color.setHex(0x4CAF50);
        } else {
          line.material.opacity = 0.3 + link.staerke * 0.4;
          line.material.color.setHex(0x555555);
        }
      }
    });
  }
  
  // Personen einblenden
  if (hasPersonen) {
    if (personenObjekte.length === 0) {
      erstellePersonenImNetzwerk();
    }
    personenObjekte.forEach(p => p.visible = true);
  } else {
    personenObjekte.forEach(p => p.visible = false);
  }
}

function erstellePersonenImNetzwerk() {
  if (!scene) return;
  
  nodes3d.forEach(node => {
    const knoten = knotenData[node.id];
    if (!knoten || !knoten.bewohner) return;
    
    const bewohner = [
      ...(knoten.bewohner.klassiker || []),
      ...(knoten.bewohner.zeitgenossen || [])
    ];
    
    if (bewohner.length === 0) return;
    
    bewohner.slice(0, 5).forEach((name, i) => {
      const winkel = (i / Math.min(bewohner.length, 5)) * Math.PI * 2;
      const radius = 25;
      
      const geometry = new THREE.SphereGeometry(4, 8, 8);
      const material = new THREE.MeshBasicMaterial({ 
        color: 0xffffff,
        transparent: true,
        opacity: 0.8
      });
      const sphere = new THREE.Mesh(geometry, material);
      
      sphere.position.set(
        node.x + Math.cos(winkel) * radius,
        node.y + Math.sin(winkel) * radius,
        node.z
      );
      
      sphere.userData = { type: 'person', name: name, position: node.id };
      sphere.visible = false;
      scene.add(sphere);
      personenObjekte.push(sphere);
    });
  });
}

function applyFiltersToListe(filter, epoche) {
  const container = document.getElementById('liste-container');
  if (!container) return;
  
  const hasFieber = filter.has('fieber');
  const hasPersonen = filter.has('personen');
  const hasEpoche = filter.has('epoche');
  
  let positionen = Object.values(knotenData).map(k => ({
    ...k,
    temperatur: temperaturCache[k.id] || 0,
    entstehung: getEpocheForPosition(k.id),
    bewohnerListe: [...(k.bewohner?.klassiker || []), ...(k.bewohner?.zeitgenossen || [])]
  }));
  
  if (hasEpoche) {
    positionen = positionen.filter(p => p.entstehung <= epoche);
  }
  
  if (hasFieber) {
    positionen.sort((a, b) => b.temperatur - a.temperatur);
  } else {
    positionen.sort((a, b) => a.name.localeCompare(b.name));
  }
  
  let html = '<div class="liste-header">';
  html += `<h2>üìã Alle Positionen (${positionen.length})</h2>`;
  if (hasFieber) html += '<p style="color: #FF9800; font-size: 0.8rem;">üî• Sortiert nach Fieber</p>';
  if (hasEpoche) html += `<p style="color: #FF9800; font-size: 0.8rem;">üìÖ Bis ${epoche}</p>`;
  html += '</div><div class="liste-grid">';
  
  positionen.forEach(p => {
    html += `<div class="liste-item" onclick="showKnoten('${p.id}')" style="${hasFieber ? 'border-left: 3px solid ' + (p.temperatur >= 60 ? '#f44336' : p.temperatur >= 30 ? '#FF9800' : '#2196F3') : ''}">`;
    html += `<div class="liste-name">${p.name}</div>`;
    html += `<div class="liste-achse">${p.achse}</div>`;
    if (hasPersonen && p.bewohnerListe.length > 0) {
      html += `<div style="font-size: 0.7rem; color: #888; margin-top: 0.3rem;">üë§ ${p.bewohnerListe.slice(0, 2).join(', ')}${p.bewohnerListe.length > 2 ? '...' : ''}</div>`;
    }
    html += '</div>';
  });
  
  html += '</div>';
  container.innerHTML = html;
}

function applyFiltersToKarte(filter, epoche) {
  const container = document.getElementById('karte-container');
  if (!container) return;
  
  const hasFieber = filter.has('fieber');
  const hasPersonen = filter.has('personen');
  const hasEpoche = filter.has('epoche');
  
  const achsen = [
    { id: 'A1', name: 'Reform/Revolution' },
    { id: 'A2', name: 'Subjekt' },
    { id: 'A3', name: 'Staat' },
    { id: 'B1', name: 'Markt/Plan' },
    { id: 'B2', name: 'Besitz' },
    { id: 'B3', name: 'Arbeit' },
    { id: 'C1', name: 'Feminismus' },
    { id: 'C2', name: 'Natur' },
    { id: 'C3', name: 'International' },
    { id: 'D1', name: 'Utopie' },
    { id: 'D2', name: 'Transformation' },
    { id: 'D3', name: 'Spiritualit√§t' },
    { id: 'E1', name: 'B√ºndnisse' },
    { id: 'E2', name: 'Ebenen' },
    { id: 'E3', name: 'Bildung' },
    { id: 'F1', name: 'Technologie' },
    { id: 'F2', name: 'Demokratieform' },
    { id: 'F3', name: 'Gewalt/Mittel' }
  ];
  
  let html = '<div class="karte-wrapper">';
  html += '<div class="karte-header">‚Üê gem√§√üigt | radikal ‚Üí</div>';
  
  if (hasFieber) html += '<p style="color: #FF9800; font-size: 0.8rem; margin-bottom: 1rem;">üî• Fieber-F√§rbung aktiv</p>';
  if (hasEpoche) html += `<p style="color: #FF9800; font-size: 0.8rem; margin-bottom: 1rem;">üìÖ Bis ${epoche}</p>`;
  
  achsen.forEach(achse => {
    html += `<div class="karte-grid" style="margin-bottom: 1rem;">`;
    html += `<div class="karte-achse-label" style="grid-column: 1 / -1;">${achse.id}: ${achse.name}</div>`;
    
    for (let pos = 1; pos <= 5; pos++) {
      const id = `${achse.id}-${pos}`;
      const knoten = knotenData[id];
      
      if (knoten) {
        const temp = temperaturCache[id] || 0;
        const entstehung = getEpocheForPosition(id);
        const sichtbar = !hasEpoche || entstehung <= epoche;
        const bewohner = [...(knoten.bewohner?.klassiker || []), ...(knoten.bewohner?.zeitgenossen || [])];
        
        const fieberStyle = hasFieber ? 
          `background: ${temp >= 60 ? 'rgba(244,67,54,0.3)' : temp >= 30 ? 'rgba(255,152,0,0.3)' : 'rgba(33,150,243,0.2)'};` : '';
        
        html += `<div class="karte-cell" onclick="showKnoten('${id}')" style="${fieberStyle}${!sichtbar ? 'opacity: 0.2;' : ''}">
          <div class="name">${knoten.name}</div>
          <div class="id">${id}</div>
          ${hasPersonen && bewohner.length > 0 ? `<div style="font-size: 0.6rem; color: #888;">üë§ ${bewohner.length}</div>` : ''}
        </div>`;
      } else {
        html += `<div class="karte-cell" style="opacity: 0.3;">
          <div class="id">${id}</div>
        </div>`;
      }
    }
    html += '</div>';
  });
  
  html += '</div>';
  container.innerHTML = html;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// NETZWERK (3D)
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

let scene, camera, renderer;
let nodeObjects = {};
let linkObjects = [];
let nodes3d = [];
let links3d = [];
let magnetPair = null;

function initNetzwerk() {
  const container = document.getElementById('netzwerk-container');
  const canvas = document.getElementById('netzwerk3d');
  
  if (!container || !canvas) {
    console.error('Netzwerk: Container oder Canvas nicht gefunden');
    return;
  }
  
  // Warte auf Container-Gr√∂√üe
  let width = container.offsetWidth || container.clientWidth;
  let height = container.offsetHeight || container.clientHeight;
  
  // Falls immer noch 0, berechne aus Window
  if (width <= 0) {
    width = window.innerWidth - 80;
  }
  if (height <= 0) {
    height = window.innerHeight - 60;
  }
  
  // Canvas explizit setzen
  canvas.width = width;
  canvas.height = height;
  canvas.style.width = width + 'px';
  canvas.style.height = height + 'px';
  
  // Scene
  scene = new THREE.Scene();
  scene.background = new THREE.Color(0x1a1a1a);
  
  // Camera
  camera = new THREE.PerspectiveCamera(60, width / height, 1, 5000);
  camera.position.z = 800;
  
  // Renderer
  renderer = new THREE.WebGLRenderer({ canvas: canvas, antialias: true });
  renderer.setSize(width, height);
  renderer.setPixelRatio(window.devicePixelRatio);
  
  // Rotation Control
  let isDragging = false;
  let previousMousePosition = { x: 0, y: 0 };
  let targetRotation = { x: 0, y: 0 };
  let hoveredNode = null;
  let draggedNode = null;
  let dragPlane = new THREE.Plane();
  
  canvas.addEventListener('mousedown', (e) => {
    if (e.button === 0 && !hoveredNode) {
      isDragging = true;
      previousMousePosition = { x: e.clientX, y: e.clientY };
    }
  });
  
  canvas.addEventListener('mousemove', (e) => {
    if (isDragging && !draggedNode) {
      const deltaX = e.clientX - previousMousePosition.x;
      const deltaY = e.clientY - previousMousePosition.y;
      targetRotation.y += deltaX * 0.005;
      targetRotation.x += deltaY * 0.005;
      previousMousePosition = { x: e.clientX, y: e.clientY };
    }
  });
  
  canvas.addEventListener('mouseup', () => { isDragging = false; });
  canvas.addEventListener('mouseleave', () => { isDragging = false; });
  
  // Zoom
  canvas.addEventListener('wheel', (e) => {
    e.preventDefault();
    camera.position.z += e.deltaY * 0.5;
    camera.position.z = Math.max(200, Math.min(2000, camera.position.z));
  });
  
  // Daten vorbereiten
  nodes3d = Object.values(knotenData).map(k => ({
    id: k.id,
    name: k.name,
    achse: k.achse,
    position: k.position,
    x: (Math.random() - 0.5) * 600,
    y: (Math.random() - 0.5) * 600,
    z: (Math.random() - 0.5) * 600,
    vx: 0, vy: 0, vz: 0
  }));
  
  console.log('Nodes3d erstellt:', nodes3d.length);
  
  links3d = verbindungenData.map(v => ({
    source: v.von,
    target: v.zu,
    typ: v.typ,
    staerke: v.staerke,
    beschreibung: v.beschreibung
  }));
  
  // Knoten erstellen
  const nodeGeometry = new THREE.SphereGeometry(12, 16, 16);
  const achsenFarben = {
    'A': 0xE53935, 'B': 0x4CAF50, 'C': 0x2196F3, 'D': 0x9C27B0, 'E': 0xFF9800, 'F': 0x00BCD4
  };
  
  nodes3d.forEach(node => {
    const farbe = achsenFarben[node.achse[0]] || 0xffffff;
    const material = new THREE.MeshBasicMaterial({ color: farbe });
    const sphere = new THREE.Mesh(nodeGeometry, material);
    sphere.position.set(node.x, node.y, node.z);
    sphere.userData = { id: node.id, name: node.name };
    scene.add(sphere);
    nodeObjects[node.id] = sphere;
    
    // Label
    const labelCanvas = document.createElement('canvas');
    labelCanvas.width = 256;
    labelCanvas.height = 64;
    const ctx = labelCanvas.getContext('2d');
    ctx.fillStyle = '#ffffff';
    ctx.font = '24px Arial';
    ctx.textAlign = 'center';
    const displayName = node.name.length > 14 ? node.name.substring(0, 12) + '‚Ä¶' : node.name;
    ctx.fillText(displayName, 128, 40);
    
    const labelTexture = new THREE.CanvasTexture(labelCanvas);
    const labelMaterial = new THREE.SpriteMaterial({ map: labelTexture, transparent: true });
    const label = new THREE.Sprite(labelMaterial);
    label.scale.set(80, 20, 1);
    label.position.set(node.x, node.y + 20, node.z);
    scene.add(label);
    nodeObjects[node.id + '_label'] = label;
  });
  
  // Verbindungen erstellen
  links3d.forEach(link => {
    const sourceNode = nodes3d.find(n => n.id === link.source);
    const targetNode = nodes3d.find(n => n.id === link.target);
    if (!sourceNode || !targetNode) return;
    
    const geometry = new THREE.BufferGeometry();
    const positions = new Float32Array([
      sourceNode.x, sourceNode.y, sourceNode.z,
      targetNode.x, targetNode.y, targetNode.z
    ]);
    geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
    
    let color, opacity;
    if (link.typ === 'debatte') {
      color = 0xFF9800;
      opacity = 0.6;
    } else if (link.staerke > 0.8) {
      color = 0x4CAF50;
      opacity = 0.8;
    } else {
      color = 0x555555;
      opacity = 0.3 + link.staerke * 0.4;
    }
    
    const material = new THREE.LineBasicMaterial({ 
      color: color, 
      transparent: true, 
      opacity: opacity,
      linewidth: 1 + link.staerke * 2
    });
    
    const line = new THREE.Line(geometry, material);
    line.userData = { source: link.source, target: link.target, link: link };
    scene.add(line);
    linkObjects.push(line);
  });
  
  // Raycaster
  const raycaster = new THREE.Raycaster();
  const mouse = new THREE.Vector2();
  
  canvas.addEventListener('mousemove', (e) => {
    const rect = canvas.getBoundingClientRect();
    mouse.x = ((e.clientX - rect.left) / rect.width) * 2 - 1;
    mouse.y = -((e.clientY - rect.top) / rect.height) * 2 + 1;
    
    if (draggedNode) {
      raycaster.setFromCamera(mouse, camera);
      const intersect = new THREE.Vector3();
      raycaster.ray.intersectPlane(dragPlane, intersect);
      if (intersect) {
        const node = nodes3d.find(n => n.id === draggedNode.userData.id);
        if (node) {
          node.x = intersect.x;
          node.y = intersect.y;
          node.z = intersect.z;
          
          let nearestDist = Infinity;
          let nearestNode = null;
          nodes3d.forEach(other => {
            if (other.id !== node.id) {
              const dist = Math.sqrt(
                Math.pow(other.x - node.x, 2) + 
                Math.pow(other.y - node.y, 2) + 
                Math.pow(other.z - node.z, 2)
              );
              if (dist < 40 && dist < nearestDist) {
                nearestDist = dist;
                nearestNode = other;
              }
            }
          });
          
          nodes3d.forEach(n => {
            const obj = nodeObjects[n.id];
            if (nearestNode && n.id === nearestNode.id) {
              obj.scale.set(1.3, 1.3, 1.3);
            } else if (n.id !== node.id) {
              obj.scale.set(1, 1, 1);
            }
          });
          
          draggedNode.dropTarget = nearestNode;
        }
      }
    } else {
      raycaster.setFromCamera(mouse, camera);
      const spheres = Object.values(nodeObjects).filter(o => o.type === 'Mesh');
      const intersects = raycaster.intersectObjects(spheres);
      
      if (intersects.length > 0) {
        const newHovered = intersects[0].object;
        if (hoveredNode !== newHovered) {
          if (hoveredNode) hoveredNode.scale.set(1, 1, 1);
          hoveredNode = newHovered;
          hoveredNode.scale.set(1.2, 1.2, 1.2);
          canvas.style.cursor = 'pointer';
        }
      } else {
        if (hoveredNode) {
          hoveredNode.scale.set(1, 1, 1);
          hoveredNode = null;
        }
        canvas.style.cursor = 'grab';
      }
    }
  });
  
  canvas.addEventListener('mousedown', (e) => {
    if (hoveredNode && e.button === 0) {
      draggedNode = hoveredNode;
      canvas.style.cursor = 'grabbing';
      const cameraDirection = new THREE.Vector3();
      camera.getWorldDirection(cameraDirection);
      dragPlane.setFromNormalAndCoplanarPoint(cameraDirection, hoveredNode.position);
      document.getElementById('reaktor-hint').style.display = 'block';
    }
  });
  
  canvas.addEventListener('mouseup', (e) => {
    if (draggedNode) {
      if (draggedNode.dropTarget) {
        const sourceId = draggedNode.userData.id;
        const targetId = draggedNode.dropTarget.id;
        magnetPair = { source: sourceId, target: targetId };
        showReaktion(sourceId, targetId);
      }
      
      nodes3d.forEach(n => {
        const obj = nodeObjects[n.id];
        obj.scale.set(1, 1, 1);
      });
      
      draggedNode = null;
      canvas.style.cursor = hoveredNode ? 'pointer' : 'grab';
      document.getElementById('reaktor-hint').style.display = 'none';
    }
  });
  
  canvas.addEventListener('click', (e) => {
    if (hoveredNode && !draggedNode) {
      showKnoten(hoveredNode.userData.id);
    }
  });
  
  // Animation Loop
  function animate() {
    requestAnimationFrame(animate);
    
    simulate3D();
    
    scene.rotation.y += (targetRotation.y - scene.rotation.y) * 0.1;
    scene.rotation.x += (targetRotation.x - scene.rotation.x) * 0.1;
    
    nodes3d.forEach(node => {
      const sphere = nodeObjects[node.id];
      const label = nodeObjects[node.id + '_label'];
      if (sphere) sphere.position.set(node.x, node.y, node.z);
      if (label) label.position.set(node.x, node.y + 20, node.z);
    });
    
    linkObjects.forEach(line => {
      const sourceNode = nodes3d.find(n => n.id === line.userData.source);
      const targetNode = nodes3d.find(n => n.id === line.userData.target);
      if (sourceNode && targetNode) {
        const positions = line.geometry.attributes.position.array;
        positions[0] = sourceNode.x; positions[1] = sourceNode.y; positions[2] = sourceNode.z;
        positions[3] = targetNode.x; positions[4] = targetNode.y; positions[5] = targetNode.z;
        line.geometry.attributes.position.needsUpdate = true;
      }
    });
    
    renderer.render(scene, camera);
  }
  
  animate();
  
  // Loading-Text entfernen
  const loadingEl = document.getElementById('netzwerk-loading');
  if (loadingEl) loadingEl.style.display = 'none';
  
  console.log('Netzwerk init abgeschlossen');
  
  window.addEventListener('resize', () => {
    let w = container.clientWidth || container.offsetWidth;
    let h = container.clientHeight || container.offsetHeight;
    if (w <= 0) w = window.innerWidth - 80;
    if (h <= 0) h = window.innerHeight - 60;
    camera.aspect = w / h;
    camera.updateProjectionMatrix();
    renderer.setSize(w, h);
  });
}

function simulate3D() {
  const alpha = 0.02;
  const repulsion = 3000;
  const attraction = 0.01;
  const centerForce = 0.001;
  
  for (let i = 0; i < nodes3d.length; i++) {
    for (let j = i + 1; j < nodes3d.length; j++) {
      const a = nodes3d[i];
      const b = nodes3d[j];
      const dx = b.x - a.x;
      const dy = b.y - a.y;
      const dz = b.z - a.z;
      const dist = Math.sqrt(dx * dx + dy * dy + dz * dz) || 1;
      const force = repulsion / (dist * dist);
      
      const fx = (dx / dist) * force * alpha;
      const fy = (dy / dist) * force * alpha;
      const fz = (dz / dist) * force * alpha;
      
      a.vx -= fx; a.vy -= fy; a.vz -= fz;
      b.vx += fx; b.vy += fy; b.vz += fz;
    }
  }
  
  links3d.forEach(link => {
    const source = nodes3d.find(n => n.id === link.source);
    const target = nodes3d.find(n => n.id === link.target);
    if (!source || !target) return;
    
    const dx = target.x - source.x;
    const dy = target.y - source.y;
    const dz = target.z - source.z;
    const dist = Math.sqrt(dx * dx + dy * dy + dz * dz) || 1;
    
    const targetDist = 100 - link.staerke * 50;
    const force = (dist - targetDist) * attraction * link.staerke;
    
    const fx = (dx / dist) * force;
    const fy = (dy / dist) * force;
    const fz = (dz / dist) * force;
    
    source.vx += fx; source.vy += fy; source.vz += fz;
    target.vx -= fx; target.vy -= fy; target.vz -= fz;
  });
  
  if (magnetPair) {
    const source = nodes3d.find(n => n.id === magnetPair.source);
    const target = nodes3d.find(n => n.id === magnetPair.target);
    if (source && target) {
      const dx = target.x - source.x;
      const dy = target.y - source.y;
      const dz = target.z - source.z;
      const dist = Math.sqrt(dx * dx + dy * dy + dz * dz);
      
      if (dist > 30) {
        const force = 0.1;
        source.vx += (dx / dist) * force * dist;
        source.vy += (dy / dist) * force * dist;
        source.vz += (dz / dist) * force * dist;
        target.vx -= (dx / dist) * force * dist;
        target.vy -= (dy / dist) * force * dist;
        target.vz -= (dz / dist) * force * dist;
      }
    }
  }
  
  nodes3d.forEach(node => {
    node.vx -= node.x * centerForce;
    node.vy -= node.y * centerForce;
    node.vz -= node.z * centerForce;
  });
  
  nodes3d.forEach(node => {
    node.vx *= 0.9; node.vy *= 0.9; node.vz *= 0.9;
    node.x += node.vx; node.y += node.vy; node.z += node.vz;
  });
  
  if (Math.random() < 0.01) {
    const randomNode = nodes3d[Math.floor(Math.random() * nodes3d.length)];
    randomNode.vx += (Math.random() - 0.5) * 3;
    randomNode.vy += (Math.random() - 0.5) * 3;
    randomNode.vz += (Math.random() - 0.5) * 3;
  }
}

function showReaktion(idA, idB) {
  const a = knotenData[idA];
  const b = knotenData[idB];
  if (!a || !b) return;
  
  const analyse = analysiereVerbindung(idA, idB);
  const synthese = generiereSynthese(a, b, analyse);
  
  const panel = document.getElementById('detail-panel');
  panel.innerHTML = `
    <button class="close-btn" onclick="closePanel(); magnetPair = null;">√ó</button>
    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem;">
      <h1 style="font-size: 1.2rem; color: #E53935; margin: 0;">${a.name}</h1>
      <span style="font-size: 1.5rem; color: #666;">‚ü∑</span>
      <h1 style="font-size: 1.2rem; color: #E53935; margin: 0;">${b.name}</h1>
    </div>
    
    <section>
      <h2>Verbindung</h2>
      ${analyse.direkteVerbindung ? `
        <div style="background: #2a2a2a; padding: 1rem; border-radius: 4px; border-left: 3px solid ${analyse.direkteVerbindung.typ === 'debatte' ? '#FF9800' : '#4CAF50'};">
          <strong>${analyse.direkteVerbindung.typ === 'debatte' ? '‚öîÔ∏è Debatte' : 'ü§ù Affinit√§t'}</strong>
          <p style="margin: 0.5rem 0 0 0; color: #aaa;">${analyse.direkteVerbindung.beschreibung || ''}</p>
          <p style="margin: 0.5rem 0 0 0; font-size: 0.85rem;">St√§rke: ${Math.round(analyse.direkteVerbindung.staerke * 100)}%</p>
        </div>
      ` : `
        <div style="background: #2a2a2a; padding: 1rem; border-radius: 4px; border-left: 3px solid #666;">
          <strong>Keine direkte Verbindung dokumentiert</strong>
          ${analyse.pfad ? `<p style="margin: 0.5rem 0 0 0; color: #888; font-size: 0.85rem;">
            Pfad: ${analyse.pfad.map(id => knotenData[id]?.name || id).join(' ‚Üí ')}
          </p>` : ''}
        </div>
      `}
    </section>
    
    ${analyse.gemeinsameNachbarn.length > 0 ? `
    <section>
      <h2>Gemeinsame Nachbarn</h2>
      <div style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
        ${analyse.gemeinsameNachbarn.map(n => `
          <span onclick="showReaktion('${idA}', '${n.id}')" 
                style="background: #333; padding: 0.3rem 0.6rem; border-radius: 3px; cursor: pointer; font-size: 0.85rem;">
            ${n.name}
          </span>
        `).join('')}
      </div>
    </section>
    ` : ''}
    
    <section>
      <h2>Synthese / Spannung</h2>
      <p style="line-height: 1.6;">${synthese.text}</p>
      ${synthese.frage ? `
        <div style="background: #2a2a2a; padding: 0.75rem; border-left: 3px solid #FF9800; margin-top: 1rem; font-style: italic; color: #aaa;">
          ${synthese.frage}
        </div>
      ` : ''}
    </section>
    
    <div style="margin-top: 2rem; display: flex; gap: 0.5rem;">
      <button onclick="showKnoten('${idA}')" style="flex: 1; background: #333; border: none; color: #fff; padding: 0.75rem; cursor: pointer; border-radius: 4px;">
        ‚Üí ${a.name}
      </button>
      <button onclick="showKnoten('${idB}')" style="flex: 1; background: #333; border: none; color: #fff; padding: 0.75rem; cursor: pointer; border-radius: 4px;">
        ‚Üí ${b.name}
      </button>
    </div>
  `;
  panel.classList.add('open');
}

function initListe() {
  const grid = document.getElementById('liste-grid');
  const sortedNodes = Object.values(knotenData).sort((a, b) => {
    if (a.achse < b.achse) return -1;
    if (a.achse > b.achse) return 1;
    return a.position - b.position;
  });
  
  sortedNodes.forEach(k => {
    const div = document.createElement('div');
    div.className = 'liste-item';
    div.innerHTML = `
      <div class="achse">${k.achse}-${k.position}</div>
      <div class="name">${k.name}</div>
      <p class="beschreibung">${k.beschreibung?.substring(0, 100) || ''}...</p>
    `;
    div.onclick = () => showKnoten(k.id);
    grid.appendChild(div);
  });
}

function initDebatten() {
  const container = document.getElementById('debatten-container');
  debattenData.forEach(d => {
    const card = document.createElement('div');
    card.className = 'debatte-card';
    card.innerHTML = `
      <h2>${d.titel}</h2>
      <p class="frage">${d.frage}</p>
      <div class="debatte-seiten">
        <div class="debatte-seite a">
          <h4>üî¥ ${d.seite_a.position}</h4>
          <ul>${d.seite_a.argumente.map(a => `<li>${a}</li>`).join('')}</ul>
        </div>
        <div class="debatte-seite b">
          <h4>üîµ ${d.seite_b.position}</h4>
          <ul>${d.seite_b.argumente.map(a => `<li>${a}</li>`).join('')}</ul>
        </div>
      </div>
      ${d.historisch ? `<div class="debatte-historisch"><strong>${d.historisch.wann}:</strong> ${d.historisch.anlass}<br><strong>Ausgang:</strong> ${d.historisch.ausgang}</div>` : ''}
      ${d.texte?.length ? `<div class="debatte-texte"><strong>Texte:</strong> ${d.texte.map(t => `<a href="${t.url}" target="_blank">${t.autor}</a>`).join(' ¬∑ ')}</div>` : ''}
    `;
    container.appendChild(card);
  });
}

function showKnoten(id) {
  const k = knotenData[id];
  if (!k) return;
  
  const verbindungen = verbindungenData.filter(v => v.von === id || v.zu === id).map(v => ({
    ...v,
    ziel: v.von === id ? v.zu : v.von,
    zielName: knotenData[v.von === id ? v.zu : v.von]?.name
  }));
  
  // Helper: Namen klickbar machen
  const linkifyName = (name) => {
    const cleanName = name.replace(/\s*\(\d{4}.*?\)\s*/g, '').trim();
    return `<span class="person-link" onclick="searchPerson('${cleanName.replace(/'/g, "\\'")}')">${name}</span>`;
  };
  
  document.getElementById('detail-content').innerHTML = `
    <span class="achse-tag">${k.achse}-${k.position}</span>
    <h2>${k.name}</h2>
    <p class="beschreibung">${k.beschreibung}</p>
    ${k.zitate?.length ? `<h3>üí¨ Stimmen</h3>${k.zitate.map(z => `<div class="zitat">"${z.text}"<div class="zitat-autor">‚Äî <span class="person-link" onclick="searchPerson('${z.autor.replace(/'/g, "\\'")}')">${z.autor}</span>${z.quelle ? `, ${z.quelle}` : ''}${z.jahr ? ` (${z.jahr})` : ''}</div></div>`).join('')}` : ''}
    ${k.bewohner?.klassiker?.length ? `<h3>üèõÔ∏è Klassiker</h3><div class="bewohner">${k.bewohner.klassiker.map(b => linkifyName(b)).join('')}</div>` : ''}
    ${k.bewohner?.zeitgenossen?.length ? `<h3>üë§ Zeitgenossen</h3><div class="bewohner">${k.bewohner.zeitgenossen.map(b => linkifyName(b)).join('')}</div>` : ''}
    ${k.literatur?.length ? `<h3>üìö Literatur</h3>${k.literatur.map(l => `<div class="literatur-item"><div class="titel">${l.titel}${l.frei ? '<span class="frei-tag">FREI</span>' : ''}</div><div class="autor">${l.autor}${l.jahr ? ` (${l.jahr})` : ''}</div>${l.notiz ? `<div style="font-size:0.8rem;color:#aaa;margin:0.3rem 0">${l.notiz}</div>` : ''}${l.url ? `<a href="${l.url}" target="_blank">‚Üí Lesen</a>` : ''}</div>`).join('')}` : ''}
    ${k.praxis?.length ? `<h3>‚úä Praxis</h3>${k.praxis.map(p => `<div class="literatur-item"><div class="titel">${p.name}</div><div class="autor">${p.ort}, ${p.zeit}</div><div style="font-size:0.85rem;color:#aaa;margin-top:0.3rem">${p.beschreibung}</div></div>`).join('')}` : ''}
    ${verbindungen.length ? `<h3>üîó Verbindungen</h3><div class="verbindungen">${verbindungen.map(v => `<span class="verbindung ${v.staerke > 0.8 ? 'stark' : ''} ${v.typ === 'debatte' ? 'debatte' : ''}" onclick="showKnoten('${v.ziel}')" title="${v.beschreibung || ''}">${v.zielName}</span>`).join('')}</div>` : ''}
    ${k.fragen?.length ? `<h3>‚ùì Offene Fragen</h3><ul style="list-style:none;font-size:0.9rem;color:#aaa">${k.fragen.map(f => `<li style="margin-bottom:0.5rem">‚Ä¢ ${f}</li>`).join('')}</ul>` : ''}
    ${k.atmosphaere ? `<h3>üå´Ô∏è Atmosph√§re</h3><div class="atmosphaere"><strong>Stimmung:</strong> ${k.atmosphaere.stimmung}<br><strong>Ger√§usche:</strong> ${k.atmosphaere.geraeusche}<br><strong>Geruch:</strong> ${k.atmosphaere.geruch}</div>` : ''}
  `;
  document.getElementById('detail-panel').classList.add('open');
}

// Person suchen und alle ihre Positionen zeigen
function searchPerson(name) {
  // Finde alle Knoten wo diese Person vorkommt
  const gefunden = [];
  Object.values(knotenData).forEach(k => {
    const alleNamen = [
      ...(k.bewohner?.klassiker || []),
      ...(k.bewohner?.zeitgenossen || []),
      ...(k.zitate?.map(z => z.autor) || [])
    ];
    if (alleNamen.some(n => n.includes(name) || name.includes(n.replace(/\s*\(\d{4}.*?\)\s*/g, '').trim()))) {
      gefunden.push(k);
    }
  });
  
  if (gefunden.length === 1) {
    showKnoten(gefunden[0].id);
  } else if (gefunden.length > 1) {
    // Zeige Auswahl
    document.getElementById('detail-content').innerHTML = `
      <h2>üîç ${name}</h2>
      <p style="color: var(--text-secondary)">Diese Person findet sich in ${gefunden.length} Positionen:</p>
      <div class="verbindungen" style="margin-top: 1rem">
        ${gefunden.map(k => `<span class="verbindung" onclick="showKnoten('${k.id}')">${k.name} (${k.achse})</span>`).join('')}
      </div>
    `;
    document.getElementById('detail-panel').classList.add('open');
  } else {
    // Nicht gefunden - zeige Info
    document.getElementById('detail-content').innerHTML = `
      <h2>üë§ ${name}</h2>
      <p style="color: var(--text-secondary)">Noch keine detaillierten Informationen zu dieser Person.</p>
      <p style="color: var(--text-secondary); font-size: 0.9rem; margin-top: 1rem;">Diese Person wird in Zukunft mit Biografie, Werken und Beziehungen zu anderen Denkern erg√§nzt.</p>
    `;
    document.getElementById('detail-panel').classList.add('open');
  }
}

function closePanel() {
  document.getElementById('detail-panel').classList.remove('open');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// SUCHE
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

function globalSearch(query) {
  if (!query || query.length < 2) return;
  
  const q = query.toLowerCase();
  const results = {
    positionen: [],
    personen: [],
    zitate: [],
    stammbaum: []
  };
  
  // Positionen durchsuchen
  Object.values(knotenData).forEach(k => {
    if (k.name.toLowerCase().includes(q) || 
        k.beschreibung.toLowerCase().includes(q) ||
        (k.bewohner?.klassiker || []).some(b => b.toLowerCase().includes(q)) ||
        (k.bewohner?.zeitgenossen || []).some(b => b.toLowerCase().includes(q))) {
      results.positionen.push(k);
    }
    
    // Zitate durchsuchen
    (k.zitate || []).forEach(z => {
      if (z.text.toLowerCase().includes(q) || z.autor.toLowerCase().includes(q)) {
        results.zitate.push({ ...z, position: k });
      }
    });
  });
  
  // Stammbaum durchsuchen
  stammbaumData.stroemungen.forEach(s => {
    if (s.name.toLowerCase().includes(q) || 
        s.kernidee.toLowerCase().includes(q) ||
        (s.werke || []).some(w => w.toLowerCase().includes(q))) {
      results.stammbaum.push(s);
    }
  });
  
  // Ergebnisse anzeigen
  showSearchResults(query, results);
}

function showSearchResults(query, results) {
  const total = results.positionen.length + results.zitate.length + results.stammbaum.length;
  
  let html = `
    <h2>üîç "${query}"</h2>
    <p style="color: var(--text-secondary); margin-bottom: 1.5rem;">${total} Ergebnisse</p>
  `;
  
  if (results.positionen.length) {
    html += `
      <h3>üìç Positionen (${results.positionen.length})</h3>
      <div class="verbindungen" style="margin-bottom: 1.5rem;">
        ${results.positionen.slice(0, 10).map(p => 
          `<span class="verbindung" onclick="showKnoten('${p.id}')">${p.name} <small style="opacity:0.6">(${p.achse})</small></span>`
        ).join('')}
        ${results.positionen.length > 10 ? `<span style="color:#888;font-size:0.8rem;">...und ${results.positionen.length - 10} mehr</span>` : ''}
      </div>
    `;
  }
  
  if (results.stammbaum.length) {
    html += `
      <h3>üë§ Denker*innen (${results.stammbaum.length})</h3>
      <div class="verbindungen" style="margin-bottom: 1.5rem;">
        ${results.stammbaum.slice(0, 10).map(s => 
          `<span class="verbindung" onclick="showStammbaumPerson('${s.id}')">${s.name} <small style="opacity:0.6">(${s.leben || ''})</small></span>`
        ).join('')}
        ${results.stammbaum.length > 10 ? `<span style="color:#888;font-size:0.8rem;">...und ${results.stammbaum.length - 10} mehr</span>` : ''}
      </div>
    `;
  }
  
  if (results.zitate.length) {
    html += `
      <h3>üí¨ Zitate (${results.zitate.length})</h3>
      <div style="margin-bottom: 1.5rem;">
        ${results.zitate.slice(0, 5).map(z => `
          <div class="zitat" style="cursor:pointer;" onclick="showKnoten('${z.position.id}')">
            "${z.text.substring(0, 100)}${z.text.length > 100 ? '...' : ''}"
            <div class="zitat-autor">‚Äî ${z.autor}</div>
          </div>
        `).join('')}
        ${results.zitate.length > 5 ? `<p style="color:#888;font-size:0.8rem;">...und ${results.zitate.length - 5} mehr</p>` : ''}
      </div>
    `;
  }
  
  if (total === 0) {
    html += `<p style="color: var(--text-secondary);">Keine Ergebnisse gefunden.</p>`;
  }
  
  document.getElementById('detail-content').innerHTML = html;
  document.getElementById('detail-panel').classList.add('open');
}

// Stats
document.getElementById('stats').textContent = `${Object.keys(knotenData).length} Positionen ¬∑ ${verbindungenData.length} Verbindungen ¬∑ 21 Linsen`;

// Init - mit Verz√∂gerung f√ºr Layout-Reflow
setTimeout(() => {
  try {
    initNetzwerk();
  } catch(e) {
    console.error('Fehler in initNetzwerk:', e);
  }
}, 50);
initListe();
initDebatten();
initStammbaum();
initSuche();

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// KARTE
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

function initKarte() {
  const container = document.getElementById('karte-container');
  
  const achsen = [
    { id: 'A1', name: 'Reform/Revolution' },
    { id: 'A2', name: 'Subjekt' },
    { id: 'A3', name: 'Staat' },
    { id: 'B1', name: 'Markt/Plan' },
    { id: 'B2', name: 'Besitz' },
    { id: 'B3', name: 'Arbeit' },
    { id: 'C1', name: 'Feminismus' },
    { id: 'C2', name: 'Natur' },
    { id: 'C3', name: 'International' },
    { id: 'D1', name: 'Utopie' },
    { id: 'D2', name: 'Transformation' },
    { id: 'D3', name: 'Spiritualit√§t' },
    { id: 'E1', name: 'B√ºndnisse' },
    { id: 'E2', name: 'Ebenen' },
    { id: 'E3', name: 'Bildung' },
    { id: 'F1', name: 'Technologie' },
    { id: 'F2', name: 'Demokratieform' },
    { id: 'F3', name: 'Gewalt/Mittel' }
  ];
  
  let html = '<div class="karte-wrapper">';
  html += '<div class="karte-header">‚Üê gem√§√üigt | radikal ‚Üí</div>';
  
  achsen.forEach(achse => {
    html += `<div class="karte-grid" style="margin-bottom: 1rem;">`;
    html += `<div class="karte-achse-label" style="grid-column: 1 / -1;">${achse.id}: ${achse.name}</div>`;
    
    for (let pos = 1; pos <= 5; pos++) {
      const id = `${achse.id}-${pos}`;
      const knoten = knotenData[id];
      if (knoten) {
        html += `<div class="karte-cell" onclick="showKnoten('${id}')">
          <div class="name">${knoten.name}</div>
          <div class="id">${id}</div>
        </div>`;
      } else {
        html += `<div class="karte-cell" style="opacity: 0.3;">
          <div class="id">${id}</div>
        </div>`;
      }
    }
    html += '</div>';
  });
  
  html += '</div>';
  container.innerHTML = html;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// ZEITLEISTE
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

function initZeitleiste() {
  const container = document.getElementById('zeitleiste-container');
  
  // Sammle alle historischen Ereignisse
  const ereignisse = [];
  
  Object.values(knotenData).forEach(k => {
    // Klassiker mit Lebensdaten
    k.bewohner?.klassiker?.forEach(person => {
      const match = person.match(/\((\d{4})-(\d{4})\)/);
      if (match) {
        const name = person.replace(/\s*\([^)]*\)/, '');
        ereignisse.push({
          jahr: parseInt(match[1]),
          typ: 'geburt',
          titel: `${name} geboren`,
          beschreibung: `Klassiker f√ºr: ${k.name}`,
          kontext: k.id
        });
      }
    });
    
    // Praxis-Beispiele
    k.praxis?.forEach(p => {
      const match = p.zeit.match(/(\d{4})/);
      if (match) {
        ereignisse.push({
          jahr: parseInt(match[1]),
          typ: 'praxis',
          titel: p.name,
          beschreibung: p.beschreibung,
          ort: p.ort,
          kontext: k.id
        });
      }
    });
    
    // Literatur
    k.literatur?.forEach(l => {
      if (l.jahr && l.jahr < 2000) {
        ereignisse.push({
          jahr: l.jahr,
          typ: 'text',
          titel: `"${l.titel}"`,
          beschreibung: `von ${l.autor}`,
          kontext: k.id
        });
      }
    });
  });
  
  // Sortieren nach Jahr
  ereignisse.sort((a, b) => a.jahr - b.jahr);
  
  // Duplikate entfernen (nach Titel)
  const seen = new Set();
  const unique = ereignisse.filter(e => {
    if (seen.has(e.titel)) return false;
    seen.add(e.titel);
    return true;
  });
  
  let html = '<div class="zeitleiste-wrapper">';
  html += '<h2 style="color: #E53935; margin-bottom: 1.5rem;">Geschichte des linken Denkens</h2>';
  
  unique.slice(0, 50).forEach(e => {
    const icon = e.typ === 'praxis' ? '‚úä' : e.typ === 'text' ? 'üìñ' : 'üë§';
    html += `
      <div class="zeitleiste-item" onclick="showKnoten('${e.kontext}')" style="cursor: pointer;">
        <div class="zeitleiste-jahr">${e.jahr}</div>
        <div class="zeitleiste-content">
          <h3>${icon} ${e.titel}</h3>
          <p>${e.beschreibung}</p>
          ${e.ort ? `<p style="color: #666;">${e.ort}</p>` : ''}
        </div>
      </div>
    `;
  });
  
  html += '</div>';
  container.innerHTML = html;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// BIBLIOTHEK
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

function initBibliothek() {
  const container = document.getElementById('bibliothek-container');
  
  // Sammle alle Literatur
  const buecher = [];
  
  Object.values(knotenData).forEach(k => {
    k.literatur?.forEach(l => {
      buecher.push({
        ...l,
        kontext: k.name,
        kontextId: k.id
      });
    });
  });
  
  // Sortieren: Frei zuerst, dann nach Schwierigkeit
  const frei = buecher.filter(b => b.frei).sort((a, b) => (a.schwierigkeit || 3) - (b.schwierigkeit || 3));
  const nichtFrei = buecher.filter(b => !b.frei).sort((a, b) => (a.schwierigkeit || 3) - (b.schwierigkeit || 3));
  
  let html = '<div class="bibliothek-wrapper">';
  
  html += '<div class="bibliothek-section">';
  html += `<h2>üìñ Frei verf√ºgbar (${frei.length} Texte)</h2>`;
  frei.forEach(b => {
    const sterne = '‚òÖ'.repeat(b.schwierigkeit || 1) + '‚òÜ'.repeat(5 - (b.schwierigkeit || 1));
    html += `
      <div class="buch-item" onclick="showKnoten('${b.kontextId}')" style="cursor: pointer;">
        <div class="buch-info">
          <div class="titel">${b.titel}</div>
          <div class="autor">${b.autor}${b.jahr ? ` (${b.jahr})` : ''}</div>
          <div class="kontext">‚Üí ${b.kontext}</div>
          ${b.notiz ? `<div class="kontext" style="color: #4CAF50;">${b.notiz}</div>` : ''}
        </div>
        <div class="buch-meta">
          <div style="color: #888;">${sterne}</div>
          ${b.url ? `<a href="${b.url}" target="_blank" onclick="event.stopPropagation();">Lesen ‚Üí</a>` : ''}
        </div>
      </div>
    `;
  });
  html += '</div>';
  
  html += '<div class="bibliothek-section">';
  html += `<h2>üìö Weitere Literatur (${nichtFrei.length} Texte)</h2>`;
  nichtFrei.forEach(b => {
    const sterne = '‚òÖ'.repeat(b.schwierigkeit || 1) + '‚òÜ'.repeat(5 - (b.schwierigkeit || 1));
    html += `
      <div class="buch-item" onclick="showKnoten('${b.kontextId}')" style="cursor: pointer;">
        <div class="buch-info">
          <div class="titel">${b.titel}</div>
          <div class="autor">${b.autor}${b.jahr ? ` (${b.jahr})` : ''}</div>
          <div class="kontext">‚Üí ${b.kontext}</div>
        </div>
        <div class="buch-meta">
          <div style="color: #888;">${sterne}</div>
        </div>
      </div>
    `;
  });
  html += '</div>';
  
  html += '</div>';
  container.innerHTML = html;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// PRAXIS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

function initPraxis() {
  const container = document.getElementById('praxis-container');
  
  // Sammle alle Praxis-Beispiele
  const beispiele = [];
  
  Object.values(knotenData).forEach(k => {
    k.praxis?.forEach(p => {
      beispiele.push({
        ...p,
        kontext: k.name,
        kontextId: k.id
      });
    });
  });
  
  // Sortieren nach Zeit (neueste zuerst)
  beispiele.sort((a, b) => {
    const jahrA = parseInt(a.zeit.match(/(\d{4})/)?.[1] || 0);
    const jahrB = parseInt(b.zeit.match(/(\d{4})/)?.[1] || 0);
    return jahrB - jahrA;
  });
  
  let html = '<div class="praxis-wrapper">';
  html += `<h2 style="color: #4CAF50; margin-bottom: 1.5rem;">‚úä ${beispiele.length} Praxis-Beispiele</h2>`;
  html += '<div class="praxis-grid">';
  
  beispiele.forEach(p => {
    html += `
      <div class="praxis-card" onclick="showKnoten('${p.kontextId}')" style="cursor: pointer;">
        <h3>${p.name}</h3>
        <div class="meta">${p.ort} ¬∑ ${p.zeit}</div>
        <div class="beschreibung">${p.beschreibung}</div>
        <div class="kontext">‚Üí ${p.kontext}</div>
      </div>
    `;
  });
  
  html += '</div></div>';
  container.innerHTML = html;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// FRAGEN
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

function initFragen() {
  const container = document.getElementById('fragen-container');
  
  // Sammle alle Fragen
  const fragen = [];
  
  Object.values(knotenData).forEach(k => {
    k.fragen?.forEach(f => {
      fragen.push({
        frage: f,
        kontext: k.name,
        kontextId: k.id
      });
    });
  });
  
  // Zuf√§llig mischen
  fragen.sort(() => Math.random() - 0.5);
  
  let html = '<div class="fragen-wrapper">';
  html += `<h2 style="color: #FF9800; margin-bottom: 1.5rem;">‚ùì ${fragen.length} offene Fragen</h2>`;
  html += '<p style="color: #888; margin-bottom: 1.5rem;">Fragen, auf die das linke Denken noch keine endg√ºltigen Antworten hat...</p>';
  
  fragen.forEach(f => {
    html += `
      <div class="frage-item" onclick="showKnoten('${f.kontextId}')">
        <div class="frage">${f.frage}</div>
        <div class="kontext">gestellt in: ${f.kontext}</div>
      </div>
    `;
  });
  
  html += '</div>';
  container.innerHTML = html;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// ZUFALL
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

function initZufall() {
  showRandomKnoten();
}

function zeigeZufall() {
  // Zeige Zufall-Container
  setAnsicht('netzwerk'); // Zur√ºck zum Netzwerk
  
  // W√§hle zuf√§lligen Knoten
  const ids = Object.keys(knotenData);
  const randomId = ids[Math.floor(Math.random() * ids.length)];
  
  // Zeige ihn im Detail-Panel
  showKnoten(randomId);
  
  // Fliege im 3D-Netzwerk dorthin
  if (nodeObjects[randomId]) {
    const node = nodeObjects[randomId];
    // Sanfte Kamera-Animation zum Knoten
    const targetPos = node.position.clone();
    animateCameraTo(targetPos);
  }
}

function animateCameraTo(targetPos) {
  if (!camera) return;
  
  const startPos = camera.position.clone();
  const endPos = targetPos.clone();
  endPos.z += 200; // Etwas Abstand
  
  let progress = 0;
  const duration = 1000;
  const startTime = Date.now();
  
  function animate() {
    progress = Math.min(1, (Date.now() - startTime) / duration);
    const eased = 1 - Math.pow(1 - progress, 3); // Ease out
    
    camera.position.x = startPos.x + (endPos.x - startPos.x) * eased;
    camera.position.y = startPos.y + (endPos.y - startPos.y) * eased;
    camera.position.z = startPos.z + (endPos.z - startPos.z) * eased;
    
    if (progress < 1) {
      requestAnimationFrame(animate);
    }
  }
  
  animate();
}

function showRandomKnoten() {
  const container = document.getElementById('zufall-container');
  const ids = Object.keys(knotenData);
  const randomId = ids[Math.floor(Math.random() * ids.length)];
  const k = knotenData[randomId];
  
  const zitat = k.zitate?.[0];
  
  let html = `
    <div class="zufall-card">
      <div class="achse">${k.achse}-${k.position}</div>
      <h2>${k.name}</h2>
      <p class="beschreibung">${k.beschreibung}</p>
      ${zitat ? `
        <div class="zitat">
          "${zitat.text}"
          <div style="font-size: 0.8rem; color: #888; margin-top: 0.5rem; font-style: normal;">‚Äî ${zitat.autor}</div>
        </div>
      ` : ''}
      <button class="zufall-btn" onclick="showRandomKnoten()">üé≤ N√§chster Zufall</button>
      <button class="zufall-btn secondary" onclick="showKnoten('${k.id}')">Details ‚Üí</button>
    </div>
  `;
  
  container.innerHTML = html;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// MEIN KOSMOS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

let userVektor = {};

function initKosmos() {
  const container = document.getElementById('kosmos-container');
  
  const achsen = [
    { id: 'A1', name: 'Reform/Revolution', links: 'Reform', rechts: 'Revolution' },
    { id: 'A2', name: 'Subjekt', links: 'Industrieproletariat', rechts: 'Prozesssubjekt' },
    { id: 'A3', name: 'Staat', links: 'Etatismus', rechts: 'Anarchismus' },
    { id: 'B1', name: 'Markt/Plan', links: 'Markt', rechts: 'Zentralplan' },
    { id: 'B2', name: 'Besitz', links: 'Verstaatlichung', rechts: 'Selbstverwaltung' },
    { id: 'B3', name: 'Arbeit', links: 'Vollbesch√§ftigung', rechts: 'Post-Work' },
    { id: 'C1', name: 'Feminismus', links: 'Klassenprimat', rechts: 'Radikalfeminismus' },
    { id: 'C2', name: 'Natur', links: 'Produktivismus', rechts: 'Naturrechte' },
    { id: 'C3', name: 'International', links: 'National', rechts: 'Global' },
    { id: 'D2', name: 'Transformation', links: 'Reform', rechts: 'Revolution' },
    { id: 'E2', name: 'Ebenen', links: 'Zentralismus', rechts: 'Basisdemokratie' }
  ];
  
  let html = '<div class="kosmos-wrapper">';
  html += `
    <div class="kosmos-intro">
      <h2>üß≠ Wo stehst du?</h2>
      <p>Bewege die Regler, um deine Position zu finden. Dann zeigen wir dir deine Nachbarn.</p>
    </div>
  `;
  
  achsen.forEach(a => {
    userVektor[a.id] = 3; // Default: Mitte
    html += `
      <div class="kosmos-slider-group">
        <label>
          <span>${a.name}</span>
          <span class="achse-name">${a.id}</span>
        </label>
        <input type="range" min="1" max="5" value="3" id="slider-${a.id}" oninput="updateKosmos()">
        <div class="labels">
          <span>${a.links}</span>
          <span>${a.rechts}</span>
        </div>
      </div>
    `;
  });
  
  html += '<div id="kosmos-result" class="kosmos-result" style="display: none;"></div>';
  html += '</div>';
  
  container.innerHTML = html;
}

function updateKosmos() {
  // Lese alle Slider-Werte
  Object.keys(userVektor).forEach(id => {
    const slider = document.getElementById(`slider-${id}`);
    if (slider) userVektor[id] = parseInt(slider.value);
  });
  
  // Berechne Distanz zu allen Knoten
  const distanzen = [];
  
  Object.values(knotenData).forEach(k => {
    const achse = k.achse;
    if (userVektor[achse] !== undefined) {
      const distanz = Math.abs(userVektor[achse] - k.position);
      distanzen.push({
        id: k.id,
        name: k.name,
        distanz: distanz,
        achse: achse
      });
    }
  });
  
  // Sortieren nach Distanz
  distanzen.sort((a, b) => a.distanz - b.distanz);
  
  // Zeige Ergebnis
  const resultDiv = document.getElementById('kosmos-result');
  resultDiv.style.display = 'block';
  
  const nahe = distanzen.filter(d => d.distanz === 0);
  const nah = distanzen.filter(d => d.distanz === 1);
  const mittel = distanzen.filter(d => d.distanz === 2);
  
  let html = '<h3>Deine Position im Haus</h3>';
  
  if (nahe.length) {
    html += '<p style="color: #4CAF50; margin: 0.5rem 0;">üéØ Genau hier stehst du:</p>';
    html += '<div class="kosmos-nachbarn">';
    nahe.forEach(d => {
      html += `<span class="kosmos-nachbar" onclick="showKnoten('${d.id}')" style="background: #4CAF50; color: #fff;">${d.name}</span>`;
    });
    html += '</div>';
  }
  
  if (nah.length) {
    html += '<p style="color: #aaa; margin: 1rem 0 0.5rem;">üìç Direkte Nachbarn:</p>';
    html += '<div class="kosmos-nachbarn">';
    nah.slice(0, 10).forEach(d => {
      html += `<span class="kosmos-nachbar" onclick="showKnoten('${d.id}')">${d.name}</span>`;
    });
    html += '</div>';
  }
  
  if (mittel.length) {
    html += '<p style="color: #666; margin: 1rem 0 0.5rem;">üî≠ In Sichtweite:</p>';
    html += '<div class="kosmos-nachbarn">';
    mittel.slice(0, 8).forEach(d => {
      html += `<span class="kosmos-nachbar" onclick="showKnoten('${d.id}')" style="opacity: 0.7;">${d.name}</span>`;
    });
    html += '</div>';
  }
  
  resultDiv.innerHTML = html;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// WG: Das Haus als bewohnter Raum
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

function initWG() {
  const container = document.getElementById('wg-container');
  
  // Stockwerke und Zimmer definieren
  const stockwerke = [
    {
      name: "üèîÔ∏è DACHGESCHOSS ‚Äî Visionen & Tr√§ume",
      beschreibung: "Hier wird getr√§umt, meditiert, in die Ferne geschaut",
      zimmer: [
        { achse: "D1", name: "Utopie-Zimmer", atmosphaere: "B√ºcher bis zur Decke, Fenster nach Nirgendwo" },
        { achse: "D2", name: "Transformations-Labor", atmosphaere: "Baupl√§ne, Modelle, halb fertige Prototypen" },
        { achse: "D3", name: "Meditationsraum", atmosphaere: "Still, Kerzen, ein leises Summen" }
      ]
    },
    {
      name: "üèõÔ∏è ERSTER STOCK ‚Äî Strategie & Subjekt",
      beschreibung: "Hier wird geplant, debattiert, organisiert",
      zimmer: [
        { achse: "A1", name: "Taktik-B√ºro", atmosphaere: "Whiteboards, Zeitpl√§ne, kalter Kaffee" },
        { achse: "A2", name: "Subjekt-Werkstatt", atmosphaere: "Wer sind wir? Poster, Spiegel, Fragezeichen" },
        { achse: "A3", name: "Staatstheorie-Bibliothek", atmosphaere: "Schwere Regale, Staub, verbotene B√ºcher" }
      ]
    },
    {
      name: "üè≠ ERDGESCHOSS ‚Äî √ñkonomie & Arbeit",
      beschreibung: "Hier wird produziert, verteilt, gestritten",
      zimmer: [
        { achse: "B1", name: "Plan-K√ºche", atmosphaere: "Gro√üe Tische, Listen, wer kocht heute?" },
        { achse: "B2", name: "Eigentums-Kammer", atmosphaere: "Schl√ºssel, Vertr√§ge, gemeinsame Kassen" },
        { achse: "B3", name: "Arbeits-Werkstatt", atmosphaere: "Maschinen, Werkzeuge, Pausengong" }
      ]
    },
    {
      name: "üåç SOUTERRAIN ‚Äî Gesellschaft & Welt",
      beschreibung: "Hier werden die Fundamente gelegt",
      zimmer: [
        { achse: "C1", name: "Feminismus-Salon", atmosphaere: "Violette Vorh√§nge, intensive Gespr√§che" },
        { achse: "C2", name: "Natur-Gew√§chshaus", atmosphaere: "Pflanzen, Erde, das Summen von Bienen" },
        { achse: "C3", name: "Internationalismus-Karte", atmosphaere: "Weltkarten, F√§hnchen, Zeitzonen" }
      ]
    },
    {
      name: "üîß KELLER ‚Äî Organisation & Praxis",
      beschreibung: "Hier wird konkret, hier passiert es",
      zimmer: [
        { achse: "E1", name: "B√ºndnis-Schmiede", atmosphaere: "Viele St√ºhle, ein runder Tisch" },
        { achse: "E2", name: "Ebenen-Zentrale", atmosphaere: "Organigramme, Funkger√§te, Kaffee" },
        { achse: "E3", name: "Bildungs-Keller", atmosphaere: "Kreide, Tafeln, Stapel von Flyern" }
      ]
    }
  ];
  
  let html = '<h2 style="color: #E53935; margin-bottom: 0.5rem;">üè† Die WG des linken Denkens</h2>';
  html += '<p style="color: #888; margin-bottom: 2rem;">Das Haus als bewohnter Raum. Jedes Stockwerk eine Dimension, jedes Zimmer eine Achse, jede Position ein Bewohner.</p>';
  
  stockwerke.forEach(stock => {
    html += `<div class="wg-stockwerk">${stock.name}<br><span style="font-size: 0.75rem; color: #666;">${stock.beschreibung}</span></div>`;
    html += '<div class="wg-haus">';
    
    stock.zimmer.forEach(zimmer => {
      const achsenKnoten = Object.values(knotenData).filter(k => k.achse === zimmer.achse);
      const bewohner = achsenKnoten.map(k => k.name).join(', ');
      
      html += `<div class="wg-zimmer" onclick="showKnoten('${achsenKnoten[2]?.id || achsenKnoten[0]?.id}')">
        <h3>${zimmer.name}</h3>
        <div class="bewohner">${bewohner}</div>
        <div class="atmosphaere">"${zimmer.atmosphaere}"</div>
      </div>`;
    });
    
    html += '</div>';
  });
  
  container.innerHTML = html;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// √ñKOSYSTEM: Positionen als Arten
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

function initOekosystem() {
  const container = document.getElementById('oekosystem-container');
  
  // Klassifiziere Positionen nach "√∂kologischer Nische"
  const verbindungsCount = {};
  Object.keys(knotenData).forEach(id => verbindungsCount[id] = 0);
  verbindungenData.forEach(v => {
    verbindungsCount[v.von]++;
    verbindungsCount[v.zu]++;
  });
  
  // Kategorisiere
  const dominant = []; // Viele Verbindungen (>6)
  const pioneer = [];  // In Debatten verwickelt
  const symbionten = []; // Mittlere Verbindungen, keine Debatten
  const nischen = []; // Wenige Verbindungen
  const endangered = []; // Sehr wenige Verbindungen (<3)
  
  const debattenIds = new Set();
  verbindungenData.filter(v => v.typ === 'debatte').forEach(v => {
    debattenIds.add(v.von);
    debattenIds.add(v.zu);
  });
  
  Object.values(knotenData).forEach(k => {
    const count = verbindungsCount[k.id];
    const inDebatte = debattenIds.has(k.id);
    
    if (count >= 7) {
      dominant.push({ ...k, count, typ: 'dominant' });
    } else if (inDebatte) {
      pioneer.push({ ...k, count, typ: 'pioneer' });
    } else if (count >= 4) {
      symbionten.push({ ...k, count, typ: 'symbiont' });
    } else if (count <= 2) {
      endangered.push({ ...k, count, typ: 'endangered' });
    } else {
      nischen.push({ ...k, count, typ: 'nische' });
    }
  });
  
  let html = '<h2 style="color: #4CAF50; margin-bottom: 0.5rem;">üåø Das √ñkosystem des linken Denkens</h2>';
  html += '<p style="color: #888; margin-bottom: 2rem;">Positionen als Arten. Wer dominiert das √ñkosystem? Wer k√§mpft um Ressourcen? Wer lebt in Symbiose? Wer ist vom Aussterben bedroht?</p>';
  
  const zonen = [
    { titel: 'üå≥ Dominante Arten', beschreibung: 'Die gro√üen B√§ume des Waldes ‚Äî stark vernetzt, pr√§gen das √ñkosystem', arten: dominant, klasse: 'dominant' },
    { titel: 'üî• Pionierpflanzen', beschreibung: 'Wachsen in umk√§mpftem Terrain ‚Äî in aktiven Debatten verwickelt', arten: pioneer, klasse: 'pioneer' },
    { titel: 'ü§ù Symbionten', beschreibung: 'Leben in Kooperation ‚Äî gut vernetzt, ohne Konflikte', arten: symbionten, klasse: 'symbiont' },
    { titel: 'üå± Nischenarten', beschreibung: 'Spezialisiert, aber stabil ‚Äî moderate Vernetzung', arten: nischen, klasse: 'nische' },
    { titel: 'ü¶§ Gef√§hrdete Arten', beschreibung: 'Wenig Verbindungen ‚Äî drohen in Vergessenheit zu geraten', arten: endangered, klasse: 'endangered' }
  ];
  
  zonen.forEach(zone => {
    if (zone.arten.length === 0) return;
    html += `<div class="oeko-zone">
      <h3>${zone.titel} <span style="font-weight: normal; color: #666;">(${zone.arten.length})</span></h3>
      <p style="color: #666; margin-bottom: 1rem; font-size: 0.85rem;">${zone.beschreibung}</p>
      <div class="oeko-arten">`;
    
    zone.arten.sort((a, b) => b.count - a.count).forEach(art => {
      html += `<span class="oeko-art ${zone.klasse}" onclick="showKnoten('${art.id}')">${art.name} <span style="color: #666; font-size: 0.7rem;">(${art.count})</span></span>`;
    });
    
    html += '</div></div>';
  });
  
  // Nahrungsketten / Beziehungen
  html += `<div style="margin-top: 2rem; padding-top: 1rem; border-top: 1px solid #333;">
    <h3 style="color: #4CAF50;">üîó √ñkologische Beziehungen</h3>
    <p style="color: #666; margin: 1rem 0;">Einige bemerkenswerte Symbiosen und Konkurrenzen:</p>
    <div style="display: grid; gap: 1rem;">`;
  
  // St√§rkste Affinit√§ten
  const starkeAffinitaeten = verbindungenData
    .filter(v => v.typ === 'affinitaet' && v.staerke >= 0.85)
    .slice(0, 5);
  
  starkeAffinitaeten.forEach(v => {
    const a = knotenData[v.von];
    const b = knotenData[v.zu];
    if (a && b) {
      html += `<div style="background: #252525; padding: 0.75rem; border-radius: 4px; border-left: 3px solid #4CAF50;">
        <strong style="color: #4CAF50;">Symbiose:</strong> ${a.name} ‚Üî ${b.name}
        <div style="color: #888; font-size: 0.8rem; margin-top: 0.25rem;">${v.beschreibung}</div>
      </div>`;
    }
  });
  
  html += '</div></div>';
  
  container.innerHTML = html;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// LABOR: Chemische Reaktionen zwischen Ideen
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

function initLabor() {
  const container = document.getElementById('labor-container');
  
  // Elemente definieren basierend auf Eigenschaften
  const elemente = Object.values(knotenData).map(k => {
    // Verbindungscount
    let count = 0;
    let debattenCount = 0;
    verbindungenData.forEach(v => {
      if (v.von === k.id || v.zu === k.id) {
        count++;
        if (v.typ === 'debatte') debattenCount++;
      }
    });
    
    // Klassifizierung
    let typ = 'stabil';
    if (debattenCount >= 2) typ = 'alkali'; // Hochreaktiv
    else if (count <= 2) typ = 'edelgas'; // Reagiert kaum
    else if (count >= 6) typ = 'katalysator'; // Verbindet viele
    
    // Symbol aus ersten Buchstaben
    const words = k.name.split(/[\s-]+/);
    let symbol = words[0].substring(0, 2);
    if (words.length > 1) {
      symbol = words[0][0] + words[1][0];
    }
    symbol = symbol.toUpperCase();
    
    return { ...k, symbol, typ, count, debattenCount };
  });
  
  let html = '<h2 style="color: #FF9800; margin-bottom: 0.5rem;">‚öóÔ∏è Das Labor der Ideen</h2>';
  html += '<p style="color: #888; margin-bottom: 2rem;">Positionen als chemische Elemente. Manche reagieren heftig miteinander, manche sind stabil, manche katalysieren Verbindungen.</p>';
  
  // Legende
  html += `<div style="display: flex; gap: 1rem; margin-bottom: 1.5rem; flex-wrap: wrap;">
    <span style="color: #f44336;">‚óè Alkali (hochreaktiv, in Debatten)</span>
    <span style="color: #FF9800;">‚óè Katalysator (verbindet viele)</span>
    <span style="color: #4CAF50;">‚óè Stabil (ausgeglichen)</span>
    <span style="color: #9C27B0;">‚óè Edelgas (reagiert kaum)</span>
  </div>`;
  
  // Periodensystem
  html += '<div class="periodensystem">';
  
  elemente.sort((a, b) => {
    const order = { alkali: 0, katalysator: 1, stabil: 2, edelgas: 3 };
    return order[a.typ] - order[b.typ];
  }).forEach(el => {
    html += `<div class="element ${el.typ}" onclick="showKnoten('${el.id}')" title="${el.name}">
      <div class="symbol">${el.symbol}</div>
      <div class="name">${el.name.length > 12 ? el.name.substring(0, 10) + '‚Ä¶' : el.name}</div>
    </div>`;
  });
  
  html += '</div>';
  
  // Reaktionsgleichungen
  html += '<div class="reaktionsgleichung">';
  html += '<h3>üìú Historische Reaktionen</h3>';
  
  const reaktionen = [
    { formel: 'Anarchismus + Leninismus ‚Üí Explosion (1872)', ergebnis: 'Spaltung der Ersten Internationale, Bakunin ausgeschlossen' },
    { formel: 'Klassensubjekt + Multitude ‚Üí Spannung', ergebnis: 'Hardt/Negri vs. orthodoxer Marxismus' },
    { formel: 'Reform + Revolution ‚Üí Doppelstrategie', ergebnis: 'Rosa Luxemburg synthesiert beide' },
    { formel: 'Feminismus + Klassenprimat ‚Üí Debatte', ergebnis: 'Haupt- vs. Nebenwiderspruch' },
    { formel: 'Anarchismus + √ñkologie ‚Üí Sozial√∂kologie', ergebnis: 'Murray Bookchin, Kommunalismus' }
  ];
  
  reaktionen.forEach(r => {
    html += `<div class="reaktion">
      <div class="formel">${r.formel}</div>
      <div class="ergebnis">‚Üí ${r.ergebnis}</div>
    </div>`;
  });
  
  html += '</div>';
  
  // Interaktiver Hinweis
  html += `<div style="margin-top: 2rem; padding: 1rem; background: #252525; border-radius: 8px; color: #888;">
    <strong style="color: #FF9800;">üí° Tipp:</strong> Gehe zum 3D-Netzwerk und ziehe zwei Elemente aufeinander, um ihre Reaktion zu analysieren.
  </div>`;
  
  container.innerHTML = html;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// EPOCHEN: Das Haus in verschiedenen Zeiten
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

function initEpochen() {
  const container = document.getElementById('zeit-container');
  
  const epochen = [
    {
      id: '1848',
      name: '1848 ‚Äî Die Geburt',
      beschreibung: 'Das Jahr der Revolutionen. Marx und Engels ver√∂ffentlichen das Kommunistische Manifest. Die Arbeiterbewegung betritt die Weltb√ºhne.',
      geboren: ['A2-2', 'A3-2', 'C3-3', 'A1-5'],
      aktiv: [],
      geist: 'Die Welt ist jung. Alles scheint m√∂glich. Die Fabriken rauchen, die Barrikaden brennen, die Zukunft geh√∂rt den Massen.'
    },
    {
      id: '1917',
      name: '1917 ‚Äî Der Durchbruch',
      beschreibung: 'Die Russische Revolution. Zum ersten Mal ergreift die Arbeiterklasse die Macht. Hoffnung und Schrecken zugleich.',
      geboren: ['B1-5', 'B2-1', 'E2-1', 'E3-1', 'E3-2'],
      aktiv: ['A3-2', 'A2-2', 'A1-5', 'C3-4'],
      geist: 'Der Staat ist erobert. Aber was nun? B√ºrgerkrieg, Intervention, Mangel. Die Debatten werden h√§rter, die Spaltungen tiefer.'
    },
    {
      id: '1968',
      name: '1968 ‚Äî Die Erweiterung',
      beschreibung: 'Paris, Prag, Berkeley, Mexiko. Neue Subjekte, neue Fragen. Feminismus, √ñkologie, Antirassismus betreten die B√ºhne.',
      geboren: ['C1-3', 'C1-5', 'A3-4', 'A2-4', 'C2-4'],
      aktiv: ['A3-5', 'E1-4', 'D1-3'],
      geist: 'Die alte Linke ist zu eng. Wer ist das revolution√§re Subjekt? Studenten, Frauen, Kolonisierte? Die Phantasie ergreift die Macht.'
    },
    {
      id: '1989',
      name: '1989 ‚Äî Der Zusammenbruch',
      beschreibung: 'Die Mauer f√§llt. Der Realsozialismus endet. Triumphgeheul der Sieger, Orientierungslosigkeit der Linken.',
      geboren: ['D1-4', 'D2-2', 'B2-4'],
      aktiv: ['B1-1', 'A3-3', 'D3-3'],
      tot: ['B1-5', 'B2-1', 'E2-1'],
      geist: 'Was bleibt? Die gro√üen Erz√§hlungen sind diskreditiert. Zeit f√ºr Mikropolitik, Nischen, reale Utopien im Kleinen.'
    },
    {
      id: 'heute',
      name: 'Heute ‚Äî Die Suche',
      beschreibung: 'Klimakrise, Digitalisierung, neue Autoritarismen. Die alten Fragen kehren zur√ºck, aber anders.',
      geboren: ['B3-5', 'C2-5', 'E1-5'],
      aktiv: ['C1-3', 'C2-4', 'A2-4', 'D1-4', 'B3-4'],
      geist: 'Das Haus ist voll, aber chaotisch. Viele Bewohner, wenig Einigkeit. Aber auch: Mehr M√∂glichkeiten als je zuvor. Die Suche geht weiter.'
    }
  ];
  
  let html = '<h2 style="color: #E53935; margin-bottom: 0.5rem;">üåÄ Epochen des linken Denkens</h2>';
  html += '<p style="color: #888; margin-bottom: 2rem;">Dasselbe Haus in verschiedenen historischen Momenten. Wer war schon da? Wer wurde gerade geboren? Wer ist verschwunden?</p>';
  
  html += '<div class="epochen-nav">';
  epochen.forEach((ep, i) => {
    html += `<button class="epoche-btn ${i === 0 ? 'active' : ''}" onclick="showEpoche('${ep.id}')">${ep.name.split(' ‚Äî ')[0]}</button>`;
  });
  html += '</div>';
  
  html += '<div id="epochen-inhalt" class="epochen-inhalt"></div>';
  
  container.innerHTML = html;
  
  // Initial erste Epoche zeigen
  window.epochenData = epochen;
  showEpoche('1848');
}

function showEpoche(id) {
  const ep = window.epochenData.find(e => e.id === id);
  if (!ep) return;
  
  // Buttons aktualisieren
  document.querySelectorAll('.epoche-btn').forEach(btn => {
    btn.classList.toggle('active', btn.textContent === id || btn.textContent === ep.name.split(' ‚Äî ')[0]);
  });
  
  let html = `<h3>${ep.name}</h3>`;
  html += `<p>${ep.beschreibung}</p>`;
  html += `<div style="background: #1a1a1a; padding: 1rem; border-radius: 4px; margin: 1rem 0; font-style: italic; color: #888; border-left: 3px solid #E53935;">"${ep.geist}"</div>`;
  
  if (ep.geboren && ep.geboren.length > 0) {
    html += '<p style="color: #4CAF50; margin-top: 1.5rem;"><strong>üå± In dieser Zeit geboren:</strong></p>';
    html += '<div class="epochen-knoten">';
    ep.geboren.forEach(id => {
      const k = knotenData[id];
      if (k) html += `<span class="geboren" onclick="showKnoten('${id}')">${k.name}</span>`;
    });
    html += '</div>';
  }
  
  if (ep.aktiv && ep.aktiv.length > 0) {
    html += '<p style="color: #FF9800; margin-top: 1rem;"><strong>üî• Besonders aktiv:</strong></p>';
    html += '<div class="epochen-knoten">';
    ep.aktiv.forEach(id => {
      const k = knotenData[id];
      if (k) html += `<span class="aktiv" onclick="showKnoten('${id}')">${k.name}</span>`;
    });
    html += '</div>';
  }
  
  if (ep.tot && ep.tot.length > 0) {
    html += '<p style="color: #666; margin-top: 1rem;"><strong>üíÄ Diskreditiert / verschwunden:</strong></p>';
    html += '<div class="epochen-knoten">';
    ep.tot.forEach(id => {
      const k = knotenData[id];
      if (k) html += `<span class="tot" onclick="showKnoten('${id}')">${k.name}</span>`;
    });
    html += '</div>';
  }
  
  document.getElementById('epochen-inhalt').innerHTML = html;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// STAMMBAUM: Genealogie der Ideen
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

function initStammbaum() {
  const container = document.getElementById('stammbaum-container');
  
  // Ideen-Genealogie definieren
  const generationen = [
    {
      zeit: "Vorl√§ufer (vor 1848)",
      denker: [
        { name: "Rousseau", jahre: "1712-1778", einfluss: ["A3-1", "D1-3"], id: null },
        { name: "Babeuf", jahre: "1760-1797", einfluss: ["A1-5", "B2-1"], id: null },
        { name: "Owen/Fourier", jahre: "~1800", einfluss: ["D1-5", "B2-4"], id: null }
      ]
    },
    {
      zeit: "Gr√ºndergeneration (1848-1890)",
      denker: [
        { name: "Marx", jahre: "1818-1883", einfluss: ["A2-2", "A3-2", "D3-1"], id: "A2-2" },
        { name: "Bakunin", jahre: "1814-1876", einfluss: ["A3-5", "B2-5"], id: "A3-5" },
        { name: "Proudhon", jahre: "1809-1865", einfluss: ["B2-4", "A3-5"], id: null }
      ]
    },
    {
      zeit: "Zweite Generation (1890-1920)",
      denker: [
        { name: "Lenin", jahre: "1870-1924", einfluss: ["A3-2", "E3-1"], id: "A3-2" },
        { name: "Luxemburg", jahre: "1871-1919", einfluss: ["A1-3", "A1-4"], id: "A1-3" },
        { name: "Bernstein", jahre: "1850-1932", einfluss: ["A1-1", "D2-1"], id: "A1-1" },
        { name: "Kropotkin", jahre: "1842-1921", einfluss: ["A3-5", "B2-5"], id: "A3-5" }
      ]
    },
    {
      zeit: "Dritte Generation (1920-1968)",
      denker: [
        { name: "Gramsci", jahre: "1891-1937", einfluss: ["A3-3", "E3-3"], id: "A3-3" },
        { name: "Adorno", jahre: "1903-1969", einfluss: ["D1-2", "D3-1"], id: "D1-2" },
        { name: "Beauvoir", jahre: "1908-1986", einfluss: ["C1-3", "C1-5"], id: "C1-5" },
        { name: "Fanon", jahre: "1925-1961", einfluss: ["C3-3", "A1-5"], id: null }
      ]
    },
    {
      zeit: "Vierte Generation (1968-2000)",
      denker: [
        { name: "Bookchin", jahre: "1921-2006", einfluss: ["C2-5", "E2-4"], id: "C2-5" },
        { name: "Federici", jahre: "*1942", einfluss: ["C1-4", "C1-5"], id: "C1-4" },
        { name: "E.O. Wright", jahre: "1947-2019", einfluss: ["D1-4", "D2-2"], id: "D1-4" },
        { name: "Poulantzas", jahre: "1936-1979", einfluss: ["A3-3"], id: "A3-3" }
      ]
    },
    {
      zeit: "F√ºnfte Generation (2000-heute)",
      denker: [
        { name: "Hardt/Negri", jahre: "*1960/*1933", einfluss: ["A2-4", "A3-4"], id: "A2-4" },
        { name: "Graeber", jahre: "1961-2020", einfluss: ["A3-5", "B3-5"], id: "B3-5" },
        { name: "Fraser", jahre: "*1947", einfluss: ["C1-3", "C1-4"], id: "C1-3" },
        { name: "Srnicek/Williams", jahre: "*1982/*1988", einfluss: ["B3-5", "D1-5"], id: "B3-5" }
      ]
    }
  ];
  
  let html = '<h2 style="color: #4CAF50; margin-bottom: 0.5rem;">üå≥ Genealogie der Ideen</h2>';
  html += '<p style="color: #888; margin-bottom: 2rem;">Wer beeinflusste wen? Die Ahnenreihen des linken Denkens.</p>';
  
  generationen.forEach((gen, i) => {
    html += `<div style="text-align: center; color: #666; font-size: 0.85rem; margin-bottom: 0.5rem;">${gen.zeit}</div>`;
    html += '<div class="stammbaum-generation">';
    
    gen.denker.forEach(d => {
      const clickHandler = d.id ? `onclick="showKnoten('${d.id}')"` : '';
      const style = d.id ? 'cursor: pointer;' : 'opacity: 0.7;';
      html += `<div class="stammbaum-knoten" ${clickHandler} style="${style}">
        <div class="name">${d.name}</div>
        <div class="zeit">${d.jahre}</div>
      </div>`;
    });
    
    html += '</div>';
    
    if (i < generationen.length - 1) {
      html += '<div class="stammbaum-linie"></div>';
    }
  });
  
  html += `<div style="margin-top: 2rem; padding: 1rem; background: #252525; border-radius: 8px; color: #888; max-width: 600px; margin-left: auto; margin-right: auto;">
    <strong style="color: #4CAF50;">Lesehinweis:</strong> Klickbare Namen f√ºhren zu Positionen im Haus. Nicht alle Denker*innen sind als eigene Position erfasst ‚Äî manche sind √ºber ihre Ideen pr√§sent.
  </div>`;
  
  container.innerHTML = html;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// DIALOGE: Imagin√§re Gespr√§che
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

function initDialoge() {
  const container = document.getElementById('dialoge-container');
  
  const dialoge = [
    {
      titel: "Reform oder Revolution?",
      sprecher1: { name: "Rosa Luxemburg", position: "A1-3" },
      sprecher2: { name: "Eduard Bernstein", position: "A1-1" },
      zeilen: [
        { autor: 1, text: "Die Sozialreform ist nicht dem Endziel entgegengesetzt, aber sie ist kein Mittel zur Erreichung des Endziels. Sie ist das Endziel selbst!" },
        { autor: 2, text: "Aber der Kapitalismus bricht nicht zusammen, Rosa. Wir m√ºssen ihn Schritt f√ºr Schritt transformieren." },
        { autor: 1, text: "Und wenn die Herrschenden diese Schritte nicht zulassen? Wenn sie die Spielregeln √§ndern, sobald wir zu gewinnen drohen?" },
        { autor: 2, text: "Dann haben wir die demokratischen Institutionen gest√§rkt, die uns sch√ºtzen." },
        { autor: 1, text: "Die Institutionen der Bourgeoisie werden nie gegen die Bourgeoisie sch√ºtzen. Die Doppelstrategie ‚Äî Reform UND Vorbereitung auf den Bruch ‚Äî das ist der Weg." }
      ]
    },
    {
      titel: "Staat zerschlagen oder besetzen?",
      sprecher1: { name: "Bakunin", position: "A3-5" },
      sprecher2: { name: "Lenin", position: "A3-2" },
      zeilen: [
        { autor: 2, text: "Der b√ºrgerliche Staat muss zerschlagen werden, ja. Aber nur um durch einen proletarischen Staat ersetzt zu werden." },
        { autor: 1, text: "Ein Staat ist ein Staat! Er wird dieselben Herrschaftsstrukturen reproduzieren, egal wer ihn f√ºhrt." },
        { autor: 2, text: "Der Staat stirbt ab, Michail. Er ist nur ein Werkzeug f√ºr die √úbergangsperiode." },
        { autor: 1, text: "Ha! Wann ist je ein Staat freiwillig abgestorben? Die neuen Herren werden neue Gr√ºnde finden, ihre Macht zu behalten." },
        { autor: 2, text: "Ohne Staat k√∂nnen wir uns nicht gegen die Konterrevolution verteidigen." },
        { autor: 1, text: "Die gr√∂√üte Konterrevolution kommt von innen ‚Äî von denen, die im Namen der Revolution herrschen." }
      ]
    },
    {
      titel: "Klasse oder Multitude?",
      sprecher1: { name: "Traditioneller Marxist", position: "A2-2" },
      sprecher2: { name: "Hardt/Negri", position: "A2-4" },
      zeilen: [
        { autor: 1, text: "Die Arbeiterklasse ist das revolution√§re Subjekt. Punkt. Alles andere ist kleinb√ºrgerliche Ablenkung." },
        { autor: 2, text: "Aber wer ist heute noch 'die Arbeiterklasse'? Prek√§re, Migrant*innen, Care-Arbeiter*innen, Studierende ‚Äî sie alle produzieren Wert." },
        { autor: 1, text: "Und genau deshalb verschwimmt alles in eurem Begriff 'Multitude'. Wer f√ºhrt? Wer organisiert?" },
        { autor: 2, text: "Niemand f√ºhrt. Das ist der Punkt. Schwarmorganisation, Netzwerke, emergente Strategien." },
        { autor: 1, text: "Und deshalb scheitern eure Bewegungen. Occupy, Arabischer Fr√ºhling ‚Äî viel Energie, keine dauerhafte Struktur." },
        { autor: 2, text: "Vielleicht ist 'Scheitern' das falsche Wort. Vielleicht transformieren sie die Welt auf Weisen, die eure Kategorien nicht erfassen." }
      ]
    }
  ];
  
  let html = '<h2 style="color: #2196F3; margin-bottom: 0.5rem;">üó£Ô∏è Imagin√§re Dialoge</h2>';
  html += '<p style="color: #888; margin-bottom: 2rem;">Gespr√§che, die so nie stattfanden ‚Äî aber h√§tten stattfinden k√∂nnen.</p>';
  
  dialoge.forEach(d => {
    html += '<div class="dialog-box">';
    html += `<div class="dialog-header">
      <h3 style="color: #fff; margin: 0;">${d.titel}</h3>
      <div>
        <span class="dialog-sprecher links" onclick="showKnoten('${d.sprecher1.position}')">${d.sprecher1.name}</span>
        <span style="color: #666; margin: 0 0.5rem;">vs.</span>
        <span class="dialog-sprecher rechts" onclick="showKnoten('${d.sprecher2.position}')">${d.sprecher2.name}</span>
      </div>
    </div>`;
    
    d.zeilen.forEach(z => {
      const seite = z.autor === 1 ? 'links' : 'rechts';
      const name = z.autor === 1 ? d.sprecher1.name : d.sprecher2.name;
      html += `<div class="dialog-zeile ${seite}">
        <div class="autor">${name}:</div>
        <div class="text">"${z.text}"</div>
      </div>`;
    });
    
    html += '</div>';
  });
  
  html += `<div style="margin-top: 1rem; padding: 1rem; background: #252525; border-radius: 8px; color: #888; max-width: 600px; margin-left: auto; margin-right: auto;">
    <strong style="color: #2196F3;">üìù Hinweis:</strong> Diese Dialoge sind fiktiv, aber basieren auf realen Positionen und Argumenten. Sie dienen der Veranschaulichung, nicht der historischen Dokumentation.
  </div>`;
  
  container.innerHTML = html;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// ZITATE: Thematisch sortiert
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

function initZitate() {
  const container = document.getElementById('zitate-container');
  
  // Sammle alle Zitate aus knotenData
  const alleZitate = [];
  Object.values(knotenData).forEach(k => {
    if (k.zitate && k.zitate.length > 0) {
      k.zitate.forEach(z => {
        alleZitate.push({
          text: z.text,
          autor: z.autor,
          quelle: z.quelle,
          jahr: z.jahr,
          position: k.id,
          positionName: k.name
        });
      });
    }
  });
  
  // Thematische Kategorien
  const themen = {
    "Revolution & Strategie": ["revolution", "reform", "kampf", "macht", "staat", "bewegung"],
    "Klasse & Subjekt": ["klasse", "arbeiter", "proletariat", "volk", "masse"],
    "√ñkonomie & Eigentum": ["eigentum", "kapital", "produktion", "arbeit", "markt"],
    "Utopie & Vision": ["zukunft", "freiheit", "emanzipation", "befreiung", "m√∂glich"],
    "Kritik & Negation": ["kritik", "ideologie", "herrschaft", "unterdr√ºckung"]
  };
  
  let html = '<h2 style="color: #FF9800; margin-bottom: 0.5rem;">üí¨ Zitate-Sammlung</h2>';
  html += '<p style="color: #888; margin-bottom: 2rem;">Die Stimmen des linken Denkens ‚Äî thematisch sortiert.</p>';
  
  // Zuf√§llige Auswahl wenn zu viele
  const shuffled = alleZitate.sort(() => Math.random() - 0.5);
  const ausgew√§hlt = shuffled.slice(0, 20);
  
  ausgew√§hlt.forEach(z => {
    html += `<div class="zitat-card">
      <div class="zitat-text">"${z.text}"</div>
      <div class="zitat-quelle">
        <span class="zitat-autor" onclick="showKnoten('${z.position}')">${z.autor} ‚Üí ${z.positionName}</span>
        <span>${z.quelle || ''} ${z.jahr ? '(' + z.jahr + ')' : ''}</span>
      </div>
    </div>`;
  });
  
  if (alleZitate.length === 0) {
    html += '<p style="color: #666; text-align: center;">Keine Zitate gefunden.</p>';
  }
  
  html += `<div style="margin-top: 1rem; text-align: center; color: #666;">
    ${alleZitate.length} Zitate aus ${Object.keys(knotenData).length} Positionen
    <br><button onclick="initZitate()" style="margin-top: 0.5rem; background: #333; border: none; color: #aaa; padding: 0.5rem 1rem; cursor: pointer; border-radius: 4px;">üé≤ Neue Auswahl</button>
  </div>`;
  
  container.innerHTML = html;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// KONFIGURATOR: Baue deine eigene Position
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

let konfigAuswahl = {};

function initKonfigurator() {
  const container = document.getElementById('konfigurator-container');
  
  const achsenKurz = [
    { id: 'A1', name: 'Reform ‚Üî Revolution', pole: ['Reform', 'Radikale Reform', 'Doppelstrategie', 'Prozess', 'Revolution'] },
    { id: 'A2', name: 'Subjekt', pole: ['Industrie-Proletariat', 'Klasse', 'Erweiterte Klasse', 'Multitude', 'Prozess-Subjekt'] },
    { id: 'A3', name: 'Staat', pole: ['Etatismus', 'Leninismus', 'Terrain', 'Autonomismus', 'Anarchismus'] },
    { id: 'B1', name: 'Markt ‚Üî Plan', pole: ['Marktsozialismus', 'Regulierung', 'Mischsystem', 'Dem. Planung', 'Zentralplanung'] },
    { id: 'B2', name: 'Eigentum', pole: ['Verstaatlichung', '√ñffentlich', 'Gemischt', 'Genossenschaften', 'Selbstverwaltung'] },
    { id: 'B3', name: 'Arbeit', pole: ['Vollbesch√§ftigung', 'Gute Arbeit', 'Reduktion', 'Grundeinkommen', 'Post-Work'] },
    { id: 'C1', name: 'Feminismus', pole: ['Klassenprimat', 'Sozialistisch', 'Intersektional', 'Care-Fokus', 'Radikal'] },
    { id: 'C2', name: 'Natur', pole: ['Produktivismus', 'Gr√ºnes Wachstum', 'Nachhaltig', '√ñkosozialismus', 'Naturrechte'] },
    { id: 'D1', name: 'Utopie', pole: ['Anti-Utopie', 'Negativ', 'Prozess', 'Real-Utopien', 'Konkret'] },
    { id: 'D2', name: 'Transformation', pole: ['Graduell', 'Interstitiell', 'Symbiotisch', 'Rupturell', 'Revolution'] },
    { id: 'E2', name: 'Ebenen', pole: ['Zentralismus', 'F√∂deralismus', 'Mehrebenen', 'Kommunal', 'Basisdemokratie'] }
  ];
  
  let html = '<h2 style="color: #9C27B0; margin-bottom: 0.5rem;">üéõÔ∏è Positions-Konfigurator</h2>';
  html += '<p style="color: #888; margin-bottom: 2rem;">Wo stehst du? W√§hle auf jeder Achse deine Position und finde deine Nachbarn.</p>';
  
  achsenKurz.forEach(achse => {
    html += `<div class="konfig-achse">
      <h3>${achse.name}</h3>
      <div class="konfig-slider">`;
    
    achse.pole.forEach((pol, i) => {
      const id = `${achse.id}-${i + 1}`;
      const selected = konfigAuswahl[achse.id] === (i + 1) ? 'selected' : '';
      html += `<div class="konfig-option ${selected}" onclick="selectKonfig('${achse.id}', ${i + 1})">${pol}</div>`;
    });
    
    html += '</div></div>';
  });
  
  html += '<div id="konfig-result" class="konfig-result" style="display: none;"></div>';
  
  container.innerHTML = html;
}

function selectKonfig(achse, pos) {
  konfigAuswahl[achse] = pos;
  
  // UI aktualisieren
  document.querySelectorAll(`.konfig-achse`).forEach(div => {
    const h3 = div.querySelector('h3');
    if (h3 && h3.textContent.includes(achse.replace(/[0-9]/g, ''))) {
      div.querySelectorAll('.konfig-option').forEach((opt, i) => {
        opt.classList.toggle('selected', i + 1 === pos);
      });
    }
  });
  
  // Ergebnis berechnen wenn genug ausgew√§hlt
  const anzahl = Object.keys(konfigAuswahl).length;
  const resultDiv = document.getElementById('konfig-result');
  
  if (anzahl >= 3) {
    resultDiv.style.display = 'block';
    
    // Finde √§hnlichste Positionen
    const scores = {};
    Object.values(knotenData).forEach(k => {
      let score = 0;
      let matches = 0;
      
      Object.entries(konfigAuswahl).forEach(([achse, pos]) => {
        if (k.achse === achse) {
          const diff = Math.abs(k.position - pos);
          score += (5 - diff);
          matches++;
        }
      });
      
      if (matches > 0) {
        scores[k.id] = { knoten: k, score: score / matches };
      }
    });
    
    const sorted = Object.values(scores).sort((a, b) => b.score - a.score).slice(0, 5);
    
    let resultHtml = '<h3 style="color: #9C27B0; margin-bottom: 1rem;">Deine n√§chsten Nachbarn:</h3>';
    sorted.forEach((s, i) => {
      const opacity = 1 - (i * 0.15);
      resultHtml += `<div style="display: flex; justify-content: space-between; padding: 0.5rem; background: rgba(156, 39, 176, ${opacity * 0.2}); margin-bottom: 0.5rem; border-radius: 4px; cursor: pointer;" onclick="showKnoten('${s.knoten.id}')">
        <span>${s.knoten.name}</span>
        <span style="color: #666;">${Math.round(s.score * 20)}% √úbereinstimmung</span>
      </div>`;
    });
    
    resultHtml += `<p style="color: #666; margin-top: 1rem; font-size: 0.85rem;">${anzahl} von 11 Achsen ausgew√§hlt. Je mehr du w√§hlst, desto pr√§ziser das Ergebnis.</p>`;
    resultHtml += `<button onclick="konfigAuswahl={}; initKonfigurator();" style="margin-top: 1rem; background: #333; border: none; color: #aaa; padding: 0.5rem 1rem; cursor: pointer; border-radius: 4px;">üîÑ Zur√ºcksetzen</button>`;
    
    resultDiv.innerHTML = resultHtml;
  } else {
    resultDiv.innerHTML = `<p style="color: #666;">W√§hle mindestens 3 Positionen, um deine Nachbarn zu finden. (${anzahl}/3)</p>`;
    resultDiv.style.display = 'block';
  }
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// FIEBERKURVE: Was ist gerade hei√ü?
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

function initFieber() {
  const container = document.getElementById('fieber-container');
  
  // Berechne "Temperatur" basierend auf:
  // - Anzahl Verbindungen
  // - Anzahl Debatten
  // - Aktualit√§t (gesch√§tzt)
  
  const temperaturen = Object.values(knotenData).map(k => {
    let temp = 0;
    let debatten = 0;
    
    // Verbindungen z√§hlen
    verbindungenData.forEach(v => {
      if (v.von === k.id || v.zu === k.id) {
        temp += v.staerke * 10;
        if (v.typ === 'debatte') debatten++;
      }
    });
    
    // Aktualit√§tsbonus f√ºr bestimmte Themen
    const heisseThemen = ['√ñkosozialismus', 'Post-Work', 'Grundeinkommen', 'Intersektionalit√§t', 'Multitude', 'Care-Revolution'];
    if (heisseThemen.some(t => k.name.includes(t))) {
      temp += 15;
    }
    
    // Debatten erh√∂hen Temperatur
    temp += debatten * 10;
    
    return { 
      id: k.id, 
      name: k.name, 
      temp: Math.min(100, temp),
      debatten: debatten
    };
  }).sort((a, b) => b.temp - a.temp);
  
  let html = '<h2 style="color: #f44336; margin-bottom: 0.5rem;">üå°Ô∏è Fieberkurve des linken Denkens</h2>';
  html += '<p style="color: #888; margin-bottom: 2rem;">Was wird gerade hei√ü diskutiert? Basierend auf Vernetzung und aktuellen Debatten.</p>';
  
  // Legende
  html += `<div style="display: flex; gap: 2rem; margin-bottom: 2rem; justify-content: center;">
    <span><span style="display: inline-block; width: 12px; height: 12px; background: linear-gradient(to right, #FF9800, #f44336); border-radius: 2px;"></span> Hei√ü (60+)</span>
    <span><span style="display: inline-block; width: 12px; height: 12px; background: linear-gradient(to right, #4CAF50, #FF9800); border-radius: 2px;"></span> Warm (30-60)</span>
    <span><span style="display: inline-block; width: 12px; height: 12px; background: linear-gradient(to right, #2196F3, #4CAF50); border-radius: 2px;"></span> K√ºhl (10-30)</span>
    <span><span style="display: inline-block; width: 12px; height: 12px; background: #444; border-radius: 2px;"></span> Kalt (<10)</span>
  </div>`;
  
  html += '<div class="fieber-skala">';
  
  temperaturen.slice(0, 30).forEach(t => {
    let klasse = 'tot';
    if (t.temp >= 60) klasse = 'heiss';
    else if (t.temp >= 30) klasse = 'warm';
    else if (t.temp >= 10) klasse = 'kalt';
    
    html += `<div class="fieber-zeile">
      <span class="fieber-label" onclick="showKnoten('${t.id}')">${t.name}</span>
      <div class="fieber-bar">
        <div class="fieber-fill ${klasse}" style="width: ${t.temp}%;"></div>
      </div>
      <span style="width: 40px; text-align: right; color: #666; font-size: 0.8rem;">${Math.round(t.temp)}¬∞</span>
    </div>`;
  });
  
  html += '</div>';
  
  // Statistik
  const heiss = temperaturen.filter(t => t.temp >= 60).length;
  const kalt = temperaturen.filter(t => t.temp < 10).length;
  
  html += `<div style="margin-top: 2rem; padding: 1rem; background: #252525; border-radius: 8px; color: #888; max-width: 600px; margin-left: auto; margin-right: auto;">
    <strong style="color: #f44336;">Diagnose:</strong> ${heiss} hei√üe Positionen, ${kalt} kalte. 
    Die hei√üesten Debatten finden um Grundfragen von Subjekt, Staat und Transformation statt.
  </div>`;
  
  container.innerHTML = html;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// PERSONEN-DATENBANK: Vollst√§ndige Biografien
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

const personenDB = {
  // Werden geladen aus externer Quelle oder inline
};

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// SUCH-FUNKTION
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

function initSuche() {
  // Such-Event-Listener
  const suchfeld = document.getElementById('suche-input');
  if (suchfeld) {
    suchfeld.addEventListener('input', debounce(function(e) {
      const query = e.target.value.trim().toLowerCase();
      if (query.length >= 2) {
        zeigeSuchergebnisse(query);
      } else {
        document.getElementById('suche-ergebnisse').innerHTML = '';
        document.getElementById('suche-ergebnisse').style.display = 'none';
      }
    }, 300));
  }
}

function debounce(func, wait) {
  let timeout;
  return function(...args) {
    clearTimeout(timeout);
    timeout = setTimeout(() => func.apply(this, args), wait);
  };
}

function zeigeSuchergebnisse(query) {
  const ergebnisse = {
    positionen: [],
    personen: [],
    zitate: []
  };
  
  // Positionen durchsuchen
  Object.values(knotenData).forEach(k => {
    if (k.name.toLowerCase().includes(query) || 
        k.beschreibung.toLowerCase().includes(query)) {
      ergebnisse.positionen.push({
        id: k.id,
        name: k.name,
        achse: k.achse,
        match: k.name.toLowerCase().includes(query) ? 'name' : 'beschreibung'
      });
    }
  });
  
  // Stammbaum-Personen durchsuchen
  stammbaumData.stroemungen.forEach(s => {
    if (s.name.toLowerCase().includes(query) ||
        (s.kernidee && s.kernidee.toLowerCase().includes(query))) {
      ergebnisse.personen.push({
        id: s.id,
        name: s.name,
        epoche: s.epoche,
        kernidee: s.kernidee
      });
    }
  });
  
  // Zitate durchsuchen
  Object.values(knotenData).forEach(k => {
    if (k.zitate) {
      k.zitate.forEach(z => {
        if (z.text.toLowerCase().includes(query) ||
            z.autor.toLowerCase().includes(query)) {
          ergebnisse.zitate.push({
            text: z.text,
            autor: z.autor,
            quelle: z.quelle,
            knotenId: k.id,
            knotenName: k.name
          });
        }
      });
    }
  });
  
  // Ergebnisse anzeigen
  const container = document.getElementById('suche-ergebnisse');
  
  if (ergebnisse.positionen.length === 0 && 
      ergebnisse.personen.length === 0 && 
      ergebnisse.zitate.length === 0) {
    container.innerHTML = `<div class="suche-leer">Keine Ergebnisse f√ºr "${query}"</div>`;
    container.style.display = 'block';
    return;
  }
  
  let html = '';
  
  if (ergebnisse.positionen.length > 0) {
    html += `<div class="suche-kategorie">
      <div class="suche-kategorie-titel">üìç Positionen (${ergebnisse.positionen.length})</div>
      ${ergebnisse.positionen.slice(0, 5).map(p => `
        <div class="suche-item" onclick="showKnoten('${p.id}'); closeSuche();">
          <span class="suche-item-name">${p.name}</span>
          <span class="suche-item-meta">${p.achse}</span>
        </div>
      `).join('')}
    </div>`;
  }
  
  if (ergebnisse.personen.length > 0) {
    html += `<div class="suche-kategorie">
      <div class="suche-kategorie-titel">üë§ Denker*innen (${ergebnisse.personen.length})</div>
      ${ergebnisse.personen.slice(0, 5).map(p => `
        <div class="suche-item" onclick="showStammbaumPerson('${p.id}'); closeSuche();">
          <span class="suche-item-name">${p.name}</span>
          <span class="suche-item-meta">${p.kernidee ? p.kernidee.substring(0, 50) + '...' : ''}</span>
        </div>
      `).join('')}
    </div>`;
  }
  
  if (ergebnisse.zitate.length > 0) {
    html += `<div class="suche-kategorie">
      <div class="suche-kategorie-titel">üí¨ Zitate (${ergebnisse.zitate.length})</div>
      ${ergebnisse.zitate.slice(0, 3).map(z => `
        <div class="suche-item" onclick="showKnoten('${z.knotenId}'); closeSuche();">
          <span class="suche-item-zitat">"${z.text.substring(0, 80)}..."</span>
          <span class="suche-item-meta">‚Äî ${z.autor}</span>
        </div>
      `).join('')}
    </div>`;
  }
  
  container.innerHTML = html;
  container.style.display = 'block';
}

function closeSuche() {
  document.getElementById('suche-ergebnisse').style.display = 'none';
  document.getElementById('suche-input').value = '';
}


function initStammbaum() {
  const container = document.getElementById('stammbaum-container');
  
  // SVG-Dimensionen
  const width = 1400;
  const height = 1000;
  const marginLeft = 100;
  const marginTop = 80;
  const epocheHeight = 120;
  const personRadius = 20;
  
  // Epoche Y-Positionen
  const getY = (epocheId) => {
    const epoche = stammbaumData.epochen.find(e => e.id === epocheId);
    return marginTop + (epoche ? epoche.y * epocheHeight : 0) + epocheHeight / 2;
  };
  
  // Person X-Position (x ist relativ: -2 bis +2)
  const getX = (x) => width / 2 + x * 150;
  
  // Finde Position einer Str√∂mung/Person
  const getPos = (id) => {
    const s = stammbaumData.stroemungen.find(st => st.id === id);
    if (!s) return { x: width/2, y: height/2 };
    return { x: getX(s.x), y: getY(s.epoche) };
  };
  
  // SVG erstellen
  let svg = `<svg class="stammbaum-svg" viewBox="0 0 ${width} ${height}" xmlns="http://www.w3.org/2000/svg">`;
  
  // Hintergrund-Epochen
  stammbaumData.epochen.forEach(epoche => {
    const y = marginTop + epoche.y * epocheHeight;
    svg += `
      <g class="stammbaum-epoche" onclick="showEpoche('${epoche.id}')">
        <rect x="20" y="${y}" width="${width - 40}" height="${epocheHeight - 10}" 
              fill="${epoche.farbe}" opacity="0.15"/>
        <text x="60" y="${y + 25}" class="stammbaum-epoche-label">${epoche.name}</text>
        <text x="60" y="${y + 45}" class="stammbaum-zeit-label">${epoche.zeit}</text>
      </g>
    `;
  });
  
  // Verbindungslinien
  stammbaumData.verbindungen.forEach(v => {
    const von = getPos(v.von);
    const zu = getPos(v.zu);
    const klasse = v.typ === 'konflikt' ? 'konflikt' : 'einfluss';
    
    // Curved line
    const midY = (von.y + zu.y) / 2;
    svg += `<path class="stammbaum-linie ${klasse}" 
                  d="M ${von.x} ${von.y} Q ${von.x} ${midY} ${(von.x + zu.x)/2} ${midY} T ${zu.x} ${zu.y}"/>`;
  });
  
  // Personen/Str√∂mungen
  stammbaumData.stroemungen.forEach(s => {
    const pos = getPos(s.id);
    const r = s.wichtig ? personRadius + 5 : personRadius;
    const epoche = stammbaumData.epochen.find(e => e.id === s.epoche);
    const farbe = epoche ? epoche.farbe : '#888';
    
    svg += `
      <g class="stammbaum-person" onclick="showStammbaumPerson('${s.id}')" transform="translate(${pos.x}, ${pos.y})">
        <circle r="${r}" fill="${farbe}" opacity="0.9"/>
        ${s.wichtig ? `<circle r="${r + 4}" fill="none" stroke="${farbe}" stroke-width="2" opacity="0.5"/>` : ''}
        <text y="${r + 15}" class="stammbaum-label">${s.name}</text>
      </g>
    `;
  });
  
  svg += '</svg>';
  
  // Legende
  const legende = `
    <div class="stammbaum-legende">
      <div class="stammbaum-legende-item">
        <div class="stammbaum-legende-linie" style="background: #4CAF50; border-style: dashed;"></div>
        <span>Einfluss</span>
      </div>
      <div class="stammbaum-legende-item">
        <div class="stammbaum-legende-linie" style="background: #f44336; border-style: dotted;"></div>
        <span>Konflikt</span>
      </div>
      <div class="stammbaum-legende-item">
        <span style="display:inline-block;width:20px;height:20px;border-radius:50%;border:3px solid #888;margin-right:0.5rem;"></span>
        <span>Zentrale Figur</span>
      </div>
    </div>
  `;
  
  container.innerHTML = `
    <div class="stammbaum-wrapper">
      ${svg}
    </div>
    ${legende}
  `;
}

function showEpoche(epocheId) {
  const epoche = stammbaumData.epochen.find(e => e.id === epocheId);
  if (!epoche) return;
  
  const personen = stammbaumData.stroemungen.filter(s => s.epoche === epocheId);
  
  document.getElementById('detail-content').innerHTML = `
    <span class="achse-tag" style="background: ${epoche.farbe}; color: #000;">${epoche.zeit}</span>
    <h2>${epoche.name}</h2>
    <p class="beschreibung">${epoche.beschreibung}</p>
    <h3>üë§ Denker*innen dieser Epoche</h3>
    <div class="verbindungen">
      ${personen.map(p => `<span class="verbindung" onclick="showStammbaumPerson('${p.id}')">${p.name}</span>`).join('')}
    </div>
  `;
  document.getElementById('detail-panel').classList.add('open');
}

function showStammbaumPerson(personId) {
  const person = stammbaumData.stroemungen.find(s => s.id === personId);
  if (!person) return;
  
  const epoche = stammbaumData.epochen.find(e => e.id === person.epoche);
  
  // Finde Einfl√ºsse
  const beeinflusst_von = stammbaumData.verbindungen
    .filter(v => v.zu === personId && v.typ === 'einfluss')
    .map(v => stammbaumData.stroemungen.find(s => s.id === v.von))
    .filter(Boolean);
    
  const beeinflusst = stammbaumData.verbindungen
    .filter(v => v.von === personId && v.typ === 'einfluss')
    .map(v => stammbaumData.stroemungen.find(s => s.id === v.zu))
    .filter(Boolean);
    
  const konflikte = stammbaumData.verbindungen
    .filter(v => (v.von === personId || v.zu === personId) && v.typ === 'konflikt')
    .map(v => {
      const otherId = v.von === personId ? v.zu : v.von;
      return stammbaumData.stroemungen.find(s => s.id === otherId);
    })
    .filter(Boolean);
  
  document.getElementById('detail-content').innerHTML = `
    <span class="achse-tag" style="background: ${epoche?.farbe || '#888'}; color: #000;">${epoche?.name || ''}</span>
    <h2>${person.name}</h2>
    ${person.leben ? `<p style="color: var(--text-secondary); margin-bottom: 1rem;">üìÖ ${person.leben}</p>` : ''}
    <p class="beschreibung">${person.kernidee}</p>
    
    ${person.werke?.length ? `
      <h3>üìö Hauptwerke</h3>
      <div class="bewohner">
        ${person.werke.map(w => `<span style="background:#2a2a2a;padding:0.3rem 0.6rem;border-radius:3px;font-size:0.85rem;">${w}</span>`).join('')}
      </div>
    ` : ''}
    
    ${beeinflusst_von.length ? `
      <h3>üì• Beeinflusst von</h3>
      <div class="verbindungen">
        ${beeinflusst_von.map(p => `<span class="verbindung" onclick="showStammbaumPerson('${p.id}')">${p.name}</span>`).join('')}
      </div>
    ` : ''}
    
    ${beeinflusst.length ? `
      <h3>üì§ Hat beeinflusst</h3>
      <div class="verbindungen">
        ${beeinflusst.map(p => `<span class="verbindung" onclick="showStammbaumPerson('${p.id}')">${p.name}</span>`).join('')}
      </div>
    ` : ''}
    
    ${konflikte.length ? `
      <h3>‚öîÔ∏è Konflikte mit</h3>
      <div class="verbindungen">
        ${konflikte.map(p => `<span class="verbindung debatte" onclick="showStammbaumPerson('${p.id}')">${p.name}</span>`).join('')}
      </div>
    ` : ''}
    
    <div style="margin-top: 2rem;">
      <button onclick="searchPerson('${person.name}')" style="background: var(--accent); border: none; color: #000; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer;">
        üîç In Positionen suchen
      </button>
    </div>
  `;
  document.getElementById('detail-panel').classList.add('open');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// PERSONEN: Alle Bewohner*innen des Hauses
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

const personenData = [
  // Gr√ºndergeneration
  { id: "marx", name: "Karl Marx", leben: "1818-1883", kategorie: "klassiker", 
    bio: "Begr√ºnder des wissenschaftlichen Sozialismus, Philosoph und √ñkonom",
    positionen: ["A2-2", "D3-1", "B2-1"], beeinflusst: ["lenin", "luxemburg", "gramsci"] },
  { id: "engels", name: "Friedrich Engels", leben: "1820-1895", kategorie: "klassiker",
    bio: "Mitbegr√ºnder des Marxismus, Theoretiker der Frauenunterdr√ºckung",
    positionen: ["A2-2", "C1-2"], beeinflusst: ["zetkin", "kollontai"] },
  { id: "bakunin", name: "Michail Bakunin", leben: "1814-1876", kategorie: "klassiker",
    bio: "Anarchistischer Revolution√§r, Gegenspieler von Marx in der Ersten Internationale",
    positionen: ["A3-5", "E2-5"], beeinflusst: ["kropotkin", "goldman"] },
  { id: "luxemburg", name: "Rosa Luxemburg", leben: "1871-1919", kategorie: "klassiker",
    bio: "Revolution√§re Sozialistin, Kritikerin von Reformismus und Leninismus",
    positionen: ["A1-3", "A2-2", "D2-4"], beeinflusst: ["gramsci", "arendt"] },
  { id: "kropotkin", name: "Peter Kropotkin", leben: "1842-1921", kategorie: "klassiker",
    bio: "Anarcho-Kommunist, Theoretiker der gegenseitigen Hilfe",
    positionen: ["A3-5", "B2-5", "C2-3"], beeinflusst: ["bookchin", "graeber"] },
  
  // Revolution√§re Generation
  { id: "lenin", name: "Wladimir Lenin", leben: "1870-1924", kategorie: "revolutionaer",
    bio: "F√ºhrer der Oktoberrevolution, Theoretiker der Avantgarde-Partei",
    positionen: ["A3-2", "E3-1", "E2-1"], beeinflusst: ["gramsci", "lukacs"] },
  { id: "trotzki", name: "Leo Trotzki", leben: "1879-1940", kategorie: "revolutionaer",
    bio: "Theoretiker der permanenten Revolution, Kritiker des Stalinismus",
    positionen: ["D2-4", "C3-3"], beeinflusst: ["mandel", "cliff"] },
  { id: "gramsci", name: "Antonio Gramsci", leben: "1891-1937", kategorie: "revolutionaer",
    bio: "Theoretiker der kulturellen Hegemonie, des Stellungskriegs",
    positionen: ["A3-3", "E3-3", "D3-1"], beeinflusst: ["hall", "mouffe", "laclau"] },
  { id: "kollontai", name: "Alexandra Kollontai", leben: "1872-1952", kategorie: "revolutionaer",
    bio: "Bolschewistische Feministin, Theoretikerin der freien Liebe",
    positionen: ["C1-4", "D1-5"], beeinflusst: ["federici"] },
  { id: "goldman", name: "Emma Goldman", leben: "1869-1940", kategorie: "revolutionaer",
    bio: "Anarcha-Feministin, Aktivistin f√ºr Redefreiheit und Geburtenkontrolle",
    positionen: ["A3-5", "C1-5"], beeinflusst: ["davis"] },
  
  // Frankfurter Schule
  { id: "adorno", name: "Theodor W. Adorno", leben: "1903-1969", kategorie: "frankfurt",
    bio: "Kritische Theorie, Kulturindustrie, negative Dialektik",
    positionen: ["D1-2", "D3-1"], beeinflusst: ["habermas", "honneth"] },
  { id: "benjamin", name: "Walter Benjamin", leben: "1892-1940", kategorie: "frankfurt",
    bio: "Kulturkritiker, Geschichtsphilosoph, Flaneur",
    positionen: ["D3-1", "D1-3"], beeinflusst: ["adorno", "agamben"] },
  { id: "marcuse", name: "Herbert Marcuse", leben: "1898-1979", kategorie: "frankfurt",
    bio: "Theoretiker der Neuen Linken, der gro√üen Weigerung",
    positionen: ["D1-3", "A2-3"], beeinflusst: ["davis", "1968er"] },
  { id: "bloch", name: "Ernst Bloch", leben: "1885-1977", kategorie: "frankfurt",
    bio: "Philosoph der Hoffnung, des Noch-Nicht-Bewussten",
    positionen: ["D1-3", "D3-3"], beeinflusst: ["moltmann"] },
  
  // Feminismus
  { id: "beauvoir", name: "Simone de Beauvoir", leben: "1908-1986", kategorie: "feminismus",
    bio: "Pionierin des Feminismus: 'Man wird nicht als Frau geboren'",
    positionen: ["C1-5", "D3-1"], beeinflusst: ["butler", "firestone"] },
  { id: "federici", name: "Silvia Federici", leben: "*1942", kategorie: "feminismus",
    bio: "Marxistische Feministin, Theoretikerin der Reproduktionsarbeit",
    positionen: ["C1-4", "B3-3", "A2-3"], beeinflusst: ["bhattacharya", "arruzza"] },
  { id: "butler", name: "Judith Butler", leben: "*1956", kategorie: "feminismus",
    bio: "Queer-Theoretikerin, Performativit√§t des Geschlechts",
    positionen: ["C1-3", "C1-5", "D3-2"], beeinflusst: ["preciado"] },
  { id: "hooks", name: "bell hooks", leben: "1952-2021", kategorie: "feminismus",
    bio: "Schwarze Feministin, Kulturkritikerin, Bildungstheoretikerin",
    positionen: ["C1-3", "E3-3"], beeinflusst: ["taylor"] },
  { id: "davis", name: "Angela Davis", leben: "*1944", kategorie: "feminismus",
    bio: "Schwarze Revolution√§rin, Abolitionistin, Intersektionalit√§t",
    positionen: ["C1-3", "A3-4", "C3-3"], beeinflusst: ["taylor"] },
  { id: "fraser", name: "Nancy Fraser", leben: "*1947", kategorie: "feminismus",
    bio: "Kritische Theoretikerin, Umverteilung & Anerkennung",
    positionen: ["C1-3", "B1-3", "D3-2"], beeinflusst: ["honneth-debatte"] },
  { id: "haraway", name: "Donna Haraway", leben: "*1944", kategorie: "feminismus",
    bio: "Cyborg-Manifest, Kritik der Naturalisierung",
    positionen: ["C2-4", "C1-3", "D1-5"], beeinflusst: ["posthumanismus"] },
  
  // √ñkologie
  { id: "bookchin", name: "Murray Bookchin", leben: "1921-2006", kategorie: "oekologie",
    bio: "Begr√ºnder der Sozial√∂kologie, des kommunalistischen Anarchismus",
    positionen: ["C2-5", "E2-4", "A3-5"], beeinflusst: ["√∂calan", "rojava"] },
  { id: "gorz", name: "Andr√© Gorz", leben: "1923-2007", kategorie: "oekologie",
    bio: "√ñkosozialist, Kritiker der Arbeitsgesellschaft",
    positionen: ["C2-4", "B3-4"], beeinflusst: ["srnicek", "weeks"] },
  { id: "malm", name: "Andreas Malm", leben: "*1977", kategorie: "oekologie",
    bio: "Klimahistoriker, Theoretiker der Klimagerechtigkeit",
    positionen: ["C2-4", "A1-4"], beeinflusst: ["xr-kritik"] },
  { id: "saito", name: "Kohei Saito", leben: "*1987", kategorie: "oekologie",
    bio: "Marx-Philologe, Degrowth-Kommunismus",
    positionen: ["C2-4", "D3-1", "B1-4"], beeinflusst: ["degrowth-bewegung"] },
  
  // Autonomie & Anarchismus
  { id: "debord", name: "Guy Debord", leben: "1931-1994", kategorie: "autonomie",
    bio: "Situationist, Theoretiker der Spektakelgesellschaft",
    positionen: ["D3-1", "A3-4"], beeinflusst: ["tiqqun", "unsichtbares-komitee"] },
  { id: "graeber", name: "David Graeber", leben: "1961-2020", kategorie: "autonomie",
    bio: "Anarchistischer Anthropologe, Occupy-Aktivist, 'Bullshit Jobs'",
    positionen: ["A3-5", "B3-5", "E2-5"], beeinflusst: ["occupy"] },
  { id: "holloway", name: "John Holloway", leben: "*1947", kategorie: "autonomie",
    bio: "Open Marxist, 'Die Welt ver√§ndern ohne die Macht zu √ºbernehmen'",
    positionen: ["A3-4", "D2-2"], beeinflusst: ["zapatismus-theorie"] },
  
  // Post-Operaismus
  { id: "negri", name: "Antonio Negri", leben: "*1933", kategorie: "operaismus",
    bio: "Post-Operaist, Theoretiker von Empire und Multitude",
    positionen: ["A2-4", "A3-4", "D2-4"], beeinflusst: ["hardt", "virno"] },
  { id: "hardt", name: "Michael Hardt", leben: "*1960", kategorie: "operaismus",
    bio: "Ko-Autor von 'Empire', Theoretiker des Gemeinsamen",
    positionen: ["A2-4", "D1-4", "B2-5"], beeinflusst: [] },
  { id: "bifo", name: "Franco Berardi (Bifo)", leben: "*1948", kategorie: "operaismus",
    bio: "Medientheoretiker, Psychopathologie des Kapitalismus",
    positionen: ["A2-4", "B3-5", "D1-2"], beeinflusst: ["fisher"] },
  
  // Zeitgen√∂ssisch
  { id: "zizek", name: "Slavoj ≈Ωi≈æek", leben: "*1949", kategorie: "zeitgen√∂ssisch",
    bio: "Lacanianischer Marxist, Popkultur-Kritiker",
    positionen: ["D3-1", "A3-2"], beeinflusst: ["poplinks"] },
  { id: "fisher", name: "Mark Fisher", leben: "1968-2017", kategorie: "zeitgen√∂ssisch",
    bio: "Kulturkritiker, 'Kapitalistischer Realismus', Hauntology",
    positionen: ["D1-2", "B3-5", "D3-1"], beeinflusst: ["acid-communism"] },
  { id: "mouffe", name: "Chantal Mouffe", leben: "*1943", kategorie: "zeitgen√∂ssisch",
    bio: "Theoretikerin des Linkspopulismus, des Agonismus",
    positionen: ["A3-3", "E1-3"], beeinflusst: ["laclau", "podemos-theorie"] },
  { id: "srnicek", name: "Nick Srnicek", leben: "*1982", kategorie: "zeitgen√∂ssisch",
    bio: "Akzelerationist, Plattform-Kapitalismus-Kritiker",
    positionen: ["B3-5", "D1-5", "B1-4"], beeinflusst: ["post-work"] },
  { id: "brown", name: "Wendy Brown", leben: "*1955", kategorie: "zeitgen√∂ssisch",
    bio: "Politische Theoretikerin, Neoliberalismus-Kritik",
    positionen: ["A3-3", "D3-1"], beeinflusst: [] },
  
  // Postkolonial
  { id: "fanon", name: "Frantz Fanon", leben: "1925-1961", kategorie: "postkolonial",
    bio: "Antikolonialer Revolution√§r, Psychoanalytiker der Kolonisierten",
    positionen: ["C3-3", "A1-5"], beeinflusst: ["biko", "said"] },
  { id: "spivak", name: "Gayatri Spivak", leben: "*1942", kategorie: "postkolonial",
    bio: "Postkoloniale Theoretikerin, 'Can the Subaltern Speak?'",
    positionen: ["C3-3", "C1-3"], beeinflusst: [] },
  { id: "said", name: "Edward Said", leben: "1935-2003", kategorie: "postkolonial",
    bio: "Literaturwissenschaftler, 'Orientalismus'",
    positionen: ["C3-3", "D3-1"], beeinflusst: [] },
  
  // Deutschsprachig
  { id: "adamczak", name: "Bini Adamczak", leben: "*1979", kategorie: "deutsch",
    bio: "Queer-kommunistische Theoretikerin, 'Beziehungsweise Revolution'",
    positionen: ["D1-3", "C1-3", "D3-3"], beeinflusst: [] },
  { id: "jaeggi", name: "Rahel Jaeggi", leben: "*1967", kategorie: "deutsch",
    bio: "Kritische Theoretikerin, Lebensformen, Kapitalismuskritik",
    positionen: ["D3-1", "D3-2"], beeinflusst: [] },
  { id: "d√∂rre", name: "Klaus D√∂rre", leben: "*1957", kategorie: "deutsch",
    bio: "Arbeitssoziologe, Landnahme-Theorie",
    positionen: ["A2-3", "B3-2"], beeinflusst: [] },
];

let personenFilter = 'alle';

function initPersonen() {
  const container = document.getElementById('personen-container');
  
  const kategorien = {
    'alle': 'Alle',
    'klassiker': 'üèõÔ∏è Klassiker',
    'revolutionaer': '‚úä Revolution√§r',
    'frankfurt': 'üìö Frankfurt',
    'feminismus': '‚ôÄÔ∏è Feminismus',
    'oekologie': 'üåø √ñkologie',
    'autonomie': 'üè¥ Autonomie',
    'operaismus': '‚öôÔ∏è Operaismus',
    'zeitgen√∂ssisch': 'üîÆ Zeitgen√∂ssisch',
    'postkolonial': 'üåç Postkolonial',
    'deutsch': 'üá©üá™ Deutschsprachig'
  };
  
  let html = '<h2 style="color: #9C27B0; margin-bottom: 0.5rem; text-align: center;">üë§ Die Bewohner*innen des Hauses</h2>';
  html += '<p style="color: #888; margin-bottom: 1.5rem; text-align: center;">Wer denkt, streitet und arbeitet hier?</p>';
  
  // Filter
  html += '<div class="personen-filter">';
  Object.entries(kategorien).forEach(([key, label]) => {
    const active = personenFilter === key ? 'active' : '';
    html += `<button class="${active}" onclick="filterPersonen('${key}')">${label}</button>`;
  });
  html += '</div>';
  
  // Grid
  html += '<div class="personen-grid">';
  
  const gefiltert = personenFilter === 'alle' 
    ? personenData 
    : personenData.filter(p => p.kategorie === personenFilter);
  
  gefiltert.forEach(p => {
    const initialen = p.name.split(' ').map(n => n[0]).join('').substring(0, 2);
    const lebt = p.leben.startsWith('*') ? 'üü¢' : '';
    
    html += `<div class="person-card" onclick="showPerson('${p.id}')">
      <div class="header">
        <div class="avatar">${initialen}</div>
        <div class="info">
          <div class="name">${p.name} ${lebt}</div>
          <div class="leben">${p.leben}</div>
        </div>
      </div>
      <div class="bio">${p.bio}</div>
      <div class="positionen">
        ${p.positionen.slice(0, 3).map(pos => {
          const k = knotenData[pos];
          return k ? `<span class="pos-tag" onclick="event.stopPropagation(); showKnoten('${pos}')">${k.name}</span>` : '';
        }).join('')}
      </div>
    </div>`;
  });
  
  html += '</div>';
  
  html += `<div style="margin-top: 2rem; text-align: center; color: #666;">
    ${personenData.length} Denker*innen ¬∑ ${personenData.filter(p => p.leben.startsWith('*')).length} leben noch
  </div>`;
  
  container.innerHTML = html;
}

function filterPersonen(kat) {
  personenFilter = kat;
  initPersonen();
}

function showPerson(id) {
  const p = personenData.find(x => x.id === id);
  if (!p) return;
  
  // Overlay
  const overlay = document.createElement('div');
  overlay.className = 'person-overlay';
  overlay.onclick = () => { overlay.remove(); detail.remove(); };
  document.body.appendChild(overlay);
  
  // Detail
  const detail = document.createElement('div');
  detail.className = 'person-detail';
  
  const lebt = p.leben.startsWith('*');
  
  detail.innerHTML = `
    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1rem;">
      <div>
        <h2 style="color: #fff; margin: 0;">${p.name}</h2>
        <div style="color: #666;">${p.leben} ${lebt ? '(lebt)' : ''}</div>
      </div>
      <button onclick="this.closest('.person-detail').remove(); document.querySelector('.person-overlay').remove();" style="background: none; border: none; color: #666; font-size: 1.5rem; cursor: pointer;">√ó</button>
    </div>
    
    <p style="color: #aaa; line-height: 1.6; margin-bottom: 1.5rem;">${p.bio}</p>
    
    <h3 style="color: #E53935; font-size: 0.9rem; margin-bottom: 0.5rem;">üè† Wohnt in:</h3>
    <div style="display: flex; flex-wrap: wrap; gap: 0.5rem; margin-bottom: 1.5rem;">
      ${p.positionen.map(pos => {
        const k = knotenData[pos];
        return k ? `<span style="background: rgba(229,57,53,0.2); color: #E53935; padding: 0.3rem 0.6rem; border-radius: 4px; cursor: pointer; font-size: 0.85rem;" onclick="showKnoten('${pos}'); this.closest('.person-detail').remove(); document.querySelector('.person-overlay').remove();">${k.name}</span>` : '';
      }).join('')}
    </div>
    
    ${p.beeinflusst && p.beeinflusst.length > 0 ? `
      <h3 style="color: #4CAF50; font-size: 0.9rem; margin-bottom: 0.5rem;">‚Üí Beeinflusste:</h3>
      <div style="color: #888; margin-bottom: 1.5rem;">
        ${p.beeinflusst.map(bid => {
          const b = personenData.find(x => x.id === bid);
          return b ? `<span style="cursor: pointer; text-decoration: underline;" onclick="showPerson('${bid}')">${b.name}</span>` : bid;
        }).join(', ')}
      </div>
    ` : ''}
    
    <div style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid #333; color: #666; font-size: 0.8rem;">
      Klicke auf eine Position, um mehr zu erfahren.
    </div>
  `;
  
  document.body.appendChild(detail);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// DAS ANIMIERTE WESEN
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

let wesenScene, wesenCamera, wesenRenderer, wesen;
let wesenTime = 0;
let wesenMouseX = 0, wesenMouseY = 0;

const achsenFarbenWesen = [
  new THREE.Color(0xE53935), // A - Rot
  new THREE.Color(0x4CAF50), // B - Gr√ºn
  new THREE.Color(0x2196F3), // C - Blau
  new THREE.Color(0x9C27B0), // D - Lila
  new THREE.Color(0xFF9800)  // E - Orange
];

function initWesen() {
  const container = document.getElementById('wesen-container');
  const canvas = document.getElementById('wesen-canvas');
  if (!canvas) return;
  
  const width = container.clientWidth || window.innerWidth;
  const height = container.clientHeight || window.innerHeight - 70;
  
  wesenScene = new THREE.Scene();
  wesenScene.background = new THREE.Color(0x0a0a0a);
  
  wesenCamera = new THREE.PerspectiveCamera(60, width / height, 0.1, 1000);
  wesenCamera.position.z = 5;
  
  wesenRenderer = new THREE.WebGLRenderer({ canvas, antialias: true });
  wesenRenderer.setSize(width, height);
  wesenRenderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
  
  // Das Wesen als deformierbare Kugel
  const geometry = new THREE.IcosahedronGeometry(1.5, 4);
  geometry.userData.originalPositions = geometry.attributes.position.array.slice();
  
  const material = new THREE.MeshBasicMaterial({
    color: 0xE53935,
    wireframe: true,
    transparent: true,
    opacity: 0.6
  });
  
  wesen = new THREE.Mesh(geometry, material);
  wesenScene.add(wesen);
  
  // Innere Kugel
  const kernGeometry = new THREE.IcosahedronGeometry(0.8, 2);
  const kernMaterial = new THREE.MeshBasicMaterial({
    color: 0xffffff,
    wireframe: true,
    transparent: true,
    opacity: 0.15
  });
  const kern = new THREE.Mesh(kernGeometry, kernMaterial);
  wesen.add(kern);
  
  // Partikel
  const particleCount = 300;
  const particleGeometry = new THREE.BufferGeometry();
  const positions = new Float32Array(particleCount * 3);
  const colors = new Float32Array(particleCount * 3);
  
  for (let i = 0; i < particleCount; i++) {
    const theta = Math.random() * Math.PI * 2;
    const phi = Math.acos(Math.random() * 2 - 1);
    const r = 2 + Math.random() * 2;
    
    positions[i * 3] = r * Math.sin(phi) * Math.cos(theta);
    positions[i * 3 + 1] = r * Math.sin(phi) * Math.sin(theta);
    positions[i * 3 + 2] = r * Math.cos(phi);
    
    const color = achsenFarbenWesen[Math.floor(Math.random() * 5)];
    colors[i * 3] = color.r;
    colors[i * 3 + 1] = color.g;
    colors[i * 3 + 2] = color.b;
  }
  
  particleGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
  particleGeometry.setAttribute('color', new THREE.BufferAttribute(colors, 3));
  
  const particleMaterial = new THREE.PointsMaterial({
    size: 0.03,
    vertexColors: true,
    transparent: true,
    opacity: 0.6
  });
  
  const particles = new THREE.Points(particleGeometry, particleMaterial);
  wesenScene.add(particles);
  
  // Mouse tracking
  canvas.addEventListener('mousemove', (e) => {
    const rect = canvas.getBoundingClientRect();
    wesenMouseX = ((e.clientX - rect.left) / rect.width) * 2 - 1;
    wesenMouseY = -((e.clientY - rect.top) / rect.height) * 2 + 1;
  });
  
  // Animation
  function animateWesenLoop() {
    const container = document.getElementById('wesen-container');
    if (!container || container.classList.contains('hidden')) {
      return; // Stop wenn nicht sichtbar
    }
    
    requestAnimationFrame(animateWesenLoop);
    
    wesenTime += 0.01;
    
    // Organische Deformation
    const pos = wesen.geometry.attributes.position.array;
    const orig = wesen.geometry.userData.originalPositions;
    
    for (let i = 0; i < pos.length; i += 3) {
      const ox = orig[i], oy = orig[i + 1], oz = orig[i + 2];
      
      const noise = Math.sin(ox * 2 + wesenTime) * Math.cos(oy * 2 + wesenTime * 0.7) * Math.sin(oz * 2 + wesenTime * 0.5);
      const breathe = 1 + Math.sin(wesenTime * 0.5) * 0.05;
      const pulse = 1 + Math.sin(wesenTime * 2) * 0.02;
      
      const scale = breathe * pulse * (1 + noise * 0.15);
      
      pos[i] = ox * scale;
      pos[i + 1] = oy * scale;
      pos[i + 2] = oz * scale;
    }
    
    wesen.geometry.attributes.position.needsUpdate = true;
    
    // Rotation Richtung Maus
    wesen.rotation.y += (wesenMouseX * 0.3 - wesen.rotation.y) * 0.02;
    wesen.rotation.x += (wesenMouseY * 0.2 - wesen.rotation.x) * 0.02;
    wesen.rotation.z += 0.001;
    
    // Farbwechsel
    const colorIndex = Math.floor((wesenTime * 0.1) % 5);
    const nextColorIndex = (colorIndex + 1) % 5;
    const t = (wesenTime * 0.1) % 1;
    
    const currentColor = achsenFarbenWesen[colorIndex].clone();
    currentColor.lerp(achsenFarbenWesen[nextColorIndex], t);
    wesen.material.color = currentColor;
    
    wesenRenderer.render(wesenScene, wesenCamera);
  }
  
  // Global zug√§nglich machen
  window.animateWesenLoop = animateWesenLoop;
  
  animateWesenLoop();
  
  // Resize
  window.addEventListener('resize', () => {
    const w = container.clientWidth;
    const h = container.clientHeight;
    if (w && h) {
      wesenCamera.aspect = w / h;
      wesenCamera.updateProjectionMatrix();
      wesenRenderer.setSize(w, h);
    }
  });
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// NAVIGATION: Ansichten, Filter, Werkzeuge
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

// Container f√ºr Ansichten
const ansichtContainer = ['netzwerk', 'karte', 'liste', 'wg', 'oekosystem', 'zeitleiste', 'stammbaum'];

// Container f√ºr Werkzeuge (eigene Ansichten)
const werkzeugContainer = ['konfigurator', 'labor', 'zufall', 'fragen', 'wesen'];

// Alle Container
const alleContainer = [...ansichtContainer, ...werkzeugContainer, 'zeit', 'stammbaum', 'dialoge', 'zitate', 'bibliothek', 'praxis', 'fieber', 'personen', 'kosmos', 'debatten'];

// Aktueller Zustand
let aktiveAnsicht = 'netzwerk';
let aktiveFilter = new Set(); // 'personen', 'fieber', 'debatten', 'epoche'
let epocheWert = 2025;

// Ansicht wechseln
function setAnsicht(ansicht) {
  aktiveAnsicht = ansicht;
  
  // Linsen in Palette aktualisieren
  document.querySelectorAll('.linse.ansicht').forEach(l => {
    l.classList.toggle('active', l.dataset.id === ansicht);
  });
  
  // Werkzeug-Linsen deaktivieren
  document.querySelectorAll('.linse.werkzeug').forEach(l => {
    l.classList.remove('active');
  });
  
  // Container wechseln - NUR display setzen, keine Klassen
  alleContainer.forEach(c => {
    const el = document.getElementById(`${c}-container`);
    if (el) {
      if (c === ansicht) {
        el.style.display = 'block';
        el.style.visibility = 'visible';
        el.style.opacity = '1';
      } else {
        el.style.display = 'none';
      }
    }
  });
  
  // Filter anwenden
  applyFilters();
  closePanel();
  closeReaktor();
  updateActiveLinsenDisplay();
  
  // Kombinierbare Filter hervorheben
  highlightCombinable('ansicht', ansicht);
}

// Filter toggle
function toggleFilter(filter) {
  console.log('Toggle Filter:', filter);
  
  if (aktiveFilter.has(filter)) {
    aktiveFilter.delete(filter);
  } else {
    aktiveFilter.add(filter);
  }
  
  // Linsen in Palette aktualisieren
  document.querySelectorAll('.linse.filter').forEach(l => {
    l.classList.toggle('active', aktiveFilter.has(l.dataset.id));
  });
  
  // Epoche-Slider zeigen/verstecken
  const epocheSlider = document.getElementById('epoche-slider-vertical');
  if (epocheSlider) {
    epocheSlider.classList.toggle('visible', aktiveFilter.has('epoche'));
  }
  
  // Filter anwenden
  applyFilters();
  updateActiveLinsenDisplay();
}

// Filter-Bar aktualisieren
function updateFilterBar() {
  const filterBar = document.getElementById('filter-bar');
  const filterChips = document.getElementById('filter-chips');
  const epocheControl = document.getElementById('epoche-control');
  
  if (aktiveFilter.size > 0) {
    filterBar.classList.add('visible');
    
    const filterNames = {
      'personen': 'üë§ Personen',
      'fieber': 'üå°Ô∏è Fieber',
      'debatten': '‚öîÔ∏è Konflikte',
      'epoche': 'üåÄ Epoche'
    };
    
    filterChips.innerHTML = Array.from(aktiveFilter).map(f => `
      <span class="filter-chip">
        ${filterNames[f] || f}
        <span class="remove" onclick="toggleFilter('${f}')">√ó</span>
      </span>
    `).join('');
    
    // Epoche-Slider zeigen wenn aktiv
    epocheControl.classList.toggle('visible', aktiveFilter.has('epoche'));
  } else {
    filterBar.classList.remove('visible');
  }
}

// Epoche aktualisieren
function updateEpoche(wert) {
  epocheWert = parseInt(wert);
  document.getElementById('epoche-wert').textContent = epocheWert === 2025 ? 'bis heute' : `bis ${epocheWert}`;
  applyFilters();
}

// Filter auf aktuelle Ansicht anwenden
function applyFilters() {
  console.log('Wende Filter an:', Array.from(aktiveFilter), 'Epoche:', epocheWert, 'Ansicht:', aktiveAnsicht);
  
  // Netzwerk
  if (aktiveAnsicht === 'netzwerk' && typeof applyFiltersToNetzwerk === 'function') {
    applyFiltersToNetzwerk(aktiveFilter, epocheWert);
  }
  
  // Liste
  if (aktiveAnsicht === 'liste' && typeof applyFiltersToListe === 'function') {
    applyFiltersToListe(aktiveFilter, epocheWert);
  }
  
  // Karte
  if (aktiveAnsicht === 'karte' && typeof applyFiltersToKarte === 'function') {
    applyFiltersToKarte(aktiveFilter, epocheWert);
  }
}

// Werkzeug √∂ffnen
function openWerkzeug(werkzeug) {
  console.log('√ñffne Werkzeug:', werkzeug);
  
  // Linsen in Palette aktualisieren
  document.querySelectorAll('.linse.ansicht').forEach(l => l.classList.remove('active'));
  document.querySelectorAll('.linse.werkzeug').forEach(l => {
    l.classList.toggle('active', l.dataset.id === werkzeug);
  });
  
  // Container wechseln
  alleContainer.forEach(c => {
    const el = document.getElementById(`${c}-container`);
    if (el) {
      const isActive = c === werkzeug;
      el.classList.toggle('hidden', !isActive);
      if (isActive) {
        el.style.display = (c === 'netzwerk' || c === 'wesen') ? 'block' : 'flex';
      } else {
        el.style.display = 'none';
      }
    }
  });
  
  // Spezielle Aktionen
  if (werkzeug === 'wesen' && window.animateWesenLoop) {
    window.animateWesenLoop();
  }
  
  closePanel();
  updateActiveLinsenDisplay();
}

// Event-Listener registrieren
console.log('Navigation-Setup gestartet');

// Ansicht-Buttons
document.querySelectorAll('.ansicht-btn').forEach(btn => {
  btn.addEventListener('click', () => setAnsicht(btn.dataset.ansicht));
});

// Filter-Buttons
document.querySelectorAll('.filter-btn').forEach(btn => {
  btn.addEventListener('click', () => toggleFilter(btn.dataset.filter));
});

// Werkzeug-Buttons
document.querySelectorAll('.werkzeug-btn').forEach(btn => {
  btn.addEventListener('click', () => openWerkzeug(btn.dataset.werkzeug));
});

// Init alle Ansichten
try {
  console.log('Starte initWesen...');
  initWesen();
  console.log('initWesen fertig');
} catch(e) {
  console.error('Fehler in initWesen:', e);
}
initKarte();
initZeitleiste();
initBibliothek();
initPraxis();
initFragen();
initKosmos();
initWG();
initOekosystem();
initLabor();
initEpochen();
initStammbaum();
initDialoge();
initZitate();
initKonfigurator();
initFieber();
initPersonen();

// Stats aktualisieren
document.getElementById('stats').textContent = `${Object.keys(knotenData).length} Positionen ¬∑ ${verbindungenData.length} Verbindungen ¬∑ ${personenData.length} Personen`;

// Initiale Ansicht
setAnsicht('netzwerk');

// Netzwerk nach Layout-Reflow erneut initialisieren
setTimeout(() => {
  const container = document.getElementById('netzwerk-container');
  const canvas = document.getElementById('netzwerk3d');
  if (container && canvas && renderer) {
    const width = container.clientWidth || window.innerWidth - 100;
    const height = container.clientHeight || window.innerHeight - 100;
    console.log('Netzwerk resize:', width, 'x', height);
    renderer.setSize(width, height);
    camera.aspect = width / height;
    camera.updateProjectionMatrix();
  }
}, 100);

console.log('=== ALLE INIT FERTIG ===');

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// LINSEN-INTERAKTION (Spielerisches Interface)
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

let floatingLinse = null; // Welche Linse schwebt gerade?
let cursorX = 0, cursorY = 0;

// Palette ein-/ausklappen
function togglePalette() {
  const palette = document.getElementById('linsen-palette');
  palette.classList.toggle('expanded');
  document.body.classList.toggle('palette-expanded');
}

// Kombinierbare Linsen hervorheben
function highlightCombinable(typ, id) {
  // Erst alle combinable entfernen
  document.querySelectorAll('.linse.combinable').forEach(l => l.classList.remove('combinable'));
  
  if (typ === 'ansicht') {
    // Bei Ansicht: Alle Filter sind kombinierbar
    document.querySelectorAll('.linse.filter').forEach(l => {
      if (!l.classList.contains('active')) {
        l.classList.add('combinable');
      }
    });
  } else if (typ === 'filter') {
    // Bei Filter: Andere Filter sind kombinierbar
    document.querySelectorAll('.linse.filter').forEach(l => {
      if (l.dataset.id !== id && !l.classList.contains('active')) {
        l.classList.add('combinable');
      }
    });
  }
}

// Kombinierbare Hervorhebung entfernen
function clearCombinable() {
  document.querySelectorAll('.linse.combinable').forEach(l => l.classList.remove('combinable'));
}

// Linse aufnehmen
function pickupLinse(element) {
  const typ = element.dataset.typ;
  const id = element.dataset.id;
  const icon = element.textContent.trim().split('\n')[0];
  
  // Wenn bereits eine Linse schwebt, diese zuerst anwenden
  if (floatingLinse) {
    applyFloatingLinse();
    return;
  }
  
  // Werkzeuge sofort ausf√ºhren (kein Schweben)
  if (typ === 'werkzeug') {
    executeWerkzeug(id);
    return;
  }
  
  // Linse aufnehmen
  floatingLinse = { typ, id, icon, element };
  
  // Schwebende Linse zeigen
  const floating = document.getElementById('floating-linse');
  const floatingIcon = document.getElementById('floating-icon');
  floatingIcon.textContent = icon;
  floating.className = `floating-linse visible ${typ}`;
  
  // Hinweis zeigen
  document.getElementById('linse-hint').classList.add('visible');
  
  // Element hervorheben
  element.style.opacity = '0.5';
  
  console.log('Linse aufgenommen:', typ, id);
}

// Linse anwenden (Klick auf Viewport)
function applyFloatingLinse() {
  if (!floatingLinse) return;
  
  const { typ, id, element } = floatingLinse;
  
  // Glow-Effekt
  const glow = document.getElementById('viewport-glow');
  glow.style.boxShadow = typ === 'filter' 
    ? 'inset 0 0 100px 50px rgba(255, 152, 0, 0.3)'
    : 'inset 0 0 100px 50px rgba(229, 57, 53, 0.3)';
  glow.classList.add('active');
  setTimeout(() => glow.classList.remove('active'), 600);
  
  // Anwenden
  if (typ === 'ansicht') {
    setAnsicht(id);
    
    // Alle Ansicht-Linsen deaktivieren, diese aktivieren
    document.querySelectorAll('.linse.ansicht').forEach(l => l.classList.remove('active'));
    element.classList.add('active');
    
    // Kombinierbare Filter hervorheben
    highlightCombinable('ansicht', id);
  } else if (typ === 'filter') {
    toggleFilter(id);
    element.classList.toggle('active', aktiveFilter.has(id));
    
    // Epoche-Slider zeigen/verstecken
    if (id === 'epoche') {
      document.getElementById('epoche-slider-vertical').classList.toggle('visible', aktiveFilter.has('epoche'));
    }
    
    // Kombinierbare Filter hervorheben
    if (aktiveFilter.size > 0) {
      highlightCombinable('filter', id);
    } else {
      clearCombinable();
    }
  }
  
  // Schwebende Linse verstecken
  document.getElementById('floating-linse').classList.remove('visible');
  document.getElementById('linse-hint').classList.remove('visible');
  element.style.opacity = '';
  
  // Aktive Linsen aktualisieren
  updateActiveLinsenDisplay();
  
  floatingLinse = null;
  console.log('Linse angewendet:', typ, id);
}

// Linse ablegen (ESC oder Rechtsklick)
function dropLinse() {
  if (!floatingLinse) return;
  
  floatingLinse.element.style.opacity = '';
  floatingLinse = null;
  
  document.getElementById('floating-linse').classList.remove('visible');
  document.getElementById('linse-hint').classList.remove('visible');
  
  console.log('Linse abgelegt');
}

// Werkzeug ausf√ºhren
function executeWerkzeug(id) {
  console.log('Werkzeug ausf√ºhren:', id);
  
  const glow = document.getElementById('viewport-glow');
  glow.style.boxShadow = 'inset 0 0 100px 50px rgba(156, 39, 176, 0.3)';
  glow.classList.add('active');
  setTimeout(() => glow.classList.remove('active'), 600);
  
  switch(id) {
    case 'zufall':
      zeigeZufall();
      break;
    case 'konfigurator':
      openWerkzeug('konfigurator');
      break;
    case 'labor':
      openWerkzeug('labor');
      break;
    case 'fragen':
      openWerkzeug('fragen');
      break;
    case 'wesen':
      openWerkzeug('wesen');
      break;
  }
}

// Aktive Linsen-Anzeige aktualisieren
function updateActiveLinsenDisplay() {
  const container = document.getElementById('active-linsen');
  let html = '';
  
  // Aktive Ansicht
  const ansichtNames = {
    'netzwerk': 'üï∏Ô∏è Netzwerk',
    'karte': 'üó∫Ô∏è Karte',
    'liste': 'üìã Liste',
    'wg': 'üè† WG',
    'oekosystem': 'üåø √ñkosystem',
    'zeitleiste': '‚è≥ Zeit'
  };
  
  if (aktiveAnsicht && ansichtNames[aktiveAnsicht]) {
    html += `<div class="active-chip ansicht">${ansichtNames[aktiveAnsicht]}</div>`;
  }
  
  // Aktive Filter
  if (aktiveFilter.size > 0) {
    html += '<span class="separator">+</span>';
    
    const filterNames = {
      'personen': 'üë§ Personen',
      'fieber': 'üå°Ô∏è Fieber',
      'debatten': '‚öîÔ∏è Konflikte',
      'epoche': 'üåÄ ' + epocheWert
    };
    
    aktiveFilter.forEach(f => {
      html += `<div class="active-chip filter">
        ${filterNames[f] || f}
        <span class="remove" onclick="removeFilter('${f}')">√ó</span>
      </div>`;
    });
  }
  
  container.innerHTML = html;
}

// Filter entfernen
function removeFilter(id) {
  aktiveFilter.delete(id);
  document.querySelector(`.linse.filter[data-id="${id}"]`)?.classList.remove('active');
  
  if (id === 'epoche') {
    document.getElementById('epoche-slider-vertical').classList.remove('visible');
  }
  
  applyFilters();
  updateActiveLinsenDisplay();
  
  // Hervorhebung aktualisieren
  if (aktiveFilter.size > 0) {
    highlightCombinable('filter', Array.from(aktiveFilter)[0]);
  } else {
    highlightCombinable('ansicht', aktiveAnsicht);
  }
}

// Epoche-Slider (vertikal)
function updateEpocheV(value) {
  epocheWert = parseInt(value);
  document.getElementById('epoche-value-v').textContent = value;
  applyFilters();
  updateActiveLinsenDisplay();
}

// Maus-Tracking f√ºr schwebende Linse
document.addEventListener('mousemove', (e) => {
  cursorX = e.clientX;
  cursorY = e.clientY;
  
  if (floatingLinse) {
    const floating = document.getElementById('floating-linse');
    floating.style.left = cursorX + 'px';
    floating.style.top = cursorY + 'px';
  }
});

// Klick auf Viewport = Linse anwenden
document.addEventListener('click', (e) => {
  if (!floatingLinse) return;
  
  // Nicht anwenden wenn auf Palette geklickt
  if (e.target.closest('.linsen-palette')) return;
  if (e.target.closest('.theme-modal')) return;
  if (e.target.closest('.detail-panel')) return;
  
  applyFloatingLinse();
});

// ESC = Linse ablegen
document.addEventListener('keydown', (e) => {
  if (e.key === 'Escape') {
    dropLinse();
    closePanel();
  }
});

// Rechtsklick = Linse ablegen
document.addEventListener('contextmenu', (e) => {
  if (floatingLinse) {
    e.preventDefault();
    dropLinse();
  }
});

// Initiale Anzeige
updateActiveLinsenDisplay();
highlightCombinable('ansicht', 'netzwerk');

// Netzwerk-Container sichtbar machen
const netzwerkContainer = document.getElementById('netzwerk-container');
if (netzwerkContainer) {
  netzwerkContainer.style.display = 'block';
  netzwerkContainer.classList.remove('hidden');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// THEME-SYSTEM
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

let currentTheme = localStorage.getItem('wesen-theme') || 'default';

function setTheme(theme) {
  // Entferne alle Theme-Klassen
  document.body.classList.remove('theme-myzel', 'theme-barrikade', 'theme-terminal', 'theme-kosmos', 'theme-ruine');
  
  // F√ºge neue Theme-Klasse hinzu (au√üer default)
  if (theme !== 'default') {
    document.body.classList.add(`theme-${theme}`);
  }
  
  // Speichern
  currentTheme = theme;
  localStorage.setItem('wesen-theme', theme);
  
  // UI aktualisieren
  document.querySelectorAll('.theme-option').forEach(opt => {
    opt.classList.toggle('active', opt.dataset.theme === theme);
  });
  
  // Netzwerk-Hintergrund aktualisieren falls vorhanden
  if (scene) {
    const colors = {
      'default': 0x1a1a1a,
      'myzel': 0x0a1208,
      'barrikade': 0x1a0a0a,
      'terminal': 0x0a0a0a,
      'kosmos': 0x050510,
      'ruine': 0x1a1815
    };
    scene.background = new THREE.Color(colors[theme] || 0x1a1a1a);
  }
  
  console.log('Theme gewechselt zu:', theme);
}

function openThemeModal() {
  document.getElementById('theme-modal').classList.add('open');
}

function closeThemeModal() {
  document.getElementById('theme-modal').classList.remove('open');
}

// Theme beim Laden anwenden
setTheme(currentTheme);

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// SHARE / SOCIAL MEDIA
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

function getShareUrl() {
  const url = new URL(window.location.href);
  
  // Aktuelle Ansicht in URL
  url.searchParams.set('ansicht', aktiveAnsicht);
  
  // Aktive Filter
  if (aktiveFilter.size > 0) {
    url.searchParams.set('filter', Array.from(aktiveFilter).join(','));
  }
  
  // Epoche
  if (aktiveFilter.has('epoche')) {
    url.searchParams.set('epoche', epocheWert);
  }
  
  // Theme
  if (currentTheme !== 'default') {
    url.searchParams.set('theme', currentTheme);
  }
  
  return url.toString();
}

function getShareText() {
  const texte = {
    'netzwerk': 'üï∏Ô∏è Entdecke das Netzwerk linker Ideen',
    'karte': 'üó∫Ô∏è Die Landkarte des linken Denkens',
    'liste': 'üìã Alle Positionen im √úberblick',
    'wg': 'üè† Willkommen in der WG linker Ideen',
    'oekosystem': 'üåø Das √ñkosystem politischer Positionen',
    'zeitleiste': '‚è≥ Die Geschichte linker Ideen',
    'wesen': 'ü´Ä Das lebende Wesen des linken Denkens'
  };
  return texte[aktiveAnsicht] || 'Das Wesen des linken Denkens - interaktive Kartografie';
}

function openShareModal() {
  document.getElementById('share-url').value = getShareUrl();
  document.getElementById('share-modal').classList.add('open');
}

function closeShareModal() {
  document.getElementById('share-modal').classList.remove('open');
}

function copyShareUrl() {
  const input = document.getElementById('share-url');
  input.select();
  document.execCommand('copy');
  
  const feedback = document.getElementById('copy-feedback');
  feedback.style.display = 'block';
  setTimeout(() => feedback.style.display = 'none', 2000);
}

function shareToTwitter() {
  const url = encodeURIComponent(getShareUrl());
  const text = encodeURIComponent(getShareText());
  window.open(`https://twitter.com/intent/tweet?url=${url}&text=${text}`, '_blank', 'width=600,height=400');
}

function shareToMastodon() {
  const text = encodeURIComponent(`${getShareText()}\n\n${getShareUrl()}`);
  window.open(`https://mastodon.social/share?text=${text}`, '_blank', 'width=600,height=400');
}

function shareToTelegram() {
  const url = encodeURIComponent(getShareUrl());
  const text = encodeURIComponent(getShareText());
  window.open(`https://t.me/share/url?url=${url}&text=${text}`, '_blank', 'width=600,height=400');
}

function shareToWhatsApp() {
  const text = encodeURIComponent(`${getShareText()}\n${getShareUrl()}`);
  window.open(`https://wa.me/?text=${text}`, '_blank', 'width=600,height=400');
}

function shareToEmail() {
  const subject = encodeURIComponent('Das Wesen des linken Denkens');
  const body = encodeURIComponent(`${getShareText()}\n\n${getShareUrl()}`);
  window.location.href = `mailto:?subject=${subject}&body=${body}`;
}

function createShareImage() {
  // Canvas-Screenshot erstellen
  const mainContainer = document.querySelector('main');
  
  // Einfache Implementierung: Alert mit Hinweis
  alert('Screenshot-Funktion: Nutze die Browser-Funktion (Strg+Shift+S in Firefox) oder ein Screenshot-Tool deiner Wahl.');
  
  // TODO: Implementierung mit html2canvas Bibliothek f√ºr bessere Screenshots
}

// URL-Parameter beim Laden auswerten
function parseUrlParams() {
  const params = new URLSearchParams(window.location.search);
  
  // Ansicht
  const ansicht = params.get('ansicht');
  if (ansicht && ['netzwerk', 'karte', 'liste', 'wg', 'oekosystem', 'zeitleiste'].includes(ansicht)) {
    setAnsicht(ansicht);
  }
  
  // Filter
  const filterParam = params.get('filter');
  if (filterParam) {
    filterParam.split(',').forEach(f => {
      if (['personen', 'fieber', 'debatten', 'epoche'].includes(f)) {
        toggleFilter(f);
      }
    });
  }
  
  // Epoche
  const epocheParam = params.get('epoche');
  if (epocheParam) {
    epocheWert = parseInt(epocheParam);
    document.getElementById('epoche-range').value = epocheWert;
    updateEpoche(epocheWert);
  }
  
  // Theme
  const themeParam = params.get('theme');
  if (themeParam) {
    setTheme(themeParam);
  }
  
  // Position
  const posParam = params.get('pos');
  if (posParam && knotenData[posParam]) {
    setTimeout(() => showKnoten(posParam), 500);
  }
  
  // === NEU: Vom Sozialismus-Generator ===
  
  // Archetyp (z.B. "oekosozialismus")
  const archetypParam = params.get('archetyp');
  
  // Knoten (z.B. "C2-4,B3-4,A1-4")
  const knotenParam = params.get('knoten');
  if (knotenParam) {
    const knoten = knotenParam.split(',');
    console.log('Generator-Knoten:', knoten);
    
    // Zeige Willkommens-Banner
    setTimeout(() => {
      const zimmer = params.get('zimmer') || 'Dein Ort im Wesen';
      showWelcomeBanner(zimmer, knoten, archetypParam);
    }, 800);
    
    // Highlighte die Knoten im Netzwerk
    setTimeout(() => {
      highlightGeneratorKnoten(knoten);
    }, 1200);
  }
  
  // Zimmer (poetische Beschreibung)
  const zimmerParam = params.get('zimmer');
  if (zimmerParam) {
    console.log('Generator-Zimmer:', zimmerParam);
  }
}

// Willkommens-Banner f√ºr Generator-Besucher
function showWelcomeBanner(zimmer, knoten, archetyp) {
  const banner = document.createElement('div');
  banner.id = 'welcome-banner';
  banner.innerHTML = `
    <div style="
      position: fixed;
      top: 60px;
      left: 50%;
      transform: translateX(-50%);
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      border: 2px solid #C62828;
      border-radius: 12px;
      padding: 1.25rem 2rem;
      z-index: 10000;
      max-width: 500px;
      box-shadow: 0 8px 32px rgba(198,40,40,0.3);
      animation: fadeInDown 0.5s ease;
    ">
      <div style="display: flex; align-items: center; gap: 1rem;">
        <span style="font-size: 2rem;">üè†</span>
        <div style="flex: 1;">
          <div style="color: #fff; font-weight: 700; font-size: 1.1rem; margin-bottom: 0.25rem;">
            Willkommen in deinem Zimmer!
          </div>
          <div style="color: #AAA; font-size: 0.9rem;">
            ${zimmer}
          </div>
          <div style="color: #888; font-size: 0.8rem; margin-top: 0.5rem;">
            Deine Positionen: ${knoten.join(' ¬∑ ')}
          </div>
        </div>
        <button onclick="document.getElementById('welcome-banner').remove()" style="
          background: transparent;
          border: 1px solid #666;
          color: #AAA;
          padding: 0.25rem 0.75rem;
          border-radius: 4px;
          cursor: pointer;
        ">√ó</button>
      </div>
    </div>
  `;
  document.body.appendChild(banner);
  
  // Auto-hide nach 8 Sekunden
  setTimeout(() => {
    const b = document.getElementById('welcome-banner');
    if (b) b.style.opacity = '0';
    setTimeout(() => {
      const b2 = document.getElementById('welcome-banner');
      if (b2) b2.remove();
    }, 500);
  }, 8000);
}

// Highlighte Knoten aus dem Generator
function highlightGeneratorKnoten(knotenIds) {
  // Im 3D-Netzwerk: Knoten hervorheben
  if (nodes3d && nodes3d.length > 0) {
    nodes3d.forEach(node => {
      if (knotenIds.includes(node.id)) {
        node.highlighted = true;
        node.size = 1.5; // Gr√∂√üer
      }
    });
    renderNetzwerk3D();
  }
  
  // Im 2D-Modus: Rahmen hinzuf√ºgen
  knotenIds.forEach(id => {
    const el = document.querySelector(`[data-knoten-id="${id}"]`);
    if (el) {
      el.style.boxShadow = '0 0 20px rgba(198,40,40,0.8)';
      el.style.border = '2px solid #C62828';
    }
  });
  
  // √ñffne das erste Knoten-Detail nach kurzer Verz√∂gerung
  if (knotenIds.length > 0 && knotenData[knotenIds[0]]) {
    setTimeout(() => showKnoten(knotenIds[0]), 2000);
  }
}

parseUrlParams();

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// REAKTOR
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

function openReaktor(idA, idB) {
  const a = knotenData[idA];
  const b = knotenData[idB];
  if (!a || !b) return;
  
  document.getElementById('reaktor-a').textContent = a.name;
  document.getElementById('reaktor-b').textContent = b.name;
  
  // Analyse
  const analyse = analysiereVerbindung(idA, idB);
  
  let html = '';
  
  // Sektion 1: Direkte Verbindung
  html += '<div class="reaktor-section">';
  html += '<h3>Direkte Verbindung</h3>';
  
  if (analyse.direkteVerbindung) {
    const v = analyse.direkteVerbindung;
    const typ = v.typ === 'debatte' ? 'debatte' : 'direkt';
    html += `<div class="reaktor-verbindung ${typ}">`;
    html += `<div style="font-size: 1.1rem; color: #fff; margin-bottom: 0.5rem;">`;
    html += v.typ === 'debatte' ? '‚öîÔ∏è Debatte' : 'ü§ù Affinit√§t';
    html += `</div>`;
    html += `<div style="font-size: 0.9rem; color: #aaa;">${v.beschreibung || ''}</div>`;
    html += `<div style="margin-top: 0.5rem;">`;
    html += `<span style="color: ${v.staerke > 0.7 ? '#4CAF50' : v.staerke > 0.4 ? '#FF9800' : '#f44336'};">`;
    html += `St√§rke: ${Math.round(v.staerke * 100)}%</span>`;
    html += `</div>`;
    html += `</div>`;
  } else {
    html += `<div class="reaktor-verbindung keine">`;
    html += `<div style="color: #888;">Keine direkte Verbindung dokumentiert</div>`;
    html += `<div style="font-size: 0.8rem; color: #666; margin-top: 0.5rem;">`;
    html += `Achsen-Distanz: ${analyse.achsenDistanz !== null ? analyse.achsenDistanz + ' Schritte' : 'verschiedene Achsen'}`;
    html += `</div>`;
    html += `</div>`;
  }
  html += '</div>';
  
  // Sektion 2: Gemeinsame Nachbarn
  html += '<div class="reaktor-section">';
  html += '<h3>Gemeinsame Nachbarn</h3>';
  
  if (analyse.gemeinsameNachbarn.length > 0) {
    html += '<div class="reaktor-nachbarn">';
    analyse.gemeinsameNachbarn.forEach(n => {
      html += `<span class="reaktor-nachbar" onclick="openReaktor('${idA}', '${n.id}')">${n.name}</span>`;
    });
    html += '</div>';
    html += `<div style="font-size: 0.75rem; color: #666; margin-top: 0.5rem;">`;
    html += `Diese Positionen sind mit beiden verbunden`;
    html += `</div>`;
  } else {
    html += `<div style="color: #666; font-size: 0.9rem;">Keine gemeinsamen Nachbarn</div>`;
  }
  
  // K√ºrzester Pfad
  if (analyse.pfad && analyse.pfad.length > 2) {
    html += `<div style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid #333;">`;
    html += `<div style="font-size: 0.75rem; color: #888; margin-bottom: 0.5rem;">K√ºrzester Pfad (${analyse.pfad.length - 1} Schritte):</div>`;
    html += `<div style="font-size: 0.85rem; color: #aaa;">`;
    html += analyse.pfad.map(id => knotenData[id]?.name || id).join(' ‚Üí ');
    html += `</div></div>`;
  }
  html += '</div>';
  
  // Sektion 3: Synthese-Versuch
  html += '<div class="reaktor-section">';
  html += '<h3>Synthese / Spannung</h3>';
  
  const synthese = generiereSynthese(a, b, analyse);
  html += `<div class="reaktor-synthese">${synthese.text}</div>`;
  
  if (synthese.frage) {
    html += `<div class="reaktor-frage">${synthese.frage}</div>`;
  }
  
  // Gemeinsame Bewohner
  if (analyse.gemeinsamePersonen.length > 0) {
    html += `<div style="margin-top: 1rem; font-size: 0.85rem;">`;
    html += `<span style="color: #888;">Personen in beiden:</span> `;
    html += `<span style="color: #ccc;">${analyse.gemeinsamePersonen.join(', ')}</span>`;
    html += `</div>`;
  }
  
  html += '</div>';
  
  document.getElementById('reaktor-body').innerHTML = html;
  document.getElementById('reaktor-panel').classList.add('open');
  closePanel(); // Detail-Panel schlie√üen
}

function closeReaktor() {
  document.getElementById('reaktor-panel').classList.remove('open');
}

function analysiereVerbindung(idA, idB) {
  const a = knotenData[idA];
  const b = knotenData[idB];
  
  // Direkte Verbindung?
  const direkteVerbindung = verbindungenData.find(v => 
    (v.von === idA && v.zu === idB) || (v.von === idB && v.zu === idA)
  );
  
  // Nachbarn von A und B
  const nachbarnA = new Set();
  const nachbarnB = new Set();
  
  verbindungenData.forEach(v => {
    if (v.von === idA) nachbarnA.add(v.zu);
    if (v.zu === idA) nachbarnA.add(v.von);
    if (v.von === idB) nachbarnB.add(v.zu);
    if (v.zu === idB) nachbarnB.add(v.von);
  });
  
  // Gemeinsame Nachbarn
  const gemeinsameNachbarn = [...nachbarnA].filter(id => nachbarnB.has(id))
    .map(id => ({ id, name: knotenData[id]?.name }))
    .filter(n => n.name);
  
  // Achsen-Distanz (wenn gleiche Achse)
  let achsenDistanz = null;
  if (a.achse === b.achse) {
    achsenDistanz = Math.abs(a.position - b.position);
  }
  
  // Gemeinsame Personen
  const personenA = new Set([
    ...(a.bewohner?.klassiker || []),
    ...(a.bewohner?.zeitgenossen || [])
  ].map(p => p.replace(/\s*\([^)]*\)/, '')));
  
  const personenB = new Set([
    ...(b.bewohner?.klassiker || []),
    ...(b.bewohner?.zeitgenossen || [])
  ].map(p => p.replace(/\s*\([^)]*\)/, '')));
  
  const gemeinsamePersonen = [...personenA].filter(p => personenB.has(p));
  
  // K√ºrzester Pfad (BFS)
  const pfad = findeK√ºrzestenPfad(idA, idB);
  
  return {
    direkteVerbindung,
    gemeinsameNachbarn,
    achsenDistanz,
    gemeinsamePersonen,
    pfad
  };
}

function findeK√ºrzestenPfad(startId, zielId) {
  const queue = [[startId]];
  const visited = new Set([startId]);
  
  while (queue.length > 0) {
    const pfad = queue.shift();
    const current = pfad[pfad.length - 1];
    
    if (current === zielId) return pfad;
    
    // Nachbarn finden
    const nachbarn = [];
    verbindungenData.forEach(v => {
      if (v.von === current && !visited.has(v.zu)) nachbarn.push(v.zu);
      if (v.zu === current && !visited.has(v.von)) nachbarn.push(v.von);
    });
    
    nachbarn.forEach(n => {
      visited.add(n);
      queue.push([...pfad, n]);
    });
    
    // Abbruch bei zu langen Pfaden
    if (pfad.length > 10) return null;
  }
  
  return null;
}

function generiereSynthese(a, b, analyse) {
  // Verschiedene Synthese-Typen basierend auf der Beziehung
  
  // Gleiche Achse = Spektrum
  if (a.achse === b.achse) {
    const distanz = Math.abs(a.position - b.position);
    if (distanz <= 1) {
      return {
        text: `${a.name} und ${b.name} sind Nachbarn auf der ${a.achse}-Achse. Sie teilen Grundannahmen, unterscheiden sich aber in der Intensit√§t oder Konsequenz.`,
        frage: `Was genau ist der Unterschied? Ist es eine Frage des Grades oder des Prinzips?`
      };
    } else if (distanz >= 3) {
      return {
        text: `${a.name} und ${b.name} markieren gegens√§tzliche Pole derselben Frage. Die Spannung zwischen ihnen definiert das gesamte Spektrum der ${a.achse}-Debatte.`,
        frage: `Gibt es eine Position in der Mitte, die beide vers√∂hnt ‚Äì oder ist die Spannung unaufl√∂sbar?`
      };
    }
  }
  
  // Debatte
  if (analyse.direkteVerbindung?.typ === 'debatte') {
    return {
      text: `Hier treffen historische Gegner aufeinander. Die Debatte zwischen ${a.name} und ${b.name} hat die Linke gepr√§gt und gespalten.`,
      frage: `Wer hatte recht? Oder ist die Frage falsch gestellt?`
    };
  }
  
  // Hohe Affinit√§t
  if (analyse.direkteVerbindung?.staerke > 0.8) {
    return {
      text: `${a.name} und ${b.name} geh√∂ren zusammen wie zwei Seiten einer Medaille. Wer das eine denkt, denkt meist auch das andere.`,
      frage: `Muss das so sein? Kann man das eine ohne das andere haben?`
    };
  }
  
  // Gemeinsame Nachbarn
  if (analyse.gemeinsameNachbarn.length > 0) {
    const br√ºcken = analyse.gemeinsameNachbarn.slice(0, 3).map(n => n.name).join(', ');
    return {
      text: `${a.name} und ${b.name} haben keine direkte Verbindung, aber gemeinsame Nachbarn: ${br√ºcken}. Diese k√∂nnten als Br√ºcke dienen.`,
      frage: `Was w√ºrde passieren, wenn jemand versucht, ${a.name} und ${b.name} direkt zu verbinden?`
    };
  }
  
  // Verschiedene Achsen, keine Verbindung
  return {
    text: `${a.name} (${a.achse}) und ${b.name} (${b.achse}) bewegen sich auf verschiedenen Achsen des Denkens. Ihre Begegnung w√§re ein Experiment.`,
    frage: `Was w√ºrde ${a.bewohner?.klassiker?.[0]?.replace(/\s*\([^)]*\)/, '') || 'ein Vertreter von ' + a.name} zu ${b.name} sagen?`
  };
}
  </script>
</body>
</html>
